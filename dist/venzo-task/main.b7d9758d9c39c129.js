"use strict";(self.webpackChunkvenzo_task=self.webpackChunkvenzo_task||[]).push([[179],{2011:(Je,Ee,k)=>{k.d(Ee,{Dh:()=>ce,GT:()=>le,cc:()=>Te,hO:()=>xe,on:()=>B,pX:()=>ie,xv:()=>ue});var u=k(4650),J=k(127),R=k(5813);Je=k.hmd(Je);const se=["ngOnDestroy"],ie=(he,We,Ke,Ie={})=>new Proxy(he,{get:(me,Ce)=>Ke.runOutsideAngular(()=>{var ke;if(he[Ce])return!(null===(ke=Ie?.spy)||void 0===ke)&&ke.get&&Ie.spy.get(Ce,he[Ce]),he[Ce];if(se.indexOf(Ce)>-1)return()=>{};const Fe=We.toPromise().then(U=>{const pe=U&&U[Ce];return"function"==typeof pe?pe.bind(U):pe&&pe.then?pe.then(z=>Ke.run(()=>z)):Ke.run(()=>pe)});return new Proxy(()=>{},{get:(U,pe)=>Fe[pe],apply:(U,pe,z)=>Fe.then(Q=>{var re;const ne=Q&&Q(...z);return!(null===(re=Ie?.spy)||void 0===re)&&re.apply&&Ie.spy.apply(Ce,z,ne),ne})})})}),le=(he,We)=>{We.forEach(Ke=>{Object.getOwnPropertyNames(Ke.prototype||Ke).forEach(Ie=>{Object.defineProperty(he.prototype,Ie,Object.getOwnPropertyDescriptor(Ke.prototype||Ke,Ie))})})};class oe{constructor(We){return We}}const ce=new u.OlP("angularfire2.app.options"),ue=new u.OlP("angularfire2.app.name");function B(he,We,Ke){const me="object"==typeof Ke&&Ke||{};me.name=me.name||"string"==typeof Ke&&Ke||"[DEFAULT]";const ke=J.Z.apps.filter(Fe=>Fe&&Fe.name===me.name)[0]||We.runOutsideAngular(()=>J.Z.initializeApp(he,me));try{JSON.stringify(he)!==JSON.stringify(ke.options)&&H("error",`${ke.name} Firebase App already initialized with different options${Je.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new oe(ke)}const H=(he,...We)=>{(0,u.X6Q)()&&typeof console<"u"&&console[he](...We)},q={provide:oe,useFactory:B,deps:[ce,u.R0b,[new u.FiY,ue]]};let xe=(()=>{class he{constructor(Ke){J.Z.registerVersion("angularfire",R.q4.full,"core"),J.Z.registerVersion("angularfire",R.q4.full,"app-compat"),J.Z.registerVersion("angular",u.q4F.full,Ke.toString())}static initializeApp(Ke,Ie){return{ngModule:he,providers:[{provide:ce,useValue:Ke},{provide:ue,useValue:Ie}]}}}return he.\u0275fac=function(Ke){return new(Ke||he)(u.LFG(u.Lbi))},he.\u0275mod=u.oAB({type:he}),he.\u0275inj=u.cJS({providers:[q]}),he})();function Te(he,We,Ke,Ie,me){const[,Ce,ke]=globalThis.\u0275AngularfireInstanceCache.find(Fe=>Fe[0]===he)||[];if(Ce)return function ye(he,We){try{return he.toString()===We.toString()}catch{return he===We}}(me,ke)||(ge("error",`${We} was already initialized on the ${Ke} Firebase App with different settings.${Ze?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:me,was:ke})),Ce;{const Fe=Ie();return globalThis.\u0275AngularfireInstanceCache.push([he,Fe,me]),Fe}}const Ze=!!Je.hot,ge=(he,...We)=>{(0,u.X6Q)()&&typeof console<"u"&&console[he](...We)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Je,Ee,k)=>{k.d(Ee,{q4:()=>st,iC:()=>Ri,HU:()=>_o,vb:()=>rs,JM:()=>aa});var u=k(4650),J=k(5867),R=k(5861),se=k(9681),ie=k(2090),le=k(4859),oe=k(1877),ce=k(8766);const ue="@firebase/installations",B="0.5.16",q=`w:${B}`,xe="FIS_v2",We=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ke(b){return b instanceof ie.ZR&&b.code.includes("request-failed")}function Ie({projectId:b}){return`https://firebaseinstallations.googleapis.com/v1/projects/${b}/installations`}function me(b){return{token:b.token,requestStatus:2,expiresIn:Q(b.expiresIn),creationTime:Date.now()}}function Ce(b,D){return ke.apply(this,arguments)}function ke(){return(ke=(0,R.Z)(function*(b,D){const L=(yield D.json()).error;return We.create("request-failed",{requestName:b,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function Fe({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function U(b,{refreshToken:D}){const M=Fe(b);return M.append("Authorization",function re(b){return`${xe} ${b}`}(D)),M}function pe(b){return z.apply(this,arguments)}function z(){return(z=(0,R.Z)(function*(b){const D=yield b();return D.status>=500&&D.status<600?b():D})).apply(this,arguments)}function Q(b){return Number(b.replace("s","000"))}function ne(b,D){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,R.Z)(function*({appConfig:b,heartbeatServiceProvider:D},{fid:M}){const L=Ie(b),K=Fe(b),te=D.getImmediate({optional:!0});if(te){const ut=yield te.getHeartbeatsHeader();ut&&K.append("x-firebase-client",ut)}const Me={method:"POST",headers:K,body:JSON.stringify({fid:M,authVersion:xe,appId:b.appId,sdkVersion:q})},qe=yield pe(()=>fetch(L,Me));if(qe.ok){const ut=yield qe.json();return{fid:ut.fid||M,registrationStatus:2,refreshToken:ut.refreshToken,authToken:me(ut.authToken)}}throw yield Ce("Create Installation",qe)})).apply(this,arguments)}function Pe(b){return new Promise(D=>{setTimeout(D,b)})}const Ut=/^[cdef][\w-]{21}$/;function Be(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const M=function zt(b){return function et(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return Ut.test(M)?M:""}catch{return""}}function nn(b){return`${b.appName}!${b.appId}`}const Lt=new Map;function Bt(b,D){const M=nn(b);Zt(M,D),function vi(b,D){const M=function or(){return!Vr&&"BroadcastChannel"in self&&(Vr=new BroadcastChannel("[Firebase] FID Change"),Vr.onmessage=b=>{Zt(b.data.key,b.data.fid)}),Vr}();M&&M.postMessage({key:b,fid:D}),function ar(){0===Lt.size&&Vr&&(Vr.close(),Vr=null)}()}(M,D)}function Zt(b,D){const M=Lt.get(b);if(M)for(const L of M)L(D)}let Vr=null;const gr="firebase-installations-store";let Dr=null;function Js(){return Dr||(Dr=(0,ce.X3)("firebase-installations-database",1,{upgrade:(b,D)=>{0===D&&b.createObjectStore(gr)}})),Dr}function je(b,D){return er.apply(this,arguments)}function er(){return(er=(0,R.Z)(function*(b,D){const M=nn(b),K=(yield Js()).transaction(gr,"readwrite"),te=K.objectStore(gr),ve=yield te.get(M);return yield te.put(D,M),yield K.done,(!ve||ve.fid!==D.fid)&&Bt(b,D.fid),D})).apply(this,arguments)}function $i(b){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,R.Z)(function*(b){const D=nn(b),L=(yield Js()).transaction(gr,"readwrite");yield L.objectStore(gr).delete(D),yield L.done})).apply(this,arguments)}function Ir(b,D){return ti.apply(this,arguments)}function ti(){return(ti=(0,R.Z)(function*(b,D){const M=nn(b),K=(yield Js()).transaction(gr,"readwrite"),te=K.objectStore(gr),ve=yield te.get(M),Me=D(ve);return void 0===Me?yield te.delete(M):yield te.put(Me,M),yield K.done,Me&&(!ve||ve.fid!==Me.fid)&&Bt(b,Me.fid),Me})).apply(this,arguments)}function _n(b){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,R.Z)(function*(b){let D;const M=yield Ir(b.appConfig,L=>{const K=en(L),te=ot(b,K);return D=te.registrationPromise,te.installationEntry});return""===M.fid?{installationEntry:yield D}:{installationEntry:M,registrationPromise:D}})).apply(this,arguments)}function en(b){return gt(b||{fid:Be(),registrationStatus:0})}function ot(b,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(We.create("app-offline"))};const M={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},L=function Qe(b,D){return $t.apply(this,arguments)}(b,M);return{installationEntry:M,registrationPromise:L}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:Bn(b)}:{installationEntry:D}}function $t(){return($t=(0,R.Z)(function*(b,D){try{const M=yield ne(b,D);return je(b.appConfig,M)}catch(M){throw Ke(M)&&409===M.customData.serverCode?yield $i(b.appConfig):yield je(b.appConfig,{fid:D.fid,registrationStatus:0}),M}})).apply(this,arguments)}function Bn(b){return bn.apply(this,arguments)}function bn(){return(bn=(0,R.Z)(function*(b){let D=yield mr(b.appConfig);for(;1===D.registrationStatus;)yield Pe(100),D=yield mr(b.appConfig);if(0===D.registrationStatus){const{installationEntry:M,registrationPromise:L}=yield _n(b);return L||M}return D})).apply(this,arguments)}function mr(b){return Ir(b,D=>{if(!D)throw We.create("installation-not-found");return gt(D)})}function gt(b){return function Ci(b){return 1===b.registrationStatus&&b.registrationTime+1e4<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function Ht(b,D){return Br.apply(this,arguments)}function Br(){return(Br=(0,R.Z)(function*({appConfig:b,heartbeatServiceProvider:D},M){const L=jt(b,M),K=U(b,M),te=D.getImmediate({optional:!0});if(te){const ut=yield te.getHeartbeatsHeader();ut&&K.append("x-firebase-client",ut)}const Me={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:q,appId:b.appId}})},qe=yield pe(()=>fetch(L,Me));if(qe.ok)return me(yield qe.json());throw yield Ce("Generate Auth Token",qe)})).apply(this,arguments)}function jt(b,{fid:D}){return`${Ie(b)}/${D}/authTokens:generate`}function kn(b){return lr.apply(this,arguments)}function lr(){return(lr=(0,R.Z)(function*(b,D=!1){let M;const L=yield Ir(b.appConfig,te=>{if(!bt(te))throw We.create("not-registered");const ve=te.authToken;if(!D&&j(ve))return te;if(1===ve.requestStatus)return M=ze(b,D),te;{if(!navigator.onLine)throw We.create("app-offline");const Me=Z(te);return M=ht(b,Me),Me}});return M?yield M:L.authToken})).apply(this,arguments)}function ze(b,D){return we.apply(this,arguments)}function we(){return(we=(0,R.Z)(function*(b,D){let M=yield Ge(b.appConfig);for(;1===M.authToken.requestStatus;)yield Pe(100),M=yield Ge(b.appConfig);const L=M.authToken;return 0===L.requestStatus?kn(b,D):L})).apply(this,arguments)}function Ge(b){return Ir(b,D=>{if(!bt(D))throw We.create("not-registered");return function _e(b){return 1===b.requestStatus&&b.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function ht(b,D){return ct.apply(this,arguments)}function ct(){return(ct=(0,R.Z)(function*(b,D){try{const M=yield Ht(b,D),L=Object.assign(Object.assign({},D),{authToken:M});return yield je(b.appConfig,L),M}catch(M){if(!Ke(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const L=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield je(b.appConfig,L)}else yield $i(b.appConfig);throw M}})).apply(this,arguments)}function bt(b){return void 0!==b&&2===b.registrationStatus}function j(b){return 2===b.requestStatus&&!function V(b){const D=Date.now();return D<b.creationTime||b.creationTime+b.expiresIn<D+36e5}(b)}function Z(b){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:D})}function Ve(){return(Ve=(0,R.Z)(function*(b){const D=b,{installationEntry:M,registrationPromise:L}=yield _n(D);return L?L.catch(console.error):kn(D).catch(console.error),M.fid})).apply(this,arguments)}function Vt(){return(Vt=(0,R.Z)(function*(b,D=!1){const M=b;return yield Jt(M),(yield kn(M,D)).token})).apply(this,arguments)}function Jt(b){return kt.apply(this,arguments)}function kt(){return(kt=(0,R.Z)(function*(b){const{registrationPromise:D}=yield _n(b);D&&(yield D)})).apply(this,arguments)}function Wi(b){return We.create("missing-app-config-values",{valueName:b})}const Xs="installations",ln=b=>{const D=b.getProvider("app").getImmediate(),M=function rn(b){if(!b||!b.options)throw Wi("App Configuration");if(!b.name)throw Wi("App Name");const D=["projectId","apiKey","appId"];for(const M of D)if(!b.options[M])throw Wi(M);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(D);return{app:D,appConfig:M,heartbeatServiceProvider:(0,se._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},_s=b=>{const D=b.getProvider("app").getImmediate(),M=(0,se._getProvider)(D,Xs).getImmediate();return{getId:()=>function Y(b){return Ve.apply(this,arguments)}(M),getToken:K=>function tt(b){return Vt.apply(this,arguments)}(M,K)}};(function Ma(){(0,se._registerComponent)(new le.wA(Xs,ln,"PUBLIC")),(0,se._registerComponent)(new le.wA("installations-internal",_s,"PRIVATE"))})(),(0,se.registerVersion)(ue,B),(0,se.registerVersion)(ue,B,"esm2017");const ni="@firebase/remote-config",xn=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Fd{constructor(D,M,L,K){this.client=D,this.storage=M,this.storageCache=L,this.logger=K}isCachedDataFresh(D,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-M,K=L<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${K}.`),K}fetch(D){var M=this;return(0,R.Z)(function*(){const[L,K]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(K&&M.isCachedDataFresh(D.cacheMaxAgeMillis,L))return K;D.eTag=K&&K.eTag;const te=yield M.client.fetch(D),ve=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===te.status&&ve.push(M.storage.setLastSuccessfulFetchResponse(te)),yield Promise.all(ve),te})()}}function Wl(b=navigator){return b.languages&&b.languages[0]||b.language}class Gl{constructor(D,M,L,K,te,ve){this.firebaseInstallations=D,this.sdkVersion=M,this.namespace=L,this.projectId=K,this.apiKey=te,this.appId=ve}fetch(D){var M=this;return(0,R.Z)(function*(){var L,K,te;const[ve,Me]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),ut=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,vt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},rt={sdk_version:M.sdkVersion,app_instance_id:ve,app_instance_id_token:Me,app_id:M.appId,language_code:Wl()},dn={method:"POST",headers:vt,body:JSON.stringify(rt)},Qn=fetch(ut,dn),yo=new Promise((vo,Rs)=>{D.signal.addEventListener(()=>{const zr=new Error("The operation was aborted.");zr.name="AbortError",Rs(zr)})});let ss;try{yield Promise.race([Qn,yo]),ss=yield Qn}catch(vo){let Rs="fetch-client-network";throw"AbortError"===(null===(L=vo)||void 0===L?void 0:L.name)&&(Rs="fetch-timeout"),xn.create(Rs,{originalErrorMessage:null===(K=vo)||void 0===K?void 0:K.message})}let yt=ss.status;const ai=ss.headers.get("ETag")||void 0;let os,Or;if(200===ss.status){let vo;try{vo=yield ss.json()}catch(Rs){throw xn.create("fetch-client-parse",{originalErrorMessage:null===(te=Rs)||void 0===te?void 0:te.message})}os=vo.entries,Or=vo.state}if("INSTANCE_STATE_UNSPECIFIED"===Or?yt=500:"NO_CHANGE"===Or?yt=304:("NO_TEMPLATE"===Or||"EMPTY_CONFIG"===Or)&&(os={}),304!==yt&&200!==yt)throw xn.create("fetch-status",{httpStatus:yt});return{status:yt,eTag:ai,config:os}})()}}class yf{constructor(D,M){this.client=D,this.storage=M}fetch(D){var M=this;return(0,R.Z)(function*(){const L=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(D,L)})()}attemptFetch(D,{throttleEndTimeMillis:M,backoffCount:L}){var K=this;return(0,R.Z)(function*(){yield function Ln(b,D){return new Promise((M,L)=>{const K=Math.max(D-Date.now(),0),te=setTimeout(M,K);b.addEventListener(()=>{clearTimeout(te),L(xn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,M);try{const te=yield K.client.fetch(D);return yield K.storage.deleteThrottleMetadata(),te}catch(te){if(!function su(b){if(!(b instanceof ie.ZR&&b.customData))return!1;const D=Number(b.customData.httpStatus);return 429===D||500===D||503===D||504===D}(te))throw te;const ve={throttleEndTimeMillis:Date.now()+(0,ie.$s)(L),backoffCount:L+1};return yield K.storage.setThrottleMetadata(ve),K.attemptFetch(D,ve)}})()}}class ou{constructor(D,M,L,K,te){this.app=D,this._client=M,this._storageCache=L,this._storage=K,this._logger=te,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function zl(b,D){var M;const L=b.target.error||void 0;return xn.create(D,{originalErrorMessage:L&&(null===(M=L)||void 0===M?void 0:M.message)})}const qi="app_namespace_store";class Ld{constructor(D,M,L,K=function Ef(){return new Promise((b,D)=>{var M;try{const L=indexedDB.open("firebase_remote_config",1);L.onerror=K=>{D(zl(K,"storage-open"))},L.onsuccess=K=>{b(K.target.result)},L.onupgradeneeded=K=>{0===K.oldVersion&&K.target.result.createObjectStore(qi,{keyPath:"compositeKey"})}}catch(L){D(xn.create("storage-open",{originalErrorMessage:null===(M=L)||void 0===M?void 0:M.message}))}})}()){this.appId=D,this.appName=M,this.namespace=L,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var M=this;return(0,R.Z)(function*(){const L=yield M.openDbPromise;return new Promise((K,te)=>{var ve;const qe=L.transaction([qi],"readonly").objectStore(qi),ut=M.createCompositeKey(D);try{const vt=qe.get(ut);vt.onerror=rt=>{te(zl(rt,"storage-get"))},vt.onsuccess=rt=>{const dn=rt.target.result;K(dn?dn.value:void 0)}}catch(vt){te(xn.create("storage-get",{originalErrorMessage:null===(ve=vt)||void 0===ve?void 0:ve.message}))}})})()}set(D,M){var L=this;return(0,R.Z)(function*(){const K=yield L.openDbPromise;return new Promise((te,ve)=>{var Me;const ut=K.transaction([qi],"readwrite").objectStore(qi),vt=L.createCompositeKey(D);try{const rt=ut.put({compositeKey:vt,value:M});rt.onerror=dn=>{ve(zl(dn,"storage-set"))},rt.onsuccess=()=>{te()}}catch(rt){ve(xn.create("storage-set",{originalErrorMessage:null===(Me=rt)||void 0===Me?void 0:Me.message}))}})})()}delete(D){var M=this;return(0,R.Z)(function*(){const L=yield M.openDbPromise;return new Promise((K,te)=>{var ve;const qe=L.transaction([qi],"readwrite").objectStore(qi),ut=M.createCompositeKey(D);try{const vt=qe.delete(ut);vt.onerror=rt=>{te(zl(rt,"storage-delete"))},vt.onsuccess=()=>{K()}}catch(vt){te(xn.create("storage-delete",{originalErrorMessage:null===(ve=vt)||void 0===ve?void 0:ve.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class lu{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,R.Z)(function*(){const M=D.storage.getLastFetchStatus(),L=D.storage.getLastSuccessfulFetchTimestampMillis(),K=D.storage.getActiveConfig(),te=yield M;te&&(D.lastFetchStatus=te);const ve=yield L;ve&&(D.lastSuccessfulFetchTimestampMillis=ve);const Me=yield K;Me&&(D.activeConfig=Me)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Oa(){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,R.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}!function Ki(){(0,se._registerComponent)(new le.wA("remote-config",function b(D,{instanceIdentifier:M}){const L=D.getProvider("app").getImmediate(),K=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw xn.create("registration-window");if(!(0,ie.hl)())throw xn.create("indexed-db-unavailable");const{projectId:te,apiKey:ve,appId:Me}=L.options;if(!te)throw xn.create("registration-project-id");if(!ve)throw xn.create("registration-api-key");if(!Me)throw xn.create("registration-app-id");const qe=new Ld(Me,L.name,M=M||"firebase"),ut=new lu(qe),vt=new oe.Yd(ni);vt.logLevel=oe.in.ERROR;const rt=new Gl(K,se.SDK_VERSION,M,te,ve,Me),dn=new yf(rt,qe),Qn=new Fd(dn,qe,ut,vt),yo=new ou(L,Qn,ut,qe,vt);return function jn(b){const D=(0,ie.m9)(b);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(yo),yo},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(ni,"0.3.15"),(0,se.registerVersion)(ni,"0.3.15","esm2017")}();const ri="/firebase-messaging-sw.js",wi="/firebase-cloud-messaging-push-scope",bi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Bo="google.c.a.c_id",xa="google.c.a.c_l",Zl="google.c.a.ts",Ud="google.c.a.e";var Di=(()=>{return(b=Di||(Di={})).PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",Di;var b})();function Tr(b){const D=new Uint8Array(b);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function yr(b){const M=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(M),K=new Uint8Array(L.length);for(let te=0;te<L.length;++te)K[te]=L.charCodeAt(te);return K}const to="fcm_token_details_db",nr="fcm_token_object_Store";function Bd(b){return Hd.apply(this,arguments)}function Hd(){return Hd=(0,R.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(te=>te.name).includes(to))return null;let D=null;return(yield(0,ce.X3)(to,5,{upgrade:(L=(0,R.Z)(function*(K,te,ve,Me){var qe;if(te<2||!K.objectStoreNames.contains(nr))return;const ut=Me.objectStore(nr),vt=yield ut.index("fcmSenderId").get(b);if(yield ut.clear(),vt)if(2===te){const rt=vt;if(!rt.auth||!rt.p256dh||!rt.endpoint)return;D={token:rt.fcmToken,createTime:null!==(qe=rt.createTime)&&void 0!==qe?qe:Date.now(),subscriptionOptions:{auth:rt.auth,p256dh:rt.p256dh,endpoint:rt.endpoint,swScope:rt.swScope,vapidKey:"string"==typeof rt.vapidKey?rt.vapidKey:Tr(rt.vapidKey)}}}else if(3===te){const rt=vt;D={token:rt.fcmToken,createTime:rt.createTime,subscriptionOptions:{auth:Tr(rt.auth),p256dh:Tr(rt.p256dh),endpoint:rt.endpoint,swScope:rt.swScope,vapidKey:Tr(rt.vapidKey)}}}else if(4===te){const rt=vt;D={token:rt.fcmToken,createTime:rt.createTime,subscriptionOptions:{auth:Tr(rt.auth),p256dh:Tr(rt.p256dh),endpoint:rt.endpoint,swScope:rt.swScope,vapidKey:Tr(rt.vapidKey)}}}}),function(te,ve,Me,qe){return L.apply(this,arguments)})})).close(),yield(0,ce.Lj)(to),yield(0,ce.Lj)("fcm_vapid_details_db"),yield(0,ce.Lj)("undefined"),yn(D)?D:null;var L}),Hd.apply(this,arguments)}function yn(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:D}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const Sr="firebase-messaging-store";let ur=null;function Na(){return ur||(ur=(0,ce.X3)("firebase-messaging-database",1,{upgrade:(b,D)=>{0===D&&b.createObjectStore(Sr)}})),ur}function no(b){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,R.Z)(function*(b){const D=jr(b),L=yield(yield Na()).transaction(Sr).objectStore(Sr).get(D);if(L)return L;{const K=yield Bd(b.appConfig.senderId);if(K)return yield Ft(b,K),K}})).apply(this,arguments)}function Ft(b,D){return ka.apply(this,arguments)}function ka(){return(ka=(0,R.Z)(function*(b,D){const M=jr(b),K=(yield Na()).transaction(Sr,"readwrite");return yield K.objectStore(Sr).put(D,M),yield K.done,D})).apply(this,arguments)}function Es(b){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,R.Z)(function*(b){const D=jr(b),L=(yield Na()).transaction(Sr,"readwrite");yield L.objectStore(Sr).delete(D),yield L.done})).apply(this,arguments)}function jr({appConfig:b}){return b.appId}const pn=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function mt(b,D){return Va.apply(this,arguments)}function Va(){return(Va=(0,R.Z)(function*(b,D){var M;const L=yield Kl(b),K=be(D),te={method:"POST",headers:L,body:JSON.stringify(K)};let ve;try{ve=yield(yield fetch(Ti(b.appConfig),te)).json()}catch(Me){throw pn.create("token-subscribe-failed",{errorInfo:null===(M=Me)||void 0===M?void 0:M.toString()})}if(ve.error)throw pn.create("token-subscribe-failed",{errorInfo:ve.error.message});if(!ve.token)throw pn.create("token-subscribe-no-token");return ve.token})).apply(this,arguments)}function $d(b,D){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,R.Z)(function*(b,D){var M;const L=yield Kl(b),K=be(D.subscriptionOptions),te={method:"PATCH",headers:L,body:JSON.stringify(K)};let ve;try{ve=yield(yield fetch(`${Ti(b.appConfig)}/${D.token}`,te)).json()}catch(Me){throw pn.create("token-update-failed",{errorInfo:null===(M=Me)||void 0===M?void 0:M.toString()})}if(ve.error)throw pn.create("token-update-failed",{errorInfo:ve.error.message});if(!ve.token)throw pn.create("token-update-no-token");return ve.token})).apply(this,arguments)}function Ba(b,D){return ql.apply(this,arguments)}function ql(){return(ql=(0,R.Z)(function*(b,D){var M;const K={method:"DELETE",headers:yield Kl(b)};try{const ve=yield(yield fetch(`${Ti(b.appConfig)}/${D}`,K)).json();if(ve.error)throw pn.create("token-unsubscribe-failed",{errorInfo:ve.error.message})}catch(te){throw pn.create("token-unsubscribe-failed",{errorInfo:null===(M=te)||void 0===M?void 0:M.toString()})}})).apply(this,arguments)}function Ti({projectId:b}){return`https://fcmregistrations.googleapis.com/v1/projects/${b}/registrations`}function Kl(b){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,R.Z)(function*({appConfig:b,installations:D}){const M=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function be({p256dh:b,auth:D,endpoint:M,vapidKey:L}){const K={web:{endpoint:M,auth:D,p256dh:b}};return L!==bi&&(K.web.applicationPubKey=L),K}const At=6048e5;function Ha(b){return ja.apply(this,arguments)}function ja(){return(ja=(0,R.Z)(function*(b){const D=yield Yl(b.swRegistration,b.vapidKey),M={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:D.endpoint,auth:Tr(D.getKey("auth")),p256dh:Tr(D.getKey("p256dh"))},L=yield no(b.firebaseDependencies);if(L){if(hu(L.subscriptionOptions,M))return Date.now()>=L.createTime+At?ro(b,{token:L.token,createTime:Date.now(),subscriptionOptions:M}):L.token;try{yield Ba(b.firebaseDependencies,L.token)}catch(K){console.warn(K)}return jo(b.firebaseDependencies,M)}return jo(b.firebaseDependencies,M)})).apply(this,arguments)}function vn(b){return $a.apply(this,arguments)}function $a(){return($a=(0,R.Z)(function*(b){const D=yield no(b.firebaseDependencies);D&&(yield Ba(b.firebaseDependencies,D.token),yield Es(b.firebaseDependencies));const M=yield b.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function ro(b,D){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,R.Z)(function*(b,D){try{const M=yield $d(b.firebaseDependencies,D),L=Object.assign(Object.assign({},D),{token:M,createTime:Date.now()});return yield Ft(b.firebaseDependencies,L),M}catch(M){throw yield vn(b),M}})).apply(this,arguments)}function jo(b,D){return $o.apply(this,arguments)}function $o(){return($o=(0,R.Z)(function*(b,D){const L={token:yield mt(b,D),createTime:Date.now(),subscriptionOptions:D};return yield Ft(b,L),L.token})).apply(this,arguments)}function Yl(b,D){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,R.Z)(function*(b,D){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:yr(D)})})).apply(this,arguments)}function hu(b,D){return D.vapidKey===b.vapidKey&&D.endpoint===b.endpoint&&D.auth===b.auth&&D.p256dh===b.p256dh}function Wo(b){const D={from:b.from,collapseKey:b.collapse_key,messageId:b.fcmMessageId};return function Cn(b,D){if(!D.notification)return;b.notification={};const M=D.notification.title;M&&(b.notification.title=M);const L=D.notification.body;L&&(b.notification.body=L);const K=D.notification.image;K&&(b.notification.image=K);const te=D.notification.icon;te&&(b.notification.icon=te)}(D,b),function ii(b,D){!D.data||(b.data=D.data)}(D,b),function Jl(b,D){var M,L,K,te,ve;if(!(D.fcmOptions||null!==(M=D.notification)&&void 0!==M&&M.click_action))return;b.fcmOptions={};const Me=null!==(K=null===(L=D.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==K?K:null===(te=D.notification)||void 0===te?void 0:te.click_action;Me&&(b.fcmOptions.link=Me);const qe=null===(ve=D.fcmOptions)||void 0===ve?void 0:ve.analytics_label;qe&&(b.fcmOptions.analyticsLabel=qe)}(D,b),D}function ws(b){return"object"==typeof b&&!!b&&Bo in b}function Si(b,D){const M=[];for(let L=0;L<b.length;L++)M.push(b.charAt(L)),L<D.length&&M.push(D.charAt(L));return M.join("")}function Go(b){return pn.create("missing-app-config-values",{valueName:b})}Si("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Si("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class bf{constructor(D,M,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function wf(b){if(!b||!b.options)throw Go("App Configuration Object");if(!b.name)throw Go("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:M}=b;for(const L of D)if(!M[L])throw Go(L);return{appName:b.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:K,installations:M,analyticsProvider:L}}_delete(){return Promise.resolve()}}function Xl(b){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,R.Z)(function*(b){var D;try{b.swRegistration=yield navigator.serviceWorker.register(ri,{scope:wi}),b.swRegistration.update().catch(()=>{})}catch(M){throw pn.create("failed-service-worker-registration",{browserErrorMessage:null===(D=M)||void 0===D?void 0:D.message})}})).apply(this,arguments)}function zo(b,D){return ec.apply(this,arguments)}function ec(){return(ec=(0,R.Z)(function*(b,D){if(!D&&!b.swRegistration&&(yield Xl(b)),D||!b.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw pn.create("invalid-sw-registration");b.swRegistration=D}})).apply(this,arguments)}function Zo(b,D){return tc.apply(this,arguments)}function tc(){return(tc=(0,R.Z)(function*(b,D){D?b.vapidKey=D:b.vapidKey||(b.vapidKey=bi)})).apply(this,arguments)}function za(){return(za=(0,R.Z)(function*(b,D){if(!navigator)throw pn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw pn.create("permission-blocked");return yield Zo(b,D?.vapidKey),yield zo(b,D?.serviceWorkerRegistration),Ha(b)})).apply(this,arguments)}function nc(b,D,M){return rc.apply(this,arguments)}function rc(){return(rc=(0,R.Z)(function*(b,D,M){const L=ic(D);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:M[Bo],message_name:M[xa],message_time:M[Zl],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ic(b){switch(b){case Di.NOTIFICATION_CLICKED:return"notification_open";case Di.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function bs(){return(bs=(0,R.Z)(function*(b,D){const M=D.data;if(!M.isFirebaseMessaging)return;b.onMessageHandler&&M.messageType===Di.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(Wo(M)):b.onMessageHandler.next(Wo(M)));const L=M.data;ws(L)&&"1"===L[Ud]&&(yield nc(b,M.messageType,L))})).apply(this,arguments)}const Ds="@firebase/messaging",Vn=b=>{const D=new bf(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function fu(b,D){return bs.apply(this,arguments)}(D,M)),D},vr=b=>{const D=b.getProvider("messaging").getImmediate();return{getToken:L=>function Ga(b,D){return za.apply(this,arguments)}(D,L)}};function sc(){return oc.apply(this,arguments)}function oc(){return(oc=(0,R.Z)(function*(){try{yield(0,ie.eu)()}catch{return!1}return typeof window<"u"&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function sn(){(0,se._registerComponent)(new le.wA("messaging",Vn,"PUBLIC")),(0,se._registerComponent)(new le.wA("messaging-internal",vr,"PRIVATE")),(0,se.registerVersion)(Ds,"0.10.0"),(0,se.registerVersion)(Ds,"0.10.0","esm2017")}();const so="analytics",_u="firebase_id",Ts="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ya="https://www.googletagmanager.com/gtag/js",En=new oe.Yd("@firebase/analytics");function Qa(b){return Promise.all(b.map(D=>D.catch(M=>M)))}function Ja(b,D){const M=document.createElement("script");M.src=`${Ya}?l=${b}&id=${D}`,M.async=!0,document.head.appendChild(M)}function Wd(b,D,M,L,K,te){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,R.Z)(function*(b,D,M,L,K,te){const ve=L[K];try{if(ve)yield D[ve];else{const qe=(yield Qa(M)).find(ut=>ut.measurementId===K);qe&&(yield D[qe.appId])}}catch(Me){En.error(Me)}b("config",K,te)})).apply(this,arguments)}function oo(b,D,M,L,K){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,R.Z)(function*(b,D,M,L,K){try{let te=[];if(K&&K.send_to){let ve=K.send_to;Array.isArray(ve)||(ve=[ve]);const Me=yield Qa(M);for(const qe of ve){const ut=Me.find(rt=>rt.measurementId===qe),vt=ut&&D[ut.appId];if(!vt){te=[];break}te.push(vt)}}0===te.length&&(te=Object.values(D)),yield Promise.all(te),b("event",L,K||{})}catch(te){En.error(te)}})).apply(this,arguments)}function vu(b){const D=window.document.getElementsByTagName("script");for(const M of Object.values(D))if(M.src&&M.src.includes(Ya)&&M.src.includes(b))return M;return null}const Wn=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Qo=new class si{constructor(D={},M=1e3){this.throttleMetadata=D,this.intervalMillis=M}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,M){this.throttleMetadata[D]=M}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Eu(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function Jo(b){return lc.apply(this,arguments)}function lc(){return(lc=(0,R.Z)(function*(b){var D;const{appId:M,apiKey:L}=b,K={method:"GET",headers:Eu(L)},te=Ts.replace("{app-id}",M),ve=yield fetch(te,K);if(200!==ve.status&&304!==ve.status){let Me="";try{const qe=yield ve.json();null!==(D=qe.error)&&void 0!==D&&D.message&&(Me=qe.error.message)}catch{}throw Wn.create("config-fetch-failed",{httpStatus:ve.status,responseMessage:Me})}return ve.json()})).apply(this,arguments)}function Dn(b){return $r.apply(this,arguments)}function $r(){return($r=(0,R.Z)(function*(b,D=Qo,M){const{appId:L,apiKey:K,measurementId:te}=b.options;if(!L)throw Wn.create("no-app-id");if(!K){if(te)return{measurementId:te,appId:L};throw Wn.create("no-api-key")}const ve=D.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Me=new nl;return setTimeout((0,R.Z)(function*(){Me.abort()}),void 0!==M?M:6e4),el({appId:L,apiKey:K,measurementId:te},ve,Me,D)})).apply(this,arguments)}function el(b,D,M){return As.apply(this,arguments)}function As(){return(As=(0,R.Z)(function*(b,{throttleEndTimeMillis:D,backoffCount:M},L,K=Qo){var te,ve;const{appId:Me,measurementId:qe}=b;try{yield Xo(L,D)}catch(ut){if(qe)return En.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${qe} provided in the "measurementId" field in the local Firebase config. [${null===(te=ut)||void 0===te?void 0:te.message}]`),{appId:Me,measurementId:qe};throw ut}try{const ut=yield Jo(b);return K.deleteThrottleMetadata(Me),ut}catch(ut){const vt=ut;if(!tl(vt)){if(K.deleteThrottleMetadata(Me),qe)return En.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${qe} provided in the "measurementId" field in the local Firebase config. [${vt?.message}]`),{appId:Me,measurementId:qe};throw ut}const rt=503===Number(null===(ve=vt?.customData)||void 0===ve?void 0:ve.httpStatus)?(0,ie.$s)(M,K.intervalMillis,30):(0,ie.$s)(M,K.intervalMillis),dn={throttleEndTimeMillis:Date.now()+rt,backoffCount:M+1};return K.setThrottleMetadata(Me,dn),En.debug(`Calling attemptFetch again in ${rt} millis`),el(b,dn,L,K)}})).apply(this,arguments)}function Xo(b,D){return new Promise((M,L)=>{const K=Math.max(D-Date.now(),0),te=setTimeout(M,K);b.addEventListener(()=>{clearTimeout(te),L(Wn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function tl(b){if(!(b instanceof ie.ZR&&b.customData))return!1;const D=Number(b.customData.httpStatus);return 429===D||500===D||503===D||504===D}class nl{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let Ji,ta;function Xi(){return(Xi=(0,R.Z)(function*(b,D,M,L,K){if(K&&K.global)b("event",M,L);else{const te=yield D;b("event",M,Object.assign(Object.assign({},L),{send_to:te}))}})).apply(this,arguments)}function Os(b){ta=b}function uc(b){Ji=b}function Ai(){return sl.apply(this,arguments)}function sl(){return(sl=(0,R.Z)(function*(){var b;if(!(0,ie.hl)())return En.warn(Wn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(D){return En.warn(Wn.create("indexeddb-unavailable",{errorInfo:null===(b=D)||void 0===b?void 0:b.toString()}).message),!1}return!0})).apply(this,arguments)}function co(){return(co=(0,R.Z)(function*(b,D,M,L,K,te,ve){var Me;const qe=Dn(b);qe.then(Qn=>{M[Qn.measurementId]=Qn.appId,b.options.measurementId&&Qn.measurementId!==b.options.measurementId&&En.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${Qn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Qn=>En.error(Qn)),D.push(qe);const ut=Ai().then(Qn=>{if(Qn)return L.getId()}),[vt,rt]=yield Promise.all([qe,ut]);vu(te)||Ja(te,vt.measurementId),ta&&(K("consent","default",ta),Os(void 0)),K("js",new Date);const dn=null!==(Me=ve?.config)&&void 0!==Me?Me:{};return dn.origin="firebase",dn.update=!0,null!=rt&&(dn[_u]=rt),K("config",vt.measurementId,dn),Ji&&(K("set",Ji),uc(void 0)),vt.measurementId})).apply(this,arguments)}class ol{constructor(D){this.app=D}_delete(){return delete Cr[this.app.options.appId],Promise.resolve()}}let Cr={},es=[];const uo={};let fo,xs,ho="dataLayer",na=!1;function Ig(b,D,M){!function Df(){const b=[];if((0,ie.ru)()&&b.push("This is a browser extension environment."),(0,ie.zI)()||b.push("Cookies are not available."),b.length>0){const D=b.map((L,K)=>`(${K+1}) ${L}`).join(" "),M=Wn.create("invalid-analytics-context",{errorInfo:D});En.warn(M.message)}}();const L=b.options.appId;if(!L)throw Wn.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw Wn.create("no-api-key");En.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Cr[L])throw Wn.create("already-exists",{id:L});if(!na){!function yu(b){let D=[];Array.isArray(window[b])?D=window[b]:window[b]=D}(ho);const{wrappedGtag:te,gtagCore:ve}=function qo(b,D,M,L,K){let te=function(...ve){window[L].push(arguments)};return window[K]&&"function"==typeof window[K]&&(te=window[K]),window[K]=function Xa(b,D,M,L){function te(){return(te=(0,R.Z)(function*(ve,Me,qe){try{"event"===ve?yield oo(b,D,M,Me,qe):"config"===ve?yield Wd(b,D,M,L,Me,qe):"consent"===ve?b("consent","update",qe):b("set",Me)}catch(ut){En.error(ut)}})).apply(this,arguments)}return function K(ve,Me,qe){return te.apply(this,arguments)}}(te,b,D,M),{gtagCore:te,wrappedGtag:window[K]}}(Cr,es,uo,ho,"gtag");xs=te,fo=ve,na=!0}return Cr[L]=function lo(b,D,M,L,K,te,ve){return co.apply(this,arguments)}(b,es,uo,D,fo,ho,M),new ol(b)}function Sg(){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,R.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}const Xe="@firebase/analytics";!function un(){(0,se._registerComponent)(new le.wA(so,(D,{options:M})=>Ig(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,se._registerComponent)(new le.wA("analytics-internal",function b(D){try{const M=D.getProvider(so).getImmediate();return{logEvent:(L,K,te)=>function cn(b,D,M,L){b=(0,ie.m9)(b),function wu(b,D,M,L,K){return Xi.apply(this,arguments)}(xs,Cr[b.app.options.appId],D,M,L).catch(K=>En.error(K))}(M,L,K,te)}}catch(M){throw Wn.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,se.registerVersion)(Xe,"0.8.4"),(0,se.registerVersion)(Xe,"0.8.4","esm2017")}();var Wr=k(4408),dr=k(7565);const ll=new class ts extends dr.v{}(class ra extends Wr.o{constructor(D,M){super(D,M),this.scheduler=D,this.work=M}schedule(D,M=0){return M>0?super.schedule(D,M):(this.delay=M,this.state=D,this.scheduler.flush(this),this)}execute(D,M){return M>0||this.closed?super.execute(D,M):this._execute(D,M)}requestAsyncId(D,M,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(D,M,L):(D.flush(this),0)}});var hc=k(4986),ia=k(8505),po=k(9468),Pi=k(5363);const st=new u.GfV("7.4.1"),sa="__angularfire_symbol__analyticsIsSupportedValue",ns="__angularfire_symbol__analyticsIsSupported",oa="__angularfire_symbol__remoteConfigIsSupportedValue",go="__angularfire_symbol__remoteConfigIsSupported",In="__angularfire_symbol__messagingIsSupportedValue",fc="__angularfire_symbol__messagingIsSupported";function aa(b,D,M){if(D){if(1===D.length)return D[0];const te=D.filter(ve=>ve.app===M);if(1===te.length)return te[0]}return M.container.getProvider(b).getImmediate({optional:!0})}globalThis[ns]||(globalThis[ns]=Sg().then(b=>globalThis[sa]=b).catch(()=>globalThis[sa]=!1)),globalThis[fc]||(globalThis[fc]=sc().then(b=>globalThis[In]=b).catch(()=>globalThis[In]=!1)),globalThis[go]||(globalThis[go]=Oa().then(b=>globalThis[oa]=b).catch(()=>globalThis[oa]=!1));const rs=(b,D)=>{const M=D?[D]:(0,J.C6)(),L=[];return M.forEach(K=>{K.container.getProvider(b).instances.forEach(ve=>{L.includes(ve)||L.push(ve)})}),L};function Oi(){}class Gr{constructor(D,M=ll){this.zone=D,this.delegate=M}now(){return this.delegate.now()}schedule(D,M,L){const K=this.zone;return this.delegate.schedule(function(ve){K.runGuarded(()=>{D.apply(this,[ve])})},M,L)}}class gc{constructor(D){this.zone=D,this.task=null}call(D,M){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Oi,{},Oi,Oi)),M.pipe((0,ia.b)({next:L,complete:L,error:L})).subscribe(D).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _o=(()=>{class b{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Gr(Zone.current)),this.insideAngular=M.run(()=>new Gr(Zone.current,hc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(M){return new(M||b)(u.LFG(u.R0b))},b.\u0275prov=u.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function Er(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function Ri(b){return Er(),function Tn(b){return function(M){return(M=M.lift(new gc(b.ngZone))).pipe((0,po.R)(b.outsideAngular),(0,Pi.Q)(b.insideAngular))}}(Er())(b)}},2090:(Je,Ee,k)=>{k.d(Ee,{$s:()=>Ge,BH:()=>St,DV:()=>gr,Dv:()=>Bn,GJ:()=>ji,L:()=>ce,LL:()=>Lt,Pz:()=>Ut,Sg:()=>Be,UG:()=>ye,UI:()=>Js,US:()=>le,Wj:()=>gt,Wl:()=>Zt,Yr:()=>me,ZB:()=>H,ZR:()=>nn,aH:()=>et,b$:()=>he,cI:()=>Et,dS:()=>Ht,eu:()=>Fe,g5:()=>R,gK:()=>bn,gQ:()=>_n,h$:()=>oe,hl:()=>ke,hu:()=>J,jU:()=>Ze,lb:()=>Ci,m9:()=>bt,ne:()=>Pn,p$:()=>B,pd:()=>ti,r3:()=>Ur,ru:()=>ge,tV:()=>ue,uI:()=>Te,ug:()=>Br,vZ:()=>je,w1:()=>Ke,w9:()=>ar,xO:()=>Nn,xb:()=>Dr,z$:()=>xe,zI:()=>U,zd:()=>Ir});const J=function(j,V){if(!j)throw R(V)},R=function(j){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+j)},se=function(j){const V=[];let Z=0;for(let _e=0;_e<j.length;_e++){let Y=j.charCodeAt(_e);Y<128?V[Z++]=Y:Y<2048?(V[Z++]=Y>>6|192,V[Z++]=63&Y|128):55296==(64512&Y)&&_e+1<j.length&&56320==(64512&j.charCodeAt(_e+1))?(Y=65536+((1023&Y)<<10)+(1023&j.charCodeAt(++_e)),V[Z++]=Y>>18|240,V[Z++]=Y>>12&63|128,V[Z++]=Y>>6&63|128,V[Z++]=63&Y|128):(V[Z++]=Y>>12|224,V[Z++]=Y>>6&63|128,V[Z++]=63&Y|128)}return V},le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,V){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,_e=[];for(let Y=0;Y<j.length;Y+=3){const Ve=j[Y],tt=Y+1<j.length,Vt=tt?j[Y+1]:0,Jt=Y+2<j.length,kt=Jt?j[Y+2]:0;let Tt=(15&Vt)<<2|kt>>6,Hn=63&kt;Jt||(Hn=64,tt||(Tt=64)),_e.push(Z[Ve>>2],Z[(3&Ve)<<4|Vt>>4],Z[Tt],Z[Hn])}return _e.join("")},encodeString(j,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(j):this.encodeByteArray(se(j),V)},decodeString(j,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(j):function(j){const V=[];let Z=0,_e=0;for(;Z<j.length;){const Y=j[Z++];if(Y<128)V[_e++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const Ve=j[Z++];V[_e++]=String.fromCharCode((31&Y)<<6|63&Ve)}else if(Y>239&&Y<365){const Jt=((7&Y)<<18|(63&j[Z++])<<12|(63&j[Z++])<<6|63&j[Z++])-65536;V[_e++]=String.fromCharCode(55296+(Jt>>10)),V[_e++]=String.fromCharCode(56320+(1023&Jt))}else{const Ve=j[Z++],tt=j[Z++];V[_e++]=String.fromCharCode((15&Y)<<12|(63&Ve)<<6|63&tt)}}return V.join("")}(this.decodeStringToByteArray(j,V))},decodeStringToByteArray(j,V){this.init_();const Z=V?this.charToByteMapWebSafe_:this.charToByteMap_,_e=[];for(let Y=0;Y<j.length;){const Ve=Z[j.charAt(Y++)],Vt=Y<j.length?Z[j.charAt(Y)]:0;++Y;const kt=Y<j.length?Z[j.charAt(Y)]:64;++Y;const Le=Y<j.length?Z[j.charAt(Y)]:64;if(++Y,null==Ve||null==Vt||null==kt||null==Le)throw Error();_e.push(Ve<<2|Vt>>4),64!==kt&&(_e.push(Vt<<4&240|kt>>2),64!==Le&&_e.push(kt<<6&192|Le))}return _e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},oe=function(j){const V=se(j);return le.encodeByteArray(V,!0)},ce=function(j){return oe(j).replace(/\./g,"")},ue=function(j){try{return le.decodeString(j,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function B(j){return H(void 0,j)}function H(j,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return V}for(const Z in V)!V.hasOwnProperty(Z)||!q(Z)||(j[Z]=H(j[Z],V[Z]));return j}function q(j){return"__proto__"!==j}function xe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Te(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xe())}function ye(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ze(){return"object"==typeof self&&self.self===self}function ge(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function he(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ke(){const j=xe();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function me(){return!1}function ke(){return"object"==typeof indexedDB}function Fe(){return new Promise((j,V)=>{try{let Z=!0;const _e="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(_e);Y.onsuccess=()=>{Y.result.close(),Z||self.indexedDB.deleteDatabase(_e),j(!0)},Y.onupgradeneeded=()=>{Z=!1},Y.onerror=()=>{var Ve;V((null===(Ve=Y.error)||void 0===Ve?void 0:Ve.message)||"")}}catch(Z){V(Z)}})}function U(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ne=()=>{try{return function pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const j=process.env.__FIREBASE_DEFAULTS__;return j?JSON.parse(j):void 0})()||(()=>{if(typeof document>"u")return;let j;try{j=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=j&&ue(j[1]);return V&&JSON.parse(V)})()}catch(j){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${j}`)}},et=()=>{var j;return null===(j=ne())||void 0===j?void 0:j.config},Ut=j=>{var V;return null===(V=ne())||void 0===V?void 0:V[`_${j}`]};class St{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,Z)=>{this.resolve=V,this.reject=Z})}wrapCallback(V){return(Z,_e)=>{Z?this.reject(Z):this.resolve(_e),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(Z):V(Z,_e))}}}function Be(j,V){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const _e=V||"demo-project",Y=j.iat||0,Ve=j.sub||j.user_id;if(!Ve)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const tt=Object.assign({iss:`https://securetoken.google.com/${_e}`,aud:_e,iat:Y,exp:Y+3600,auth_time:Y,sub:Ve,user_id:Ve,firebase:{sign_in_provider:"custom",identities:{}}},j);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(tt)),""].join(".")}class nn extends Error{constructor(V,Z,_e){super(Z),this.code=V,this.customData=_e,this.name="FirebaseError",Object.setPrototypeOf(this,nn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lt.prototype.create)}}class Lt{constructor(V,Z,_e){this.service=V,this.serviceName=Z,this.errors=_e}create(V,...Z){const _e=Z[0]||{},Y=`${this.service}/${V}`,Ve=this.errors[V],tt=Ve?function Bt(j,V){return j.replace(sr,(Z,_e)=>{const Y=V[_e];return null!=Y?String(Y):`<${_e}?>`})}(Ve,_e):"Error";return new nn(Y,`${this.serviceName}: ${tt} (${Y}).`,_e)}}const sr=/\{\$([^}]+)}/g;function Et(j){return JSON.parse(j)}function Zt(j){return JSON.stringify(j)}const vi=function(j){let V={},Z={},_e={},Y="";try{const Ve=j.split(".");V=Et(ue(Ve[0])||""),Z=Et(ue(Ve[1])||""),Y=Ve[2],_e=Z.d||{},delete Z.d}catch{}return{header:V,claims:Z,data:_e,signature:Y}},ar=function(j){const Z=vi(j).claims;return!!Z&&"object"==typeof Z&&Z.hasOwnProperty("iat")},ji=function(j){const V=vi(j).claims;return"object"==typeof V&&!0===V.admin};function Ur(j,V){return Object.prototype.hasOwnProperty.call(j,V)}function gr(j,V){if(Object.prototype.hasOwnProperty.call(j,V))return j[V]}function Dr(j){for(const V in j)if(Object.prototype.hasOwnProperty.call(j,V))return!1;return!0}function Js(j,V,Z){const _e={};for(const Y in j)Object.prototype.hasOwnProperty.call(j,Y)&&(_e[Y]=V.call(Z,j[Y],Y,j));return _e}function je(j,V){if(j===V)return!0;const Z=Object.keys(j),_e=Object.keys(V);for(const Y of Z){if(!_e.includes(Y))return!1;const Ve=j[Y],tt=V[Y];if(er(Ve)&&er(tt)){if(!je(Ve,tt))return!1}else if(Ve!==tt)return!1}for(const Y of _e)if(!Z.includes(Y))return!1;return!0}function er(j){return null!==j&&"object"==typeof j}function Nn(j){const V=[];for(const[Z,_e]of Object.entries(j))Array.isArray(_e)?_e.forEach(Y=>{V.push(encodeURIComponent(Z)+"="+encodeURIComponent(Y))}):V.push(encodeURIComponent(Z)+"="+encodeURIComponent(_e));return V.length?"&"+V.join("&"):""}function Ir(j){const V={};return j.replace(/^\?/,"").split("&").forEach(_e=>{if(_e){const[Y,Ve]=_e.split("=");V[decodeURIComponent(Y)]=decodeURIComponent(Ve)}}),V}function ti(j){const V=j.indexOf("?");if(!V)return"";const Z=j.indexOf("#",V);return j.substring(V,Z>0?Z:void 0)}class _n{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let V=1;V<this.blockSize;++V)this.pad_[V]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(V,Z){Z||(Z=0);const _e=this.W_;if("string"==typeof V)for(let Le=0;Le<16;Le++)_e[Le]=V.charCodeAt(Z)<<24|V.charCodeAt(Z+1)<<16|V.charCodeAt(Z+2)<<8|V.charCodeAt(Z+3),Z+=4;else for(let Le=0;Le<16;Le++)_e[Le]=V[Z]<<24|V[Z+1]<<16|V[Z+2]<<8|V[Z+3],Z+=4;for(let Le=16;Le<80;Le++){const Tt=_e[Le-3]^_e[Le-8]^_e[Le-14]^_e[Le-16];_e[Le]=4294967295&(Tt<<1|Tt>>>31)}let kt,Ne,Y=this.chain_[0],Ve=this.chain_[1],tt=this.chain_[2],Vt=this.chain_[3],Jt=this.chain_[4];for(let Le=0;Le<80;Le++){Le<40?Le<20?(kt=Vt^Ve&(tt^Vt),Ne=1518500249):(kt=Ve^tt^Vt,Ne=1859775393):Le<60?(kt=Ve&tt|Vt&(Ve|tt),Ne=2400959708):(kt=Ve^tt^Vt,Ne=3395469782);const Tt=(Y<<5|Y>>>27)+kt+Jt+Ne+_e[Le]&4294967295;Jt=Vt,Vt=tt,tt=4294967295&(Ve<<30|Ve>>>2),Ve=Y,Y=Tt}this.chain_[0]=this.chain_[0]+Y&4294967295,this.chain_[1]=this.chain_[1]+Ve&4294967295,this.chain_[2]=this.chain_[2]+tt&4294967295,this.chain_[3]=this.chain_[3]+Vt&4294967295,this.chain_[4]=this.chain_[4]+Jt&4294967295}update(V,Z){if(null==V)return;void 0===Z&&(Z=V.length);const _e=Z-this.blockSize;let Y=0;const Ve=this.buf_;let tt=this.inbuf_;for(;Y<Z;){if(0===tt)for(;Y<=_e;)this.compress_(V,Y),Y+=this.blockSize;if("string"==typeof V){for(;Y<Z;)if(Ve[tt]=V.charCodeAt(Y),++tt,++Y,tt===this.blockSize){this.compress_(Ve),tt=0;break}}else for(;Y<Z;)if(Ve[tt]=V[Y],++tt,++Y,tt===this.blockSize){this.compress_(Ve),tt=0;break}}this.inbuf_=tt,this.total_+=Z}digest(){const V=[];let Z=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Y=this.blockSize-1;Y>=56;Y--)this.buf_[Y]=255&Z,Z/=256;this.compress_(this.buf_);let _e=0;for(let Y=0;Y<5;Y++)for(let Ve=24;Ve>=0;Ve-=8)V[_e]=this.chain_[Y]>>Ve&255,++_e;return V}}function Pn(j,V){const Z=new en(j,V);return Z.subscribe.bind(Z)}class en{constructor(V,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{V(this)}).catch(_e=>{this.error(_e)})}next(V){this.forEachObserver(Z=>{Z.next(V)})}error(V){this.forEachObserver(Z=>{Z.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,Z,_e){let Y;if(void 0===V&&void 0===Z&&void 0===_e)throw new Error("Missing Observer.");Y=function Qe(j,V){if("object"!=typeof j||null===j)return!1;for(const Z of V)if(Z in j&&"function"==typeof j[Z])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:Z,complete:_e},void 0===Y.next&&(Y.next=$t),void 0===Y.error&&(Y.error=$t),void 0===Y.complete&&(Y.complete=$t);const Ve=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch{}}),this.observers.push(Y),Ve}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,V)}sendOne(V,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{Z(this.observers[V])}catch(_e){typeof console<"u"&&console.error&&console.error(_e)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $t(){}const Bn=function(j,V,Z,_e){let Y;if(_e<V?Y="at least "+V:_e>Z&&(Y=0===Z?"none":"no more than "+Z),Y)throw new Error(j+" failed: Was called with "+_e+(1===_e?" argument.":" arguments.")+" Expects "+Y+".")};function bn(j,V){return`${j} failed: ${V} argument `}function gt(j,V,Z,_e){if((!_e||Z)&&"function"!=typeof Z)throw new Error(bn(j,V)+"must be a valid function.")}function Ci(j,V,Z,_e){if((!_e||Z)&&("object"!=typeof Z||null===Z))throw new Error(bn(j,V)+"must be a valid context object.")}const Ht=function(j){const V=[];let Z=0;for(let _e=0;_e<j.length;_e++){let Y=j.charCodeAt(_e);if(Y>=55296&&Y<=56319){const Ve=Y-55296;_e++,J(_e<j.length,"Surrogate pair missing trail surrogate."),Y=65536+(Ve<<10)+(j.charCodeAt(_e)-56320)}Y<128?V[Z++]=Y:Y<2048?(V[Z++]=Y>>6|192,V[Z++]=63&Y|128):Y<65536?(V[Z++]=Y>>12|224,V[Z++]=Y>>6&63|128,V[Z++]=63&Y|128):(V[Z++]=Y>>18|240,V[Z++]=Y>>12&63|128,V[Z++]=Y>>6&63|128,V[Z++]=63&Y|128)}return V},Br=function(j){let V=0;for(let Z=0;Z<j.length;Z++){const _e=j.charCodeAt(Z);_e<128?V++:_e<2048?V+=2:_e>=55296&&_e<=56319?(V+=4,Z++):V+=3}return V};function Ge(j,V=1e3,Z=2){const _e=V*Math.pow(Z,j),Y=Math.round(.5*_e*(Math.random()-.5)*2);return Math.min(144e5,_e+Y)}function bt(j){return j&&j._delegate?j._delegate:j}},7081:(Je,Ee,k)=>{var u=k(4650);let J=null;function R(){return J}const oe=new u.OlP("DocumentToken");let ce=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ue(){return(0,u.LFG)(H)}()},providedIn:"platform"}),n})();const B=new u.OlP("Location Initialized");let H=(()=>{class n extends ce{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(e){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,a){q()?this._history.pushState(e,r,a):this.location.hash=a}replaceState(e,r,a){q()?this._history.replaceState(e,r,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function xe(){return new H((0,u.LFG)(oe))}()},providedIn:"platform"}),n})();function q(){return!!window.history.pushState}function Te(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function ye(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ze(n){return n&&"?"!==n[0]?"?"+n:n}let ge=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(We)},providedIn:"root"}),n})();const he=new u.OlP("appBaseHref");let We=(()=>{class n extends ge{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Te(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Ze(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${r}${a}`:r}pushState(e,r,a,c){const f=this.prepareExternalUrl(a+Ze(c));this._platformLocation.pushState(e,r,f)}replaceState(e,r,a,c){const f=this.prepareExternalUrl(a+Ze(c));this._platformLocation.replaceState(e,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ce),u.LFG(he,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ke=(()=>{class n extends ge{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Te(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,a,c){let f=this.prepareExternalUrl(a+Ze(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(e,r,f)}replaceState(e,r,a,c){let f=this.prepareExternalUrl(a+Ze(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ce),u.LFG(he,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n{constructor(e){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._baseHref=ye(ke(r)),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Ze(r))}normalize(e){return n.stripTrailingSlash(function Ce(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,ke(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",a=null){this._locationStrategy.pushState(a,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ze(r)),a)}replaceState(e,r="",a=null){this._locationStrategy.replaceState(a,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ze(r)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(a=>a(e,r))}subscribe(e,r,a){return this._subject.subscribe({next:e,error:r,complete:a})}}return n.normalizeQueryParams=Ze,n.joinWithSlash=Te,n.stripTrailingSlash=ye,n.\u0275fac=function(e){return new(e||n)(u.LFG(ge))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function me(){return new Ie((0,u.LFG)(ge))}()},providedIn:"root"}),n})();function ke(n){return n.replace(/\/index.html$/,"")}var z=(()=>((z=z||{})[z.Format=0]="Format",z[z.Standalone=1]="Standalone",z))(),Q=(()=>((Q=Q||{})[Q.Narrow=0]="Narrow",Q[Q.Abbreviated=1]="Abbreviated",Q[Q.Wide=2]="Wide",Q[Q.Short=3]="Short",Q))(),re=(()=>((re=re||{})[re.Short=0]="Short",re[re.Medium=1]="Medium",re[re.Long=2]="Long",re[re.Full=3]="Full",re))(),ne=(()=>((ne=ne||{})[ne.Decimal=0]="Decimal",ne[ne.Group=1]="Group",ne[ne.List=2]="List",ne[ne.PercentSign=3]="PercentSign",ne[ne.PlusSign=4]="PlusSign",ne[ne.MinusSign=5]="MinusSign",ne[ne.Exponential=6]="Exponential",ne[ne.SuperscriptingExponent=7]="SuperscriptingExponent",ne[ne.PerMille=8]="PerMille",ne[ne.Infinity=9]="Infinity",ne[ne.NaN=10]="NaN",ne[ne.TimeSeparator=11]="TimeSeparator",ne[ne.CurrencyDecimal=12]="CurrencyDecimal",ne[ne.CurrencyGroup=13]="CurrencyGroup",ne))();function Lt(n,t){return je((0,u.cg1)(n)[u.wAp.DateFormat],t)}function Bt(n,t){return je((0,u.cg1)(n)[u.wAp.TimeFormat],t)}function sr(n,t){return je((0,u.cg1)(n)[u.wAp.DateTimeFormat],t)}function Et(n,t){const e=(0,u.cg1)(n),r=e[u.wAp.NumberSymbols][t];if(typeof r>"u"){if(t===ne.CurrencyDecimal)return e[u.wAp.NumberSymbols][ne.Decimal];if(t===ne.CurrencyGroup)return e[u.wAp.NumberSymbols][ne.Group]}return r}function Ur(n){if(!n[u.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[u.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function je(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function er(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const ti=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,_n={},Pn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var en=(()=>((en=en||{})[en.Short=0]="Short",en[en.ShortGMT=1]="ShortGMT",en[en.Long=2]="Long",en[en.Extended=3]="Extended",en))(),ot=(()=>((ot=ot||{})[ot.FullYear=0]="FullYear",ot[ot.Month=1]="Month",ot[ot.Date=2]="Date",ot[ot.Hours=3]="Hours",ot[ot.Minutes=4]="Minutes",ot[ot.Seconds=5]="Seconds",ot[ot.FractionalSeconds=6]="FractionalSeconds",ot[ot.Day=7]="Day",ot))(),Qe=(()=>((Qe=Qe||{})[Qe.DayPeriods=0]="DayPeriods",Qe[Qe.Days=1]="Days",Qe[Qe.Months=2]="Months",Qe[Qe.Eras=3]="Eras",Qe))();function $t(n,t,e,r){let a=function Ve(n){if(Vt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[a,c=1,f=1]=n.split("-").map(m=>+m);return Bn(a,c-1,f)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(ti))return function tt(n){const t=new Date(0);let e=0,r=0;const a=n[8]?t.setUTCFullYear:t.setFullYear,c=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),a.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const f=Number(n[4]||0)-e,m=Number(n[5]||0)-r,E=Number(n[6]||0),I=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return c.call(t,f,m,E,I),t}(r)}const t=new Date(n);if(!Vt(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=bn(e,t)||t;let m,f=[];for(;t;){if(m=Pn.exec(t),!m){f.push(t);break}{f=f.concat(m.slice(1));const x=f.pop();if(!x)break;t=x}}let E=a.getTimezoneOffset();r&&(E=Z(r,E),a=function Y(n,t,e){const r=e?-1:1,a=n.getTimezoneOffset();return function _e(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,r*(Z(t,a)-a))}(a,r,!0));let I="";return f.forEach(x=>{const O=function V(n){if(j[n])return j[n];let t;switch(n){case"G":case"GG":case"GGG":t=jt(Qe.Eras,Q.Abbreviated);break;case"GGGG":t=jt(Qe.Eras,Q.Wide);break;case"GGGGG":t=jt(Qe.Eras,Q.Narrow);break;case"y":t=Ht(ot.FullYear,1,0,!1,!0);break;case"yy":t=Ht(ot.FullYear,2,0,!0,!0);break;case"yyy":t=Ht(ot.FullYear,3,0,!1,!0);break;case"yyyy":t=Ht(ot.FullYear,4,0,!1,!0);break;case"Y":t=bt(1);break;case"YY":t=bt(2,!0);break;case"YYY":t=bt(3);break;case"YYYY":t=bt(4);break;case"M":case"L":t=Ht(ot.Month,1,1);break;case"MM":case"LL":t=Ht(ot.Month,2,1);break;case"MMM":t=jt(Qe.Months,Q.Abbreviated);break;case"MMMM":t=jt(Qe.Months,Q.Wide);break;case"MMMMM":t=jt(Qe.Months,Q.Narrow);break;case"LLL":t=jt(Qe.Months,Q.Abbreviated,z.Standalone);break;case"LLLL":t=jt(Qe.Months,Q.Wide,z.Standalone);break;case"LLLLL":t=jt(Qe.Months,Q.Narrow,z.Standalone);break;case"w":t=ct(1);break;case"ww":t=ct(2);break;case"W":t=ct(1,!0);break;case"d":t=Ht(ot.Date,1);break;case"dd":t=Ht(ot.Date,2);break;case"c":case"cc":t=Ht(ot.Day,1);break;case"ccc":t=jt(Qe.Days,Q.Abbreviated,z.Standalone);break;case"cccc":t=jt(Qe.Days,Q.Wide,z.Standalone);break;case"ccccc":t=jt(Qe.Days,Q.Narrow,z.Standalone);break;case"cccccc":t=jt(Qe.Days,Q.Short,z.Standalone);break;case"E":case"EE":case"EEE":t=jt(Qe.Days,Q.Abbreviated);break;case"EEEE":t=jt(Qe.Days,Q.Wide);break;case"EEEEE":t=jt(Qe.Days,Q.Narrow);break;case"EEEEEE":t=jt(Qe.Days,Q.Short);break;case"a":case"aa":case"aaa":t=jt(Qe.DayPeriods,Q.Abbreviated);break;case"aaaa":t=jt(Qe.DayPeriods,Q.Wide);break;case"aaaaa":t=jt(Qe.DayPeriods,Q.Narrow);break;case"b":case"bb":case"bbb":t=jt(Qe.DayPeriods,Q.Abbreviated,z.Standalone,!0);break;case"bbbb":t=jt(Qe.DayPeriods,Q.Wide,z.Standalone,!0);break;case"bbbbb":t=jt(Qe.DayPeriods,Q.Narrow,z.Standalone,!0);break;case"B":case"BB":case"BBB":t=jt(Qe.DayPeriods,Q.Abbreviated,z.Format,!0);break;case"BBBB":t=jt(Qe.DayPeriods,Q.Wide,z.Format,!0);break;case"BBBBB":t=jt(Qe.DayPeriods,Q.Narrow,z.Format,!0);break;case"h":t=Ht(ot.Hours,1,-12);break;case"hh":t=Ht(ot.Hours,2,-12);break;case"H":t=Ht(ot.Hours,1);break;case"HH":t=Ht(ot.Hours,2);break;case"m":t=Ht(ot.Minutes,1);break;case"mm":t=Ht(ot.Minutes,2);break;case"s":t=Ht(ot.Seconds,1);break;case"ss":t=Ht(ot.Seconds,2);break;case"S":t=Ht(ot.FractionalSeconds,1);break;case"SS":t=Ht(ot.FractionalSeconds,2);break;case"SSS":t=Ht(ot.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=lr(en.Short);break;case"ZZZZZ":t=lr(en.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=lr(en.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=lr(en.Long);break;default:return null}return j[n]=t,t}(x);I+=O?O(a,e,E):"''"===x?"'":x.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),I}function Bn(n,t,e){const r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function bn(n,t){const e=function Pe(n){return(0,u.cg1)(n)[u.wAp.LocaleId]}(n);if(_n[e]=_n[e]||{},_n[e][t])return _n[e][t];let r="";switch(t){case"shortDate":r=Lt(n,re.Short);break;case"mediumDate":r=Lt(n,re.Medium);break;case"longDate":r=Lt(n,re.Long);break;case"fullDate":r=Lt(n,re.Full);break;case"shortTime":r=Bt(n,re.Short);break;case"mediumTime":r=Bt(n,re.Medium);break;case"longTime":r=Bt(n,re.Long);break;case"fullTime":r=Bt(n,re.Full);break;case"short":const a=bn(n,"shortTime"),c=bn(n,"shortDate");r=mr(sr(n,re.Short),[a,c]);break;case"medium":const f=bn(n,"mediumTime"),m=bn(n,"mediumDate");r=mr(sr(n,re.Medium),[f,m]);break;case"long":const E=bn(n,"longTime"),I=bn(n,"longDate");r=mr(sr(n,re.Long),[E,I]);break;case"full":const x=bn(n,"fullTime"),O=bn(n,"fullDate");r=mr(sr(n,re.Full),[x,O])}return r&&(_n[e][t]=r),r}function mr(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return null!=t&&r in t?t[r]:e})),n}function gt(n,t,e="-",r,a){let c="";(n<0||a&&n<=0)&&(a?n=1-n:(n=-n,c=e));let f=String(n);for(;f.length<t;)f="0"+f;return r&&(f=f.slice(f.length-t)),c+f}function Ht(n,t,e=0,r=!1,a=!1){return function(c,f){let m=function Br(n,t){switch(n){case ot.FullYear:return t.getFullYear();case ot.Month:return t.getMonth();case ot.Date:return t.getDate();case ot.Hours:return t.getHours();case ot.Minutes:return t.getMinutes();case ot.Seconds:return t.getSeconds();case ot.FractionalSeconds:return t.getMilliseconds();case ot.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,c);if((e>0||m>-e)&&(m+=e),n===ot.Hours)0===m&&-12===e&&(m=12);else if(n===ot.FractionalSeconds)return function Ci(n,t){return gt(n,3).substring(0,t)}(m,t);const E=Et(f,ne.MinusSign);return gt(m,t,E,r,a)}}function jt(n,t,e=z.Format,r=!1){return function(a,c){return function kn(n,t,e,r,a,c){switch(e){case Qe.Months:return function St(n,t,e){const r=(0,u.cg1)(n),c=je([r[u.wAp.MonthsFormat],r[u.wAp.MonthsStandalone]],t);return je(c,e)}(t,a,r)[n.getMonth()];case Qe.Days:return function Ut(n,t,e){const r=(0,u.cg1)(n),c=je([r[u.wAp.DaysFormat],r[u.wAp.DaysStandalone]],t);return je(c,e)}(t,a,r)[n.getDay()];case Qe.DayPeriods:const f=n.getHours(),m=n.getMinutes();if(c){const I=function gr(n){const t=(0,u.cg1)(n);return Ur(t),(t[u.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?er(r):[er(r[0]),er(r[1])])}(t),x=function Dr(n,t,e){const r=(0,u.cg1)(n);Ur(r);const c=je([r[u.wAp.ExtraData][0],r[u.wAp.ExtraData][1]],t)||[];return je(c,e)||[]}(t,a,r),O=I.findIndex(W=>{if(Array.isArray(W)){const[ee,fe]=W,Ae=f>=ee.hours&&m>=ee.minutes,He=f<fe.hours||f===fe.hours&&m<fe.minutes;if(ee.hours<fe.hours){if(Ae&&He)return!0}else if(Ae||He)return!0}else if(W.hours===f&&W.minutes===m)return!0;return!1});if(-1!==O)return x[O]}return function et(n,t,e){const r=(0,u.cg1)(n),c=je([r[u.wAp.DayPeriodsFormat],r[u.wAp.DayPeriodsStandalone]],t);return je(c,e)}(t,a,r)[f<12?0:1];case Qe.Eras:return function Be(n,t){return je((0,u.cg1)(n)[u.wAp.Eras],t)}(t,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(a,c,n,t,e,r)}}function lr(n){return function(t,e,r){const a=-1*r,c=Et(e,ne.MinusSign),f=a>0?Math.floor(a/60):Math.ceil(a/60);switch(n){case en.Short:return(a>=0?"+":"")+gt(f,2,c)+gt(Math.abs(a%60),2,c);case en.ShortGMT:return"GMT"+(a>=0?"+":"")+gt(f,1,c);case en.Long:return"GMT"+(a>=0?"+":"")+gt(f,2,c)+":"+gt(Math.abs(a%60),2,c);case en.Extended:return 0===r?"Z":(a>=0?"+":"")+gt(f,2,c)+":"+gt(Math.abs(a%60),2,c);default:throw new Error(`Unknown zone width "${n}"`)}}}function ht(n){return Bn(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function ct(n,t=!1){return function(e,r){let a;if(t){const c=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,f=e.getDate();a=1+Math.floor((f+c)/7)}else{const c=ht(e),f=function Ge(n){const t=Bn(n,0,1).getDay();return Bn(n,0,1+(t<=4?4:11)-t)}(c.getFullYear()),m=c.getTime()-f.getTime();a=1+Math.round(m/6048e5)}return gt(a,n,Et(r,ne.MinusSign))}}function bt(n,t=!1){return function(e,r){return gt(ht(e).getFullYear(),n,Et(r,ne.MinusSign),t)}}const j={};function Z(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Vt(n){return n instanceof Date&&!isNaN(n.valueOf())}class Vo{constructor(t,e,r,a){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vs=(()=>{class n{constructor(e,r,a){this._viewContainer=e,this._template=r,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((a,c,f)=>{if(null==a.previousIndex)r.createEmbeddedView(this._template,new Vo(a.item,this._ngForOf,-1,-1),null===f?void 0:f);else if(null==f)r.remove(null===c?void 0:c);else if(null!==c){const m=r.get(c);r.move(m,f),Zi(m,a)}});for(let a=0,c=r.length;a<c;a++){const m=r.get(a).context;m.index=a,m.count=c,m.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{Zi(r.get(a.currentIndex),a)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Zi(n,t){n.context.$implicit=t.item}let jn=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new jl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){$n("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){$n("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class jl{constructor(){this.$implicit=null,this.ngIf=null}}function $n(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(t)}'.`)}const Ef=new u.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Ld=(()=>{class n{constructor(e,r){this.locale=e,this.defaultTimezone=r}transform(e,r="mediumDate",a,c){if(null==e||""===e||e!=e)return null;try{return $t(e,r,c||this.locale,a??this.defaultTimezone??void 0)}catch(f){throw function Ln(n,t){return new u.vHH(2100,!1)}()}}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.soG,16),u.Y36(Ef,24))},n.\u0275pipe=u.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),eo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();let Ra=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new jd((0,u.LFG)(oe),window)}),n})();class jd{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function ur(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=r.currentNode;for(;a;){const c=a.shadowRoot;if(c){const f=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(f)return f}a=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],a-c[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Sr(this.window.history)||Sr(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Sr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class bs extends class fu extends class le{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ie(n){J||(J=n)}(new bs)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Za(){return Ds=Ds||document.querySelector("base"),Ds?Ds.getAttribute("href"):null}();return null==e?null:function vr(n){Vn=Vn||document.createElement("a"),Vn.setAttribute("href",n);const t=Vn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Ds=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Aa(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[a,c]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(a.trim()===t)return decodeURIComponent(c)}return null}(document.cookie,t)}}let Vn,Ds=null;const sn=new u.OlP("TRANSITION_ID"),oc=[{provide:u.ip1,useFactory:function sc(n,t,e){return()=>{e.get(u.CZH).donePromise.then(()=>{const r=R(),a=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<a.length;c++)r.remove(a[c])})}},deps:[sn,oe,u.zs3],multi:!0}];let ac=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const qa=new u.OlP("EventManagerPlugins");let gu=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,a){return this._findPluginFor(r).addEventListener(e,r,a)}addGlobalEventListener(e,r,a){return this._findPluginFor(r).addGlobalEventListener(e,r,a)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const a=this._plugins;for(let c=0;c<a.length;c++){const f=a[c];if(f.supports(e))return this._eventNameToPlugin.set(e,f),f}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(qa),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Ka{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const a=R().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,r)}}let Is=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),r.add(a))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),io=(()=>{class n extends Is{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,a){e.forEach(c=>{const f=this._doc.createElement("style");f.textContent=c,a.push(r.appendChild(f))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(mu),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,a)=>{this._addStylesToHost(e,a,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(mu))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function mu(n){R().remove(n)}const so={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},_u=/%COMP%/g;function Ja(n,t,e){for(let r=0;r<t.length;r++){let a=t[r];Array.isArray(a)?Ja(n,a,e):(a=a.replace(_u,n),e.push(a))}return e}function yu(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ss=(()=>{class n{constructor(e,r,a){this.eventManager=e,this.sharedStylesHost=r,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new oo(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let a=this.rendererByCompId.get(r.id);return a||(a=new vu(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,a)),a.applyToHost(e),a}case 1:case u.ifc.ShadowDom:return new Cu(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const a=Ja(r.id,r.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(gu),u.LFG(io),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class oo{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(so[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(qo(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(qo(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,a){if(a){e=a+":"+e;const c=so[a];c?t.setAttributeNS(c,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const a=so[r];a?t.removeAttributeNS(a,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,a){a&(u.JOm.DashCase|u.JOm.Important)?t.style.setProperty(e,r,a&u.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&u.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,yu(r)):this.eventManager.addEventListener(t,e,yu(r))}}function qo(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class vu extends oo{constructor(t,e,r,a){super(t),this.component=r;const c=Ja(a+"-"+r.id,r.styles,[]);e.addStyles(c),this.contentAttr=function En(n){return"_ngcontent-%COMP%".replace(_u,n)}(a+"-"+r.id),this.hostAttr=function Qa(n){return"_nghost-%COMP%".replace(_u,n)}(a+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class Cu extends oo{constructor(t,e,r,a){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Ja(a.id,a.styles,[]);for(let f=0;f<c.length;f++){const m=document.createElement("style");m.textContent=c[f],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Wn=(()=>{class n extends Ka{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,a){return e.addEventListener(r,a,!1),()=>this.removeEventListener(e,r,a)}removeEventListener(e,r,a){return e.removeEventListener(r,a)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ko=["alt","control","meta","shift"],Yo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},si={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Qo=(()=>{class n extends Ka{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,a){const c=n.parseEventName(r),f=n.eventCallback(c.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(e,c.domEventName,f))}static parseEventName(e){const r=e.toLowerCase().split("."),a=r.shift();if(0===r.length||"keydown"!==a&&"keyup"!==a)return null;const c=n._normalizeKey(r.pop());let f="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),f="code."),Ko.forEach(I=>{const x=r.indexOf(I);x>-1&&(r.splice(x,1),f+=I+".")}),f+=c,0!=r.length||0===c.length)return null;const E={};return E.domEventName=a,E.fullKey=f,E}static matchEventFullKeyCode(e,r){let a=Yo[e.key]||e.key,c="";return r.indexOf("code.")>-1&&(a=e.code,c="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Ko.forEach(f=>{f!==a&&(0,si[f])(e)&&(c+=f+".")}),c+=a,c===r)}static eventCallback(e,r,a){return c=>{n.matchEventFullKeyCode(c,e)&&a.runGuarded(()=>r(c))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const nl=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function el(){bs.makeCurrent()},multi:!0},{provide:oe,useFactory:function Xo(){return(0,u.RDi)(document),document},deps:[]}]),Ji=new u.OlP(""),wu=[{provide:u.rWj,useClass:class pu{addToWindow(t){u.dqk.getAngularTestability=(r,a=!0)=>{const c=t.findTestabilityInTree(r,a);if(null==c)throw new Error("Could not find testability for element.");return c},u.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const a=u.dqk.getAllAngularTestabilities();let c=a.length,f=!1;const m=function(E){f=f||E,c--,0==c&&r(f)};a.forEach(function(E){E.whenStable(m)})})}findTestabilityInTree(t,e,r){return null==e?null:t.getTestability(e)??(r?R().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],Xi=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function As(){return new u.qLn},deps:[]},{provide:qa,useClass:Wn,multi:!0,deps:[oe,u.R0b,u.Lbi]},{provide:qa,useClass:Qo,multi:!0,deps:[oe]},{provide:Ss,useClass:Ss,deps:[gu,io,u.AFp]},{provide:u.FYo,useExisting:Ss},{provide:Is,useExisting:io},{provide:io,useClass:io,deps:[oe]},{provide:gu,useClass:gu,deps:[qa,u.R0b]},{provide:class no{},useClass:ac,deps:[]},[]];let rl=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:u.AFp,useValue:e.appId},{provide:sn,useExisting:u.AFp},oc]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Ji,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...Xi,...wu],imports:[eo,u.hGG]}),n})(),Mi=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function ao(){return new Mi((0,u.LFG)(oe))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var cn=k(8996),Ar=k(7669);function Xe(...n){const t=(0,Ar.yG)(n);return(0,cn.D)(n,t)}var Pr=k(7579);class un extends Pr.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const ra=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var dr=k(9751);const{isArray:ts}=Array,{getPrototypeOf:ll,prototype:Tf,keys:hc}=Object;function ia(n){if(1===n.length){const t=n[0];if(ts(t))return{args:t,keys:null};if(function po(n){return n&&"object"==typeof n&&ll(n)===Tf}(t)){const e=hc(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}var Pi=k(4671),st=k(4004);const{isArray:sa}=Array;function oa(n){return(0,st.U)(t=>function ns(n,t){return sa(t)?n(...t):n(t)}(n,t))}function go(n,t){return n.reduce((e,r,a)=>(e[r]=t[a],e),{})}var In=k(5403),fc=k(9672);function mo(...n){const t=(0,Ar.yG)(n),e=(0,Ar.jO)(n),{args:r,keys:a}=ia(n);if(0===r.length)return(0,cn.D)([],t);const c=new dr.y(function Sf(n,t,e=Pi.y){return r=>{pc(t,()=>{const{length:a}=n,c=new Array(a);let f=a,m=a;for(let E=0;E<a;E++)pc(t,()=>{const I=(0,cn.D)(n[E],t);let x=!1;I.subscribe((0,In.x)(r,O=>{c[E]=O,x||(x=!0,m--),m||r.next(e(c.slice()))},()=>{--f||r.complete()}))},r)},r)}}(r,t,a?f=>go(a,f):Pi.y));return e?c.pipe(oa(e)):c}function pc(n,t,e){n?(0,fc.f)(e,n,t):t()}var cl=k(8189);function rs(...n){return function aa(){return(0,cl.J)(1)}()((0,cn.D)(n,(0,Ar.yG)(n)))}var Oi=k(8421);function Gr(n){return new dr.y(t=>{(0,Oi.Xf)(n()).subscribe(t)})}var gc=k(9635),_o=k(576);function Er(n,t){const e=(0,_o.m)(n)?n:()=>n,r=a=>a.error(e());return new dr.y(t?a=>t.schedule(r,0,a):r)}var xi=k(515),oi=k(727),Yn=k(4482);function is(){return(0,Yn.e)((n,t)=>{let e=null;n._refCount++;const r=(0,In.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const a=n._connection,c=e;e=null,a&&(!c||a===c)&&a.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class Ri extends dr.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Yn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new oi.w0;const e=this.getSubject();t.add(this.source.subscribe((0,In.x)(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=oi.w0.EMPTY)}return t}refCount(){return is()(this)}}function Tn(n,t){return(0,Yn.e)((e,r)=>{let a=null,c=0,f=!1;const m=()=>f&&!a&&r.complete();e.subscribe((0,In.x)(r,E=>{a?.unsubscribe();let I=0;const x=c++;(0,Oi.Xf)(n(E,x)).subscribe(a=(0,In.x)(r,O=>r.next(t?t(E,O,x,I++):O),()=>{a=null,m()}))},()=>{f=!0,m()}))})}function on(n){return n<=0?()=>xi.E:(0,Yn.e)((t,e)=>{let r=0;t.subscribe((0,In.x)(e,a=>{++r<=n&&(e.next(a),n<=r&&e.complete())}))})}function b(n,t){return(0,Yn.e)((e,r)=>{let a=0;e.subscribe((0,In.x)(r,c=>n.call(t,c,a++)&&r.next(c)))})}var D=k(5577);function M(n){return(0,Yn.e)((t,e)=>{let r=!1;t.subscribe((0,In.x)(e,a=>{r=!0,e.next(a)},()=>{r||e.next(n),e.complete()}))})}function L(n=K){return(0,Yn.e)((t,e)=>{let r=!1;t.subscribe((0,In.x)(e,a=>{r=!0,e.next(a)},()=>r?e.complete():e.error(n())))})}function K(){return new ra}function te(n,t){const e=arguments.length>=2;return r=>r.pipe(n?b((a,c)=>n(a,c,r)):Pi.y,on(1),e?M(t):L(()=>new ra))}function ve(n,t){return(0,_o.m)(t)?(0,D.z)(n,t,1):(0,D.z)(n,1)}var Me=k(8505);function qe(n){return(0,Yn.e)((t,e)=>{let c,r=null,a=!1;r=t.subscribe((0,In.x)(e,void 0,void 0,f=>{c=(0,Oi.Xf)(n(f,qe(n)(t))),r?(r.unsubscribe(),r=null,c.subscribe(e)):a=!0})),a&&(r.unsubscribe(),r=null,c.subscribe(e))})}function ut(n,t,e,r,a){return(c,f)=>{let m=e,E=t,I=0;c.subscribe((0,In.x)(f,x=>{const O=I++;E=m?n(E,x,O):(m=!0,x),r&&f.next(E)},a&&(()=>{m&&f.next(E),f.complete()})))}}function vt(n,t){return(0,Yn.e)(ut(n,t,arguments.length>=2,!0))}function rt(n){return n<=0?()=>xi.E:(0,Yn.e)((t,e)=>{let r=[];t.subscribe((0,In.x)(e,a=>{r.push(a),n<r.length&&r.shift()},()=>{for(const a of r)e.next(a);e.complete()},void 0,()=>{r=null}))})}function dn(n,t){const e=arguments.length>=2;return r=>r.pipe(n?b((a,c)=>n(a,c,r)):Pi.y,rt(1),e?M(t):L(()=>new ra))}function ss(n){return(0,Yn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const yt="primary",ai=Symbol("RouteTitle");class os{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Or(n){return new os(n)}function vo(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const a={};for(let c=0;c<r.length;c++){const f=r[c],m=n[c];if(f.startsWith(":"))a[f.substring(1)]=m;else if(f!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:a}}function zr(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let a;for(let c=0;c<e.length;c++)if(a=e[c],!Zd(n[a],t[a]))return!1;return!0}function Zd(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((a,c)=>r[c]===a)}return n===t}function Mf(n){return Array.prototype.concat.apply([],n)}function Af(n){return n.length>0?n[n.length-1]:null}function Un(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function li(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,cn.D)(Promise.resolve(n)):Xe(n)}const gy={exact:function Of(n,t,e){if(!ks(n.segments,t.segments)||!Ns(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!Of(n.children[r],t.children[r],e))return!1;return!0},subset:la},Kd={exact:function Yd(n,t){return zr(n,t)},subset:function xf(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Zd(n[e],t[e]))},ignored:()=>!0};function Og(n,t,e){return gy[e.paths](n.root,t.root,e.matrixParams)&&Kd[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function la(n,t,e){return Du(n,t,t.segments,e)}function Du(n,t,e,r){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!ks(a,e)||t.hasChildren()||!Ns(a,e,r))}if(n.segments.length===e.length){if(!ks(n.segments,e)||!Ns(n.segments,e,r))return!1;for(const a in t.children)if(!n.children[a]||!la(n.children[a],t.children[a],r))return!1;return!0}{const a=e.slice(0,n.segments.length),c=e.slice(n.segments.length);return!!(ks(n.segments,a)&&Ns(n.segments,a,r)&&n.children[yt])&&Du(n.children[yt],t,c,r)}}function Ns(n,t,e){return t.every((r,a)=>Kd[e](n[a].parameters,r.parameters))}class ca{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Or(this.queryParams)),this._queryParamMap}toString(){return Su.serialize(this)}}class Pt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Un(e,(r,a)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mu(this)}}class Iu{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Or(this.parameters)),this._parameterMap}toString(){return kf(this)}}function ks(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let Qd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new Tu},providedIn:"root"}),n})();class Tu{parse(t){const e=new da(t);return new ca(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${ua(t.root,!0)}`,r=function _y(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(a=>`${_c(e)}=${_c(a)}`).join("&"):`${_c(e)}=${_c(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function xg(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Su=new Tu;function Mu(n){return n.segments.map(t=>kf(t)).join("/")}function ua(n,t){if(!n.hasChildren())return Mu(n);if(t){const e=n.children[yt]?ua(n.children[yt],!1):"",r=[];return Un(n.children,(a,c)=>{c!==yt&&r.push(`${c}:${ua(a,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function Rf(n,t){let e=[];return Un(n.children,(r,a)=>{a===yt&&(e=e.concat(t(r,a)))}),Un(n.children,(r,a)=>{a!==yt&&(e=e.concat(t(r,a)))}),e}(n,(r,a)=>a===yt?[ua(n.children[yt],!1)]:[`${a}:${ua(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[yt]?`${Mu(n)}/${e[0]}`:`${Mu(n)}/(${e.join("//")})`}}function Nf(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _c(n){return Nf(n).replace(/%3B/gi,";")}function ci(n){return Nf(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Co(n){return decodeURIComponent(n)}function Jd(n){return Co(n.replace(/\+/g,"%20"))}function kf(n){return`${ci(n.path)}${function my(n){return Object.keys(n).map(t=>`;${ci(t)}=${ci(n[t])}`).join("")}(n.parameters)}`}const yy=/^[^\/()?;=#]+/;function Xd(n){const t=n.match(yy);return t?t[0]:""}const Ff=/^[^=?&#]+/,Rg=/^[^&#]+/;class da{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pt([],{}):new Pt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[yt]=new Pt(t,e)),r}parseSegment(){const t=Xd(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(t),new Iu(Co(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Xd(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const a=Xd(this.remaining);a&&(r=a,this.capture(r))}t[Co(e)]=Co(r)}parseQueryParam(t){const e=function Lf(n){const t=n.match(Ff);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const f=function vy(n){const t=n.match(Rg);return t?t[0]:""}(this.remaining);f&&(r=f,this.capture(r))}const a=Jd(e),c=Jd(r);if(t.hasOwnProperty(a)){let f=t[a];Array.isArray(f)||(f=[f],t[a]=f),f.push(c)}else t[a]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Xd(this.remaining),a=this.remaining[r.length];if("/"!==a&&")"!==a&&";"!==a)throw new u.vHH(4010,!1);let c;r.indexOf(":")>-1?(c=r.slice(0,r.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=yt);const f=this.parseChildren();e[c]=1===Object.keys(f).length?f[yt]:new Pt([],f),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new u.vHH(4011,!1)}}function yc(n){return n.segments.length>0?new Pt([],{[yt]:n}):n}function ui(n){const t={};for(const r of Object.keys(n.children)){const c=ui(n.children[r]);(c.segments.length>0||c.hasChildren())&&(t[r]=c)}return function ha(n){if(1===n.numberOfChildren&&n.children[yt]){const t=n.children[yt];return new Pt(n.segments.concat(t.segments),t.children)}return n}(new Pt(n.segments,t))}function Eo(n){return n instanceof ca}function Ey(n,t,e,r,a){if(0===e.length)return vc(t.root,t.root,t.root,r,a);const c=function Uf(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new eh(!0,0,n);let t=0,e=!1;const r=n.reduce((a,c,f)=>{if("object"==typeof c&&null!=c){if(c.outlets){const m={};return Un(c.outlets,(E,I)=>{m[I]="string"==typeof E?E.split("/"):E}),[...a,{outlets:m}]}if(c.segmentPath)return[...a,c.segmentPath]}return"string"!=typeof c?[...a,c]:0===f?(c.split("/").forEach((m,E)=>{0==E&&"."===m||(0==E&&""===m?e=!0:".."===m?t++:""!=m&&a.push(m))}),a):[...a,c]},[]);return new eh(e,t,r)}(e);return c.toRoot()?vc(t.root,t.root,new Pt([],{}),r,a):function f(E){const I=function th(n,t,e,r){if(n.isAbsolute)return new dl(t.root,!0,0);if(-1===r)return new dl(e,e===t.root,0);return function nh(n,t,e){let r=n,a=t,c=e;for(;c>a;){if(c-=a,r=r.parent,!r)throw new u.vHH(4005,!1);a=r.segments.length}return new dl(r,!1,a-c)}(e,r+(fa(n.commands[0])?0:1),n.numberOfDoubleDots)}(c,t,n.snapshot?._urlSegment,E),x=I.processChildren?Ls(I.segmentGroup,I.index,c.commands):Cc(I.segmentGroup,I.index,c.commands);return vc(t.root,I.segmentGroup,x,r,a)}(n.snapshot?._lastPathIndex)}function fa(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Fs(n){return"object"==typeof n&&null!=n&&n.outlets}function vc(n,t,e,r,a){let f,c={};r&&Un(r,(E,I)=>{c[I]=Array.isArray(E)?E.map(x=>`${x}`):`${E}`}),f=n===t?e:kg(n,t,e);const m=yc(ui(f));return new ca(m,c,a)}function kg(n,t,e){const r={};return Un(n.children,(a,c)=>{r[c]=a===t?e:kg(a,t,e)}),new Pt(n.segments,r)}class eh{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&fa(r[0]))throw new u.vHH(4003,!1);const a=r.find(Fs);if(a&&a!==Af(r))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class dl{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function Cc(n,t,e){if(n||(n=new Pt([],{})),0===n.segments.length&&n.hasChildren())return Ls(n,t,e);const r=function Fg(n,t,e){let r=0,a=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(r>=e.length)return c;const f=n.segments[a],m=e[r];if(Fs(m))break;const E=`${m}`,I=r<e.length-1?e[r+1]:null;if(a>0&&void 0===E)break;if(E&&I&&"object"==typeof I&&void 0===I.outlets){if(!Ou(E,I,f))return c;r+=2}else{if(!Ou(E,{},f))return c;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}(n,t,e),a=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new Pt(n.segments.slice(0,r.pathIndex),{});return c.children[yt]=new Pt(n.segments.slice(r.pathIndex),n.children),Ls(c,0,a)}return r.match&&0===a.length?new Pt(n.segments,{}):r.match&&!n.hasChildren()?Sn(n,t,e):r.match?Ls(n,0,a):Sn(n,t,e)}function Ls(n,t,e){if(0===e.length)return new Pt(n.segments,{});{const r=function Au(n){return Fs(n[0])?n[0].outlets:{[yt]:n}}(e),a={};return Un(r,(c,f)=>{"string"==typeof c&&(c=[c]),null!==c&&(a[f]=Cc(n.children[f],t,c))}),Un(n.children,(c,f)=>{void 0===r[f]&&(a[f]=c)}),new Pt(n.segments,a)}}function Sn(n,t,e){const r=n.segments.slice(0,t);let a=0;for(;a<e.length;){const c=e[a];if(Fs(c)){const E=Pu(c.outlets);return new Pt(r,E)}if(0===a&&fa(e[0])){r.push(new Iu(n.segments[t].path,Hf(e[0]))),a++;continue}const f=Fs(c)?c.outlets[yt]:`${c}`,m=a<e.length-1?e[a+1]:null;f&&m&&fa(m)?(r.push(new Iu(f,Hf(m))),a+=2):(r.push(new Iu(f,{})),a++)}return new Pt(r,{})}function Pu(n){const t={};return Un(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=Sn(new Pt([],{}),0,e))}),t}function Hf(n){const t={};return Un(n,(e,r)=>t[r]=`${e}`),t}function Ou(n,t,e){return n==e.path&&zr(t,e.parameters)}class as{constructor(t,e){this.id=t,this.url=e}}class xu extends as{constructor(t,e,r="imperative",a=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pa extends as{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ru extends as{constructor(t,e,r,a){super(t,e),this.reason=r,this.code=a,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class jf extends as{constructor(t,e,r,a){super(t,e),this.error=r,this.target=a,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Lg extends as{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nu extends as{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wy extends as{constructor(t,e,r,a,c){super(t,e),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hl extends as{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rh extends as{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $f{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Wf{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Gf{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zf{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ku{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fu{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ec{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Lu{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=wc(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=wc(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=hr(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return hr(t,this._root).map(e=>e.value)}}function wc(n,t){if(n===t.value)return t;for(const e of t.children){const r=wc(n,e);if(r)return r}return null}function hr(n,t){if(n===t.value)return[t];for(const e of t.children){const r=hr(n,e);if(r.length)return r.unshift(t),r}return[]}class xr{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Zr(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Zf extends Lu{constructor(t,e){super(t),this.snapshot=e,Dc(this,t)}toString(){return this.snapshot.toString()}}function fl(n,t){const e=function pl(n,t){const f=new rr([],{},{},"",{},yt,t,null,n.root,-1,{});return new Uu("",new xr(f,[]))}(n,t),r=new un([new Iu("",{})]),a=new un({}),c=new un({}),f=new un({}),m=new un(""),E=new ga(r,a,f,m,c,yt,t,e.root);return E.snapshot=e.root,new Zf(new xr(E,[]),e)}class ga{constructor(t,e,r,a,c,f,m,E){this.url=t,this.params=e,this.queryParams=r,this.fragment=a,this.data=c,this.outlet=f,this.component=m,this.title=this.data?.pipe((0,st.U)(I=>I[ai]))??Xe(void 0),this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,st.U)(t=>Or(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,st.U)(t=>Or(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bc(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const a=e[r],c=e[r-1];if(a.routeConfig&&""===a.routeConfig.path)r--;else{if(c.component)break;r--}}return function Vu(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class rr{constructor(t,e,r,a,c,f,m,E,I,x,O,W){this.url=t,this.params=e,this.queryParams=r,this.fragment=a,this.data=c,this.outlet=f,this.component=m,this.title=this.data?.[ai],this.routeConfig=E,this._urlSegment=I,this._lastPathIndex=x,this._correctedLastPathIndex=W??x,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Or(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Or(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Uu extends Lu{constructor(t,e){super(e),this.url=t,Dc(this,e)}toString(){return qf(this._root)}}function Dc(n,t){t.value._routerState=n,t.children.forEach(e=>Dc(n,e))}function qf(n){const t=n.children.length>0?` { ${n.children.map(qf).join(", ")} } `:"";return`${n.value}${t}`}function ih(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,zr(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),zr(t.params,e.params)||n.params.next(e.params),function Rs(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!zr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),zr(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ic(n,t){const e=zr(n.params,t.params)&&function mc(n,t){return ks(n,t)&&n.every((e,r)=>zr(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Ic(n.parent,t.parent))}function ma(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const a=function sh(n,t,e){return t.children.map(r=>{for(const a of e.children)if(n.shouldReuseRoute(r.value,a.value.snapshot))return ma(n,r,a);return ma(n,r)})}(n,t,e);return new xr(r,a)}{if(n.shouldAttach(t.value)){const c=n.retrieve(t.value);if(null!==c){const f=c.route;return f.value._futureSnapshot=t.value,f.children=t.children.map(m=>ma(n,m)),f}}const r=function Vg(n){return new ga(new un(n.url),new un(n.params),new un(n.queryParams),new un(n.fragment),new un(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(c=>ma(n,c));return new xr(r,a)}}const Ni="ngNavigationCancelingError";function wo(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=Eo(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,a=oh(!1,0,t);return a.url=e,a.navigationBehaviorOptions=r,a}function oh(n,t,e){const r=new Error("NavigationCancelingError: "+(n||""));return r[Ni]=!0,r.cancellationCode=t,e&&(r.url=e),r}function Bu(n){return Kf(n)&&Eo(n.url)}function Kf(n){return n&&n[Ni]}class Hu{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ju,this.attachRef=null}}let ju=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const a=this.getOrCreateContext(e);a.outlet=r,this.contexts.set(e,a)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new Hu,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $u=!1;let gl=(()=>{class n{constructor(e,r,a,c,f){this.parentContexts=e,this.location=r,this.changeDetector=c,this.environmentInjector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=a||yt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,$u);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,$u);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,$u);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new u.vHH(4013,$u);this._activatedRoute=e;const a=this.location,f=e._futureSnapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,E=new Ug(e,m,a.injector);if(r&&function _(n){return!!n.resolveComponentFactory}(r)){const I=r.resolveComponentFactory(f);this.activated=a.createComponent(I,a.length,E)}else this.activated=a.createComponent(f,{index:a.length,injector:E,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(ju),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Ug{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===ga?this.route:t===ju?this.childContexts:this.parent.get(t,e)}}let h=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(e,r){1&e&&u._UZ(0,"router-outlet")},dependencies:[gl],encapsulation:2}),n})();function g(n,t){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function it(n){const t=n.children&&n.children.map(it),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==yt&&(e.component=h),e}function qt(n){return n.outlet||yt}function Rr(n,t){const e=n.filter(r=>qt(r)===t);return e.push(...n.filter(r=>qt(r)!==t)),e}function _a(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Tc{constructor(t,e,r,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=a}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),ih(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const a=Zr(e);t.children.forEach(c=>{const f=c.value.outlet;this.deactivateRoutes(c,a[f],r),delete a[f]}),Un(a,(c,f)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(t,e,r){const a=t.value,c=e?e.value:null;if(a===c)if(a.component){const f=r.getContext(a.outlet);f&&this.deactivateChildRoutes(t,e,f.children)}else this.deactivateChildRoutes(t,e,r);else c&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),a=r&&t.value.component?r.children:e,c=Zr(t);for(const f of Object.keys(c))this.deactivateRouteAndItsChildren(c[f],a);if(r&&r.outlet){const f=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:f,route:t,contexts:m})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),a=r&&t.value.component?r.children:e,c=Zr(t);for(const f of Object.keys(c))this.deactivateRouteAndItsChildren(c[f],a);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const a=Zr(e);t.children.forEach(c=>{this.activateRoutes(c,a[c.value.outlet],r),this.forwardEvent(new Fu(c.value.snapshot))}),t.children.length&&this.forwardEvent(new zf(t.value.snapshot))}activateRoutes(t,e,r){const a=t.value,c=e?e.value:null;if(ih(a),a===c)if(a.component){const f=r.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,f.children)}else this.activateChildRoutes(t,e,r);else if(a.component){const f=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const m=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),f.children.onOutletReAttached(m.contexts),f.attachRef=m.componentRef,f.route=m.route.value,f.outlet&&f.outlet.attach(m.componentRef,m.route.value),ih(m.route.value),this.activateChildRoutes(t,null,f.children)}else{const m=_a(a.snapshot),E=m?.get(u._Vd)??null;f.attachRef=null,f.route=a,f.resolver=E,f.injector=m,f.outlet&&f.outlet.activateWith(a,f.injector),this.activateChildRoutes(t,null,f.children)}}else this.activateChildRoutes(t,null,r)}}class Yf{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Wu{constructor(t,e){this.component=t,this.route=e}}function Qf(n,t,e){const r=n._root;return ya(r,t?t._root:null,e,[r.value])}function ml(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||(0,u.Z0I)(n)?t.get(n):n:r}function ya(n,t,e,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=Zr(t);return n.children.forEach(f=>{(function ah(n,t,e,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,f=t?t.value:null,m=e?e.getContext(n.value.outlet):null;if(f&&c.routeConfig===f.routeConfig){const E=function lh(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!ks(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ks(n.url,t.url)||!zr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ic(n,t)||!zr(n.queryParams,t.queryParams);default:return!Ic(n,t)}}(f,c,c.routeConfig.runGuardsAndResolvers);E?a.canActivateChecks.push(new Yf(r)):(c.data=f.data,c._resolvedData=f._resolvedData),ya(n,t,c.component?m?m.children:null:e,r,a),E&&m&&m.outlet&&m.outlet.isActivated&&a.canDeactivateChecks.push(new Wu(m.outlet.component,f))}else f&&bo(t,m,a),a.canActivateChecks.push(new Yf(r)),ya(n,null,c.component?m?m.children:null:e,r,a)})(f,c[f.value.outlet],e,r.concat([f.value]),a),delete c[f.value.outlet]}),Un(c,(f,m)=>bo(f,e.getContext(m),a)),a}function bo(n,t,e){const r=Zr(n),a=n.value;Un(r,(c,f)=>{bo(c,a.component?t?t.children.getContext(f):null:t,e)}),e.canDeactivateChecks.push(new Wu(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}function _l(n){return"function"==typeof n}function Jf(n){return n instanceof ra||"EmptyError"===n?.name}const Xf=Symbol("INITIAL_VALUE");function Gu(){return Tn(n=>mo(n.map(t=>t.pipe(on(1),function zd(...n){const t=(0,Ar.yG)(n);return(0,Yn.e)((e,r)=>{(t?rs(n,e,t):rs(n,e)).subscribe(r)})}(Xf)))).pipe((0,st.U)(t=>{for(const e of t)if(!0!==e){if(e===Xf)return Xf;if(!1===e||e instanceof ca)return e}return!0}),b(t=>t!==Xf),on(1)))}function Nr(n){return(0,gc.z)((0,Me.b)(t=>{if(Eo(t))throw wo(0,t)}),(0,st.U)(t=>!0===t))}const ep={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tp(n,t,e,r,a){const c=fr(n,t,e);return c.matched?function Gg(n,t,e,r){const a=t.canMatch;return a&&0!==a.length?Xe(a.map(f=>{const m=ml(f,n);return li(function XE(n){return n&&_l(n.canMatch)}(m)?m.canMatch(t,e):n.runInContext(()=>m(t,e)))})).pipe(Gu(),Nr()):Xe(!0)}(r=g(t,r),t,e).pipe((0,st.U)(f=>!0===f?c:{...ep})):Xe(c)}function fr(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...ep}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const a=(t.matcher||vo)(e,n,t);if(!a)return{...ep};const c={};Un(a.posParams,(m,E)=>{c[E]=m.path});const f=a.consumed.length>0?{...c,...a.consumed[a.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:a.consumed,remainingSegments:e.slice(a.consumed.length),parameters:f,positionalParamSegments:a.posParams??{}}}function yl(n,t,e,r,a="corrected"){if(e.length>0&&function cw(n,t,e){return e.some(r=>np(n,t,r)&&qt(r)!==yt)}(n,e,r)){const f=new Pt(t,function lw(n,t,e,r){const a={};a[yt]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const c of e)if(""===c.path&&qt(c)!==yt){const f=new Pt([],{});f._sourceSegment=n,f._segmentIndexShift=t.length,a[qt(c)]=f}return a}(n,t,r,new Pt(e,n.children)));return f._sourceSegment=n,f._segmentIndexShift=t.length,{segmentGroup:f,slicedSegments:[]}}if(0===e.length&&function Sy(n,t,e){return e.some(r=>np(n,t,r))}(n,e,r)){const f=new Pt(n.segments,function Ty(n,t,e,r,a,c){const f={};for(const m of r)if(np(n,e,m)&&!a[qt(m)]){const E=new Pt([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===c?n.segments.length:t.length,f[qt(m)]=E}return{...a,...f}}(n,t,e,r,n.children,a));return f._sourceSegment=n,f._segmentIndexShift=t.length,{segmentGroup:f,slicedSegments:e}}const c=new Pt(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}function np(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function zg(n,t,e,r){return!!(qt(n)===r||r!==yt&&np(t,e,n))&&("**"===n.path||fr(t,n,e).matched)}function My(n,t,e){return 0===t.length&&!n.children[e]}const uh=!1;class rp{constructor(t){this.segmentGroup=t||null}}class Ay{constructor(t){this.urlTree=t}}function dh(n){return Er(new rp(n))}function Py(n){return Er(new Ay(n))}class dw{constructor(t,e,r,a,c){this.injector=t,this.configLoader=e,this.urlSerializer=r,this.urlTree=a,this.config=c,this.allowRedirects=!0}apply(){const t=yl(this.urlTree.root,[],[],this.config).segmentGroup,e=new Pt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,yt).pipe((0,st.U)(c=>this.createUrlTree(ui(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(qe(c=>{if(c instanceof Ay)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof rp?this.noMatchError(c):c}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,yt).pipe((0,st.U)(a=>this.createUrlTree(ui(a),t.queryParams,t.fragment))).pipe(qe(a=>{throw a instanceof rp?this.noMatchError(a):a}))}noMatchError(t){return new u.vHH(4002,uh)}createUrlTree(t,e,r){const a=yc(t);return new ca(a,e,r)}expandSegmentGroup(t,e,r,a){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,st.U)(c=>new Pt([],c))):this.expandSegment(t,r,e,r.segments,a,!0)}expandChildren(t,e,r){const a=[];for(const c of Object.keys(r.children))"primary"===c?a.unshift(c):a.push(c);return(0,cn.D)(a).pipe(ve(c=>{const f=r.children[c],m=Rr(e,c);return this.expandSegmentGroup(t,m,f,c).pipe((0,st.U)(E=>({segment:E,outlet:c})))}),vt((c,f)=>(c[f.outlet]=f.segment,c),{}),dn())}expandSegment(t,e,r,a,c,f){return(0,cn.D)(r).pipe(ve(m=>this.expandSegmentAgainstRoute(t,e,r,m,a,c,f).pipe(qe(I=>{if(I instanceof rp)return Xe(null);throw I}))),te(m=>!!m),qe((m,E)=>{if(Jf(m))return My(e,a,c)?Xe(new Pt([],{})):dh(e);throw m}))}expandSegmentAgainstRoute(t,e,r,a,c,f,m){return zg(a,e,c,f)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,c,f):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,a,c,f):dh(e):dh(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,a,c,f){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,a,f):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,a,c,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,a){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Py(c):this.lineralizeSegments(r,c).pipe((0,D.z)(f=>{const m=new Pt(f,{});return this.expandSegment(t,m,e,f,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,a,c,f){const{matched:m,consumedSegments:E,remainingSegments:I,positionalParamSegments:x}=fr(e,a,c);if(!m)return dh(e);const O=this.applyRedirectCommands(E,a.redirectTo,x);return a.redirectTo.startsWith("/")?Py(O):this.lineralizeSegments(a,O).pipe((0,D.z)(W=>this.expandSegment(t,e,r,W.concat(I),f,!1)))}matchSegmentAgainstRoute(t,e,r,a,c){return"**"===r.path?(t=g(r,t),r.loadChildren?(r._loadedRoutes?Xe({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe((0,st.U)(m=>(r._loadedRoutes=m.routes,r._loadedInjector=m.injector,new Pt(a,{})))):Xe(new Pt(a,{}))):tp(e,r,a,t).pipe(Tn(({matched:f,consumedSegments:m,remainingSegments:E})=>f?this.getChildConfig(t=r._injector??t,r,a).pipe((0,D.z)(x=>{const O=x.injector??t,W=x.routes,{segmentGroup:ee,slicedSegments:fe}=yl(e,m,E,W),Ae=new Pt(ee.segments,ee.children);if(0===fe.length&&Ae.hasChildren())return this.expandChildren(O,W,Ae).pipe((0,st.U)(Yt=>new Pt(m,Yt)));if(0===W.length&&0===fe.length)return Xe(new Pt(m,{}));const He=qt(r)===c;return this.expandSegment(O,Ae,W,fe,He?yt:c,!0).pipe((0,st.U)(wt=>new Pt(m.concat(wt.segments),wt.children)))})):dh(e)))}getChildConfig(t,e,r){return e.children?Xe({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Xe({routes:e._loadedRoutes,injector:e._loadedInjector}):function aw(n,t,e,r){const a=t.canLoad;return void 0===a||0===a.length?Xe(!0):Xe(a.map(f=>{const m=ml(f,n);return li(function jg(n){return n&&_l(n.canLoad)}(m)?m.canLoad(t,e):n.runInContext(()=>m(t,e)))})).pipe(Gu(),Nr())}(t,e,r).pipe((0,D.z)(a=>a?this.configLoader.loadChildren(t,e).pipe((0,Me.b)(c=>{e._loadedRoutes=c.routes,e._loadedInjector=c.injector})):function zu(n){return Er(oh(uh,3))}())):Xe({routes:[],injector:t})}lineralizeSegments(t,e){let r=[],a=e.root;for(;;){if(r=r.concat(a.segments),0===a.numberOfChildren)return Xe(r);if(a.numberOfChildren>1||!a.children[yt])return Er(new u.vHH(4e3,uh));a=a.children[yt]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreateUrlTree(t,e,r,a){const c=this.createSegmentGroup(t,e.root,r,a);return new ca(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Un(t,(a,c)=>{if("string"==typeof a&&a.startsWith(":")){const m=a.substring(1);r[c]=e[m]}else r[c]=a}),r}createSegmentGroup(t,e,r,a){const c=this.createSegments(t,e.segments,r,a);let f={};return Un(e.children,(m,E)=>{f[E]=this.createSegmentGroup(t,m,r,a)}),new Pt(c,f)}createSegments(t,e,r,a){return e.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,a):this.findOrReturn(c,r))}findPosParam(t,e,r){const a=r[e.path.substring(1)];if(!a)throw new u.vHH(4001,uh);return a}findOrReturn(t,e){let r=0;for(const a of e){if(a.path===t.path)return e.splice(r),a;r++}return t}}class aT{}class Do{constructor(t,e,r,a,c,f,m,E){this.injector=t,this.rootComponentType=e,this.config=r,this.urlTree=a,this.url=c,this.paramsInheritanceStrategy=f,this.relativeLinkResolution=m,this.urlSerializer=E}recognize(){const t=yl(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,yt).pipe((0,st.U)(e=>{if(null===e)return null;const r=new rr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},yt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new xr(r,e),c=new Uu(this.url,a);return this.inheritParamsAndData(c._root),c}))}inheritParamsAndData(t){const e=t.value,r=bc(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,r,a){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,a)}processChildren(t,e,r){return(0,cn.D)(Object.keys(r.children)).pipe(ve(a=>{const c=r.children[a],f=Rr(e,a);return this.processSegmentGroup(t,f,c,a)}),vt((a,c)=>a&&c?(a.push(...c),a):null),function Qn(n,t=!1){return(0,Yn.e)((e,r)=>{let a=0;e.subscribe((0,In.x)(r,c=>{const f=n(c,a++);(f||t)&&r.next(c),!f&&r.complete()}))})}(a=>null!==a),M(null),dn(),(0,st.U)(a=>{if(null===a)return null;const c=Yg(a);return function qg(n){n.sort((t,e)=>t.value.outlet===yt?-1:e.value.outlet===yt?1:t.value.outlet.localeCompare(e.value.outlet))}(c),c}))}processSegment(t,e,r,a,c){return(0,cn.D)(e).pipe(ve(f=>this.processSegmentAgainstRoute(f._injector??t,f,r,a,c)),te(f=>!!f),qe(f=>{if(Jf(f))return My(r,a,c)?Xe([]):Xe(null);throw f}))}processSegmentAgainstRoute(t,e,r,a,c){if(e.redirectTo||!zg(e,r,a,c))return Xe(null);let f;if("**"===e.path){const m=a.length>0?Af(a).parameters:{},E=xy(r)+a.length;f=Xe({snapshot:new rr(a,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ip(e),qt(e),e.component??e._loadedComponent??null,e,Zu(r),E,sp(e),E),consumedSegments:[],remainingSegments:[]})}else f=tp(r,e,a,t).pipe((0,st.U)(({matched:m,consumedSegments:E,remainingSegments:I,parameters:x})=>{if(!m)return null;const O=xy(r)+E.length;return{snapshot:new rr(E,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ip(e),qt(e),e.component??e._loadedComponent??null,e,Zu(r),O,sp(e),O),consumedSegments:E,remainingSegments:I}}));return f.pipe(Tn(m=>{if(null===m)return Xe(null);const{snapshot:E,consumedSegments:I,remainingSegments:x}=m;t=e._injector??t;const O=e._loadedInjector??t,W=function Kg(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:ee,slicedSegments:fe}=yl(r,I,x,W.filter(He=>void 0===He.redirectTo),this.relativeLinkResolution);if(0===fe.length&&ee.hasChildren())return this.processChildren(O,W,ee).pipe((0,st.U)(He=>null===He?null:[new xr(E,He)]));if(0===W.length&&0===fe.length)return Xe([new xr(E,[])]);const Ae=qt(e)===c;return this.processSegment(O,W,ee,fe,Ae?yt:c).pipe((0,st.U)(He=>null===He?null:[new xr(E,He)]))}))}}function fw(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Yg(n){const t=[],e=new Set;for(const r of n){if(!fw(r)){t.push(r);continue}const a=t.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==a?(a.children.push(...r.children),e.add(a)):t.push(r)}for(const r of e){const a=Yg(r.children);t.push(new xr(r.value,a))}return t.filter(r=>!e.has(r))}function Zu(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function xy(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function ip(n){return n.data||{}}function sp(n){return n.resolve||{}}function op(n){return"string"==typeof n.title||null===n.title}function Jg(n){return Tn(t=>{const e=n(t);return e?(0,cn.D)(e).pipe((0,st.U)(()=>t)):Xe(t)})}let Fy=(()=>{class n{buildTitle(e){let r,a=e.root;for(;void 0!==a;)r=this.getResolvedTitleForRoute(a)??r,a=a.children.find(c=>c.outlet===yt);return r}getResolvedTitleForRoute(e){return e.data[ai]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Ly)},providedIn:"root"}),n})(),Ly=(()=>{class n extends Fy{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Mi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class mw{}class Vy extends class _w{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const hh=new u.OlP("",{providedIn:"root",factory:()=>({})}),em=new u.OlP("ROUTES");let tm=(()=>{class n{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Xe(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=li(e.loadComponent()).pipe((0,Me.b)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=c}),ss(()=>{this.componentLoaders.delete(e)})),a=new Ri(r,()=>new Pr.x).pipe(is());return this.componentLoaders.set(e,a),a}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Xe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const c=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,st.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let E,I,x=!1;Array.isArray(m)?I=m:(E=m.create(e).injector,I=Mf(E.get(em,[],u.XFs.Self|u.XFs.Optional)));return{routes:I.map(it),injector:E}}),ss(()=>{this.childrenLoaders.delete(r)})),f=new Ri(c,()=>new Pr.x).pipe(is());return this.childrenLoaders.set(r,f),f}loadModuleFactoryOrRoutes(e){return li(e()).pipe((0,D.z)(r=>r instanceof u.YKP||Array.isArray(r)?Xe(r):(0,cn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Uy{}class By{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Hy(n){throw n}function jy(n,t,e){return t.parse("/")}const yw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function $y(){const n=(0,u.f3M)(Qd),t=(0,u.f3M)(ju),e=(0,u.f3M)(Ie),r=(0,u.f3M)(u.zs3),a=(0,u.f3M)(u.Sil),c=(0,u.f3M)(em,{optional:!0})??[],f=(0,u.f3M)(hh,{optional:!0})??{},m=(0,u.f3M)(Ly),E=(0,u.f3M)(Fy,{optional:!0}),I=(0,u.f3M)(Uy,{optional:!0}),x=(0,u.f3M)(mw,{optional:!0}),O=new pr(null,n,t,e,r,a,Mf(c));return I&&(O.urlHandlingStrategy=I),x&&(O.routeReuseStrategy=x),O.titleStrategy=E??m,function lp(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(f,O),O}let pr=(()=>{class n{constructor(e,r,a,c,f,m,E){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=a,this.location=c,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Pr.x,this.errorHandler=Hy,this.malformedUriErrorHandler=jy,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Xe(void 0),this.urlHandlingStrategy=new By,this.routeReuseStrategy=new Vy,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=f.get(tm),this.configLoader.onLoadEndListener=W=>this.triggerEvent(new Wf(W)),this.configLoader.onLoadStartListener=W=>this.triggerEvent(new $f(W)),this.ngModule=f.get(u.h0i),this.console=f.get(u.c2e);const O=f.get(u.R0b);this.isNgZoneEnabled=O instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=function Pf(){return new ca(new Pt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=fl(this.currentUrlTree,this.rootComponentType),this.transitions=new un({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(b(a=>0!==a.id),(0,st.U)(a=>({...a,extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Tn(a=>{let c=!1,f=!1;return Xe(a).pipe((0,Me.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Tn(m=>{const E=this.browserUrlTree.toString(),I=!this.navigated||m.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||I)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return nm(m.source)&&(this.browserUrlTree=m.extractedUrl),Xe(m).pipe(Tn(O=>{const W=this.transitions.getValue();return r.next(new xu(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),W!==this.transitions.getValue()?xi.E:Promise.resolve(O)}),function hw(n,t,e,r){return Tn(a=>function va(n,t,e,r,a){return new dw(n,t,e,r,a).apply()}(n,t,e,a.extractedUrl,r).pipe((0,st.U)(c=>({...a,urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Me.b)(O=>{this.currentNavigation={...this.currentNavigation,finalUrl:O.urlAfterRedirects},a.urlAfterRedirects=O.urlAfterRedirects}),function Ny(n,t,e,r,a,c){return(0,D.z)(f=>function lT(n,t,e,r,a,c,f="emptyOnly",m="legacy"){return new Do(n,t,e,r,a,f,m,c).recognize().pipe(Tn(E=>null===E?function Oy(n){return new dr.y(t=>t.error(n))}(new aT):Xe(E)))}(n,t,e,f.urlAfterRedirects,r.serialize(f.urlAfterRedirects),r,a,c).pipe((0,st.U)(m=>({...f,targetSnapshot:m}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Me.b)(O=>{if(a.targetSnapshot=O.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!O.extras.skipLocationChange){const ee=this.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl);this.setBrowserUrl(ee,O)}this.browserUrlTree=O.urlAfterRedirects}const W=new Lg(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);r.next(W)}));if(I&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:W,extractedUrl:ee,source:fe,restoredState:Ae,extras:He}=m,ft=new xu(W,this.serializeUrl(ee),fe,Ae);r.next(ft);const wt=fl(ee,this.rootComponentType).snapshot;return Xe(a={...m,targetSnapshot:wt,urlAfterRedirects:ee,extras:{...He,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=m.rawUrl,m.resolve(null),xi.E}),(0,Me.b)(m=>{const E=new Nu(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(E)}),(0,st.U)(m=>a={...m,guards:Qf(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),function tw(n,t){return(0,D.z)(e=>{const{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:c,canDeactivateChecks:f}}=e;return 0===f.length&&0===c.length?Xe({...e,guardsResult:!0}):function nw(n,t,e,r){return(0,cn.D)(n).pipe((0,D.z)(a=>function ow(n,t,e,r,a){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return c&&0!==c.length?Xe(c.map(m=>{const E=_a(t)??a,I=ml(m,E);return li(function ch(n){return n&&_l(n.canDeactivate)}(I)?I.canDeactivate(n,t,e,r):E.runInContext(()=>I(n,t,e,r))).pipe(te())})).pipe(Gu()):Xe(!0)}(a.component,a.route,e,t,r)),te(a=>!0!==a,!0))}(f,r,a,n).pipe((0,D.z)(m=>m&&function Dy(n){return"boolean"==typeof n}(m)?function Wg(n,t,e,r){return(0,cn.D)(t).pipe(ve(a=>rs(function iw(n,t){return null!==n&&t&&t(new Gf(n)),Xe(!0)}(a.route.parent,r),function rw(n,t){return null!==n&&t&&t(new ku(n)),Xe(!0)}(a.route,r),function Iy(n,t,e){const r=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(f=>function Hg(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(f)).filter(f=>null!==f).map(f=>Gr(()=>Xe(f.guards.map(E=>{const I=_a(f.node)??e,x=ml(E,I);return li(function $g(n){return n&&_l(n.canActivateChild)}(x)?x.canActivateChild(r,n):I.runInContext(()=>x(r,n))).pipe(te())})).pipe(Gu())));return Xe(c).pipe(Gu())}(n,a.path,e),function sw(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Xe(!0);const a=r.map(c=>Gr(()=>{const f=_a(t)??e,m=ml(c,f);return li(function JE(n){return n&&_l(n.canActivate)}(m)?m.canActivate(t,n):f.runInContext(()=>m(t,n))).pipe(te())}));return Xe(a).pipe(Gu())}(n,a.route,e))),te(a=>!0!==a,!0))}(r,c,n,t):Xe(m)),(0,st.U)(m=>({...e,guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Me.b)(m=>{if(a.guardsResult=m.guardsResult,Eo(m.guardsResult))throw wo(0,m.guardsResult);const E=new wy(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(E)}),b(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",3),!1)),Jg(m=>{if(m.guards.canActivateChecks.length)return Xe(m).pipe((0,Me.b)(E=>{const I=new hl(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(I)}),Tn(E=>{let I=!1;return Xe(E).pipe(function cT(n,t){return(0,D.z)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:a}}=e;if(!a.length)return Xe(e);let c=0;return(0,cn.D)(a).pipe(ve(f=>function qu(n,t,e,r){const a=n.routeConfig,c=n._resolve;return void 0!==a?.title&&!op(a)&&(c[ai]=a.title),function Qg(n,t,e,r){const a=function ky(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===a.length)return Xe({});const c={};return(0,cn.D)(a).pipe((0,D.z)(f=>function gw(n,t,e,r){const a=_a(t)??r,c=ml(n,a);return li(c.resolve?c.resolve(t,e):a.runInContext(()=>c(t,e)))}(n[f],t,e,r).pipe(te(),(0,Me.b)(m=>{c[f]=m}))),rt(1),function yo(n){return(0,st.U)(()=>n)}(c),qe(f=>Jf(f)?xi.E:Er(f)))}(c,n,t,r).pipe((0,st.U)(f=>(n._resolvedData=f,n.data=bc(n,e).resolve,a&&op(a)&&(n.data[ai]=a.title),null)))}(f.route,r,n,t)),(0,Me.b)(()=>c++),rt(1),(0,D.z)(f=>c===a.length?Xe(e):xi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Me.b)({next:()=>I=!0,complete:()=>{I||(this.restoreHistory(E),this.cancelNavigationTransition(E,"",2))}}))}),(0,Me.b)(E=>{const I=new rh(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(I)}))}),Jg(m=>{const E=I=>{const x=[];I.routeConfig?.loadComponent&&!I.routeConfig._loadedComponent&&x.push(this.configLoader.loadComponent(I.routeConfig).pipe((0,Me.b)(O=>{I.component=O}),(0,st.U)(()=>{})));for(const O of I.children)x.push(...E(O));return x};return mo(E(m.targetSnapshot.root)).pipe(M(),on(1))}),Jg(()=>this.afterPreactivation()),(0,st.U)(m=>{const E=function zn(n,t,e){const r=ma(n,t._root,e?e._root:void 0);return new Zf(r,t)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return a={...m,targetRouterState:E}}),(0,Me.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,t,e)=>(0,st.U)(r=>(new Tc(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Me.b)({next(){c=!0},complete(){c=!0}}),ss(()=>{c||f||this.cancelNavigationTransition(a,"",1),this.currentNavigation?.id===a.id&&(this.currentNavigation=null)}),qe(m=>{if(f=!0,Kf(m)){Bu(m)||(this.navigated=!0,this.restoreHistory(a,!0));const E=new Ru(a.id,this.serializeUrl(a.extractedUrl),m.message,m.cancellationCode);if(r.next(E),Bu(m)){const I=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),x={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||nm(a.source)};this.scheduleNavigation(I,"imperative",null,x,{resolve:a.resolve,reject:a.reject,promise:a.promise})}else a.resolve(!1)}else{this.restoreHistory(a,!0);const E=new jf(a.id,this.serializeUrl(a.extractedUrl),m,a.targetSnapshot??void 0);r.next(E);try{a.resolve(this.errorHandler(m))}catch(I){a.reject(I)}}return xi.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const a={replaceUrl:!0},c=e.state?.navigationId?e.state:null;if(c){const m={...c};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(a.state=m)}const f=this.parseUrl(e.url);this.scheduleNavigation(f,r,c,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(it),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:a,queryParams:c,fragment:f,queryParamsHandling:m,preserveFragment:E}=r,I=a||this.routerState.root,x=E?this.currentUrlTree.fragment:f;let O=null;switch(m){case"merge":O={...this.currentUrlTree.queryParams,...c};break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=c||null}return null!==O&&(O=this.removeEmptyProps(O)),Ey(I,this.currentUrlTree,e,O,x??null)}navigateByUrl(e,r={skipLocationChange:!1}){const a=Eo(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function Wy(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new u.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(a){r=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return r}isActive(e,r){let a;if(a=!0===r?{...yw}:!1===r?{...dT}:r,Eo(e))return Og(this.currentUrlTree,e,a);const c=this.parseUrl(e);return Og(this.currentUrlTree,c,a)}removeEmptyProps(e){return Object.keys(e).reduce((r,a)=>{const c=e[a];return null!=c&&(r[a]=c),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new pa(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,a,c,f){if(this.disposed)return Promise.resolve(!1);let m,E,I;f?(m=f.resolve,E=f.reject,I=f.promise):I=new Promise((W,ee)=>{m=W,E=ee});const x=++this.navigationId;let O;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),O=a&&a.\u0275routerPageId?a.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):O=0,this.setTransition({id:x,targetPageId:O,source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:c,resolve:m,reject:E,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(W=>Promise.reject(W))}setBrowserUrl(e,r){const a=this.urlSerializer.serialize(e),c={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(a)||r.extras.replaceUrl?this.location.replaceState(a,"",c):this.location.go(a,"",c)}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===a?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===a&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r,a){const c=new Ru(e.id,this.serializeUrl(e.extractedUrl),r,a);this.triggerEvent(c),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:function(){return $y()},providedIn:"root"}),n})();function nm(n){return"imperative"!==n}class rm{}let im=(()=>{class n{constructor(e,r,a,c,f){this.router=e,this.injector=a,this.preloadingStrategy=c,this.loader=f}setUpPreloading(){this.subscription=this.router.events.pipe(b(e=>e instanceof pa),ve(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const a=[];for(const c of r){c.providers&&!c._injector&&(c._injector=(0,u.MMx)(c.providers,e,`Route: ${c.path}`));const f=c._injector??e,m=c._loadedInjector??f;c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent?a.push(this.preloadConfig(f,c)):(c.children||c._loadedRoutes)&&a.push(this.processRoutes(m,c.children??c._loadedRoutes))}return(0,cn.D)(a).pipe((0,cl.J)())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let a;a=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):Xe(null);const c=a.pipe((0,D.z)(f=>null===f?Xe(void 0):(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,this.processRoutes(f.injector??e,f.routes))));if(r.loadComponent&&!r._loadedComponent){const f=this.loader.loadComponent(r);return(0,cn.D)([c,f]).pipe((0,cl.J)())}return c})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(pr),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(rm),u.LFG(tm))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sc=new u.OlP("");let zy=(()=>{class n{constructor(e,r,a={}){this.router=e,this.viewportScroller=r,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof xu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof pa&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ec&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new Ec(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Mc(n,t){return{\u0275kind:n,\u0275providers:t}}function gh(n){return[{provide:em,multi:!0,useValue:n}]}function Ew(){const n=(0,u.f3M)(u.zs3);return t=>{const e=n.get(u.z2F);if(t!==e.components[0])return;const r=n.get(pr),a=n.get(sm);1===n.get(om)&&r.initialNavigation(),n.get(ls,null,u.XFs.Optional)?.setUpPreloading(),n.get(Sc,null,u.XFs.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),a.next(),a.complete()}}const sm=new u.OlP("",{factory:()=>new Pr.x}),om=new u.OlP("",{providedIn:"root",factory:()=>1});const ls=new u.OlP("");function Dw(n){return Mc(0,[{provide:ls,useExisting:im},{provide:rm,useExisting:n}])}const Ky=new u.OlP("ROUTER_FORROOT_GUARD"),Tw=[Ie,{provide:Qd,useClass:Tu},{provide:pr,useFactory:$y},ju,{provide:ga,useFactory:function Zy(n){return n.routerState.root},deps:[pr]},tm];function Yy(){return new u.PXZ("Router",pr)}let Qy=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[Tw,[],gh(e),{provide:Ky,useFactory:Jy,deps:[[pr,new u.FiY,new u.tp0]]},{provide:hh,useValue:r||{}},r?.useHash?{provide:ge,useClass:Ke}:{provide:ge,useClass:We},{provide:Sc,useFactory:()=>{const n=(0,u.f3M)(pr),t=(0,u.f3M)(Ra),e=(0,u.f3M)(hh);return e.scrollOffset&&t.setOffset(e.scrollOffset),new zy(n,t,e)}},r?.preloadingStrategy?Dw(r.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:Yy},r?.initialNavigation?Xy(r):[],[{provide:am,useFactory:Ew},{provide:u.tb,multi:!0,useExisting:am}]]}}static forChild(e){return{ngModule:n,providers:[gh(e)]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Ky,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[h]}),n})();function Jy(n){return"guarded"}function Xy(n){return["disabled"===n.initialNavigation?Mc(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const t=(0,u.f3M)(pr);return()=>{t.setUpLocationChangeListener()}}},{provide:om,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Mc(2,[{provide:om,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:t=>{const e=t.get(B,Promise.resolve());let r=!1;return()=>e.then(()=>new Promise(c=>{const f=t.get(pr),m=t.get(sm);(function a(c){t.get(pr).events.pipe(b(m=>m instanceof pa||m instanceof Ru||m instanceof jf),(0,st.U)(m=>m instanceof pa||m instanceof Ru&&(0===m.code||1===m.code)&&null),b(m=>null!==m),on(1)).subscribe(()=>{c()})})(()=>{c(!0),r=!0}),f.afterPreactivation=()=>(c(!0),r||m.closed?Xe(void 0):m),f.initialNavigation()}))}}]).\u0275providers:[]]}const am=new u.OlP(""),ev=[];let tv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Qy.forRoot(ev),Qy]}),n})();var Vs=k(5861),Pw=k(4986),lm=k(6451),Ow=k(3099);function rv(n,t){return n===t}var Ac=k(5032),qr=k(5813),Us=k(2011),gT=(k(1277),k(3942)),Ku=k(4859),Pc=k(9681),F=k(2090),um=k(1877);const iv="@firebase/database",Oc="0.13.10";let dm="";function hm(n){dm=n}class fp{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,F.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,F.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Rw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,F.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const fm=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new fp(t)}}catch{}return new Rw},xc=fm("localStorage"),pm=fm("sessionStorage"),Yu=new um.Yd("@firebase/database"),sv=function(){let n=1;return function(){return n++}}(),ov=function(n){const t=(0,F.dS)(n),e=new F.gQ;e.update(t);const r=e.digest();return F.US.encodeByteArray(r)},Qu=function(...n){let t="";for(let e=0;e<n.length;e++){const r=n[e];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=Qu.apply(null,r):t+="object"==typeof r?(0,F.Wl)(r):r,t+=" "}return t};let Rc=null,gm=!0;const mm=function(n,t){(0,F.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Yu.logLevel=um.in.VERBOSE,Rc=Yu.log.bind(Yu),t&&pm.set("logging_enabled",!0)):"function"==typeof n?Rc=n:(Rc=null,pm.remove("logging_enabled"))},Jn=function(...n){if(!0===gm&&(gm=!1,null===Rc&&!0===pm.get("logging_enabled")&&mm(!0)),Rc){const t=Qu.apply(null,n);Rc(t)}},pp=function(n){return function(...t){Jn(n,...t)}},mh=function(...n){const t="FIREBASE INTERNAL ERROR: "+Qu(...n);Yu.error(t)},To=function(...n){const t=`FIREBASE FATAL ERROR: ${Qu(...n)}`;throw Yu.error(t),new Error(t)},Kr=function(...n){const t="FIREBASE WARNING: "+Qu(...n);Yu.warn(t)},_h=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},cs="[MIN_NAME]",Xn="[MAX_NAME]",vl=function(n,t){if(n===t)return 0;if(n===cs||t===Xn)return-1;if(t===cs||n===Xn)return 1;{const e=Xu(n),r=Xu(t);return null!==e?null!==r?e-r==0?n.length-t.length:e-r:-1:null!==r?1:n<t?-1:1}},Nw=function(n,t){return n===t?0:n<t?-1:1},Nc=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,F.Wl)(t))},Bs=function(n){if("object"!=typeof n||null===n)return(0,F.Wl)(n);const t=[];for(const r in n)t.push(r);t.sort();let e="{";for(let r=0;r<t.length;r++)0!==r&&(e+=","),e+=(0,F.Wl)(t[r]),e+=":",e+=Bs(n[t[r]]);return e+="}",e},gp=function(n,t){const e=n.length;if(e<=t)return[n];const r=[];for(let a=0;a<e;a+=t)r.push(n.substring(a,a+t>e?e:a+t));return r};function ir(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const mp=function(n){(0,F.hu)(!_h(n),"Invalid JSON number");const r=1023;let a,c,f,m,E;0===n?(c=0,f=0,a=1/n==-1/0?1:0):(a=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(m=Math.min(Math.floor(Math.log(n)/Math.LN2),r),c=m+r,f=Math.round(n*Math.pow(2,52-m)-Math.pow(2,52))):(c=0,f=Math.round(n/Math.pow(2,-1074))));const I=[];for(E=52;E;E-=1)I.push(f%2?1:0),f=Math.floor(f/2);for(E=11;E;E-=1)I.push(c%2?1:0),c=Math.floor(c/2);I.push(a?1:0),I.reverse();const x=I.join("");let O="";for(E=0;E<64;E+=8){let W=parseInt(x.substr(E,8),2).toString(16);1===W.length&&(W="0"+W),O+=W}return O.toLowerCase()},_p=new RegExp("^-?(0*)\\d{1,10}$"),yh=-2147483648,vh=2147483647,Xu=function(n){if(_p.test(n)){const t=Number(n);if(t>=yh&&t<=vh)return t}return null},Cl=function(n){try{n()}catch(t){setTimeout(()=>{throw Kr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Ch=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class kw{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Kr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Fw{constructor(t,e,r){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Jn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Kr(t)}}let Eh=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const ym=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Uw="websocket",Bw="long_polling";class hv{constructor(t,e,r,a,c=!1,f="",m=!1){this.secure=e,this.namespace=r,this.webSocketOnly=a,this.nodeAdmin=c,this.persistenceKey=f,this.includeNamespaceInQueryParams=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=xc.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&xc.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Hw(n,t,e){let r;if((0,F.hu)("string"==typeof t,"typeof type must == string"),(0,F.hu)("object"==typeof e,"typeof params must == object"),t===Uw)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==Bw)throw new Error("Unknown connection type: "+t);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function vT(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const a=[];return ir(e,(c,f)=>{a.push(c+"="+f)}),r+a.join("&")}class CT{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,F.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,F.p$)(this.counters_)}}const fv={},pv={};function gv(n){const t=n.toString();return fv[t]||(fv[t]=new CT),fv[t]}class vm{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<r.length;++a)r[a]&&Cl(()=>{this.onMessage_(r[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class So{constructor(t,e,r,a,c,f,m){this.connId=t,this.repoInfo=e,this.applicationId=r,this.appCheckToken=a,this.authToken=c,this.transportSessionId=f,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=pp(t),this.stats_=gv(e),this.urlFn=E=>(this.appCheckToken&&(E.ac=this.appCheckToken),Hw(e,Bw,E))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new vm(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,F.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new nd((...c)=>{const[f,m,E,I,x]=c;if(this.incrementIncomingBytes_(c),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===f)this.id=m,this.password=E;else{if("close"!==f)throw new Error("Unrecognized command received: "+f);m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_()}},(...c)=>{const[f,m]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(f,m)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&ym.test(location.hostname)&&(r.r="f");const a=this.urlFn(r);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){So.forceAllow_=!0}static forceDisallow(){So.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!So.forceAllow_&&(So.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,F.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const r=(0,F.h$)(e),a=gp(r,1840);for(let c=0;c<a.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[c]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=e,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,F.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class nd{constructor(t,e,r,a){if(this.onDisconnect=r,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=sv(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=nd.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(c='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(m){Jn("frame writing exception"),m.stack&&Jn(m.stack),Jn(m)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Jn("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),r="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const f=this.pendingSegs.shift();r=r+"&seg"+a+"="+f.seg+"&ts"+a+"="+f.ts+"&d"+a+"="+f.d,a++}return e+=r,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,r){this.pendingSegs.push({seg:t,ts:e,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const r=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),r()})}addTag(t,e){(0,F.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const a=r.readyState;(!a||"loaded"===a||"complete"===a)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=()=>{Jn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let rd=null;typeof MozWebSocket<"u"?rd=MozWebSocket:typeof WebSocket<"u"&&(rd=WebSocket);let wl=(()=>{class n{constructor(e,r,a,c,f,m,E){this.connId=e,this.applicationId=a,this.appCheckToken=c,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=pp(this.connId),this.stats_=gv(r),this.connURL=n.connectionURL_(r,m,E,c,a),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,a,c,f){const m={v:"5"};return!(0,F.Yr)()&&typeof location<"u"&&location.hostname&&ym.test(location.hostname)&&(m.r="f"),r&&(m.s=r),a&&(m.ls=a),c&&(m.ac=c),f&&(m.p=f),Hw(e,Uw,m)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,xc.set("previous_websocket_failure",!0);try{let a;if((0,F.Yr)()){a={headers:{"User-Agent":`Firebase/5/${dm}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const f=process.env,m=0===this.connURL.indexOf("wss://")?f.HTTPS_PROXY||f.https_proxy:f.HTTP_PROXY||f.http_proxy;m&&(a.proxy={origin:m})}this.mySock=new rd(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const c=a.message||a.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const c=a.message||a.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==rd&&!n.forceDisallow_}static previouslyFailed(){return xc.isInMemoryStorage||!0===xc.get("previous_websocket_failure")}markConnectionHealthy(){xc.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const a=(0,F.cI)(r);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const a=this.extractFrameCount_(r);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const r=(0,F.Wl)(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const a=gp(r,16384);a.length>1&&this.sendString_(String(a.length));for(let c=0;c<a.length;c++)this.sendString_(a[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),wm=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[So,wl]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const r=wl&&wl.isAvailable();let a=r&&!wl.previouslyFailed();if(e.webSocketOnly&&(r||Kr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[wl];else{const c=this.transports_=[];for(const f of n.ALL_TRANSPORTS)f&&f.isAvailable()&&c.push(f);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class Ep{constructor(t,e,r,a,c,f,m,E,I,x){this.id=t,this.repoInfo_=e,this.applicationId_=r,this.appCheckToken_=a,this.authToken_=c,this.onMessage_=f,this.onReady_=m,this.onDisconnect_=E,this.onKill_=I,this.lastSessionId=x,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=pp("c:"+this.id+":"),this.transportManager_=new wm(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,r)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=Ch(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Nc("t",t),r=Nc("d",t);if("c"===e)this.onSecondaryControl_(r);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Nc("t",t),r=Nc("d",t);"c"===e?this.onControl_(r):"d"===e&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Nc("t",t);if("d"in t){const r=t.d;if("h"===e)this.onHandshake_(r);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(r):"r"===e?this.onReset_(r):"e"===e?mh("Server Error: "+r):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):mh("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,r=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==r&&Kr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,r),Ch(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ch(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(xc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Tm{put(t,e,r,a){}merge(t,e,r,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,r){}onDisconnectMerge(t,e,r){}onDisconnectCancel(t,e){}reportStats(t){}}class Mv{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,F.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let a=0;a<r.length;a++)r[a].callback.apply(r[a].context,e)}}on(t,e,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:r});const a=this.getInitialEvent(t);a&&e.apply(r,a)}off(t,e,r){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let c=0;c<a.length;c++)if(a[c].callback===e&&(!r||r===a[c].context))return void a.splice(c,1)}validateEventType_(t){(0,F.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class wp extends Mv{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new wp}getInitialEvent(t){return(0,F.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Xt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let r=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[r]=this.pieces_[a],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Wt(){return new Xt("")}function Rt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function bl(n){return n.pieces_.length-n.pieceNum_}function an(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Xt(n.pieces_,t)}function bp(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function hi(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function Dp(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Xt(t,0)}function Mn(n,t){const e=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)e.push(n.pieces_[r]);if(t instanceof Xt)for(let r=t.pieceNum_;r<t.pieces_.length;r++)e.push(t.pieces_[r]);else{const r=t.split("/");for(let a=0;a<r.length;a++)r[a].length>0&&e.push(r[a])}return new Xt(e,0)}function Nt(n){return n.pieceNum_>=n.pieces_.length}function fi(n,t){const e=Rt(n),r=Rt(t);if(null===e)return t;if(e===r)return fi(an(n),an(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Pv(n,t){const e=hi(n,0),r=hi(t,0);for(let a=0;a<e.length&&a<r.length;a++){const c=vl(e[a],r[a]);if(0!==c)return c}return e.length===r.length?0:e.length<r.length?-1:1}function Mm(n,t){if(bl(n)!==bl(t))return!1;for(let e=n.pieceNum_,r=t.pieceNum_;e<=n.pieces_.length;e++,r++)if(n.pieces_[e]!==t.pieces_[r])return!1;return!0}function us(n,t){let e=n.pieceNum_,r=t.pieceNum_;if(bl(n)>bl(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[r])return!1;++e,++r}return!0}class Qw{constructor(t,e){this.errorPrefix_=e,this.parts_=hi(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,F.ug)(this.parts_[r]);Ov(this)}}function Ov(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Mo(n))}function Mo(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Dh extends Mv{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Dh}getInitialEvent(t){return(0,F.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Dl=1e3;let kc,Il=(()=>{class n extends Tm{constructor(e,r,a,c,f,m,E,I){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=a,this.onConnectStatus_=c,this.onServerInfoUpdate_=f,this.authTokenProvider_=m,this.appCheckTokenProvider_=E,this.authOverride_=I,this.id=n.nextPersistentConnectionId_++,this.log_=pp("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Dl,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,I&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Dh.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&wp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,a){const c=++this.requestNumber_,f={r:c,a:e,b:r};this.log_((0,F.Wl)(f)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),a&&(this.requestCBHash_[c]=a)}get(e){this.initConnection_();const r=new F.BH,a={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:a,onComplete:m=>{const E=m.d;"ok"===m.s?r.resolve(E):r.reject(E)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(e,r,a,c){this.initConnection_();const f=e._queryIdentifier,m=e._path.toString();this.log_("Listen called for "+m+" "+f),this.listens.has(m)||this.listens.set(m,new Map),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(m).has(f),"listen() called twice for same path/queryId.");const E={onComplete:c,hashFn:r,query:e,tag:a};this.listens.get(m).set(f,E),this.connected_&&this.sendListen_(E)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(a)})}sendListen_(e){const r=e.query,a=r._path.toString(),c=r._queryIdentifier;this.log_("Listen on "+a+" for "+c);const f={p:a};e.tag&&(f.q=r._queryObject,f.t=e.tag),f.h=e.hashFn(),this.sendRequest("q",f,E=>{const I=E.d,x=E.s;n.warnOnListenWarnings_(I,r),(this.listens.get(a)&&this.listens.get(a).get(c))===e&&(this.log_("listen response",E),"ok"!==x&&this.removeListen_(a,c),e.onComplete&&e.onComplete(x,I))})}static warnOnListenWarnings_(e,r){if(e&&"object"==typeof e&&(0,F.r3)(e,"w")){const a=(0,F.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const c='".indexOn": "'+r._queryParams.getIndex().toString()+'"',f=r._path.toString();Kr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,F.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=(0,F.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(r,a,c=>{const f=c.s,m=c.d||"error";this.authToken_===e&&("ok"===f?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,a=e.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,a)})}unlisten(e,r){const a=e._path.toString(),c=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+c),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,c)&&this.connected_&&this.sendUnlisten_(a,c,e._queryObject,r)}sendUnlisten_(e,r,a,c){this.log_("Unlisten on "+e+" for "+r);const f={p:e};c&&(f.q=a,f.t=c),this.sendRequest("n",f)}onDisconnectPut(e,r,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:a})}onDisconnectMerge(e,r,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:a})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,a,c){const f={p:r,d:a};this.log_("onDisconnect "+e,f),this.sendRequest(e,f,m=>{c&&setTimeout(()=>{c(m.s,m.d)},Math.floor(0))})}put(e,r,a,c){this.putInternal("p",e,r,a,c)}merge(e,r,a,c){this.putInternal("m",e,r,a,c)}putInternal(e,r,a,c,f){this.initConnection_();const m={p:r,d:a};void 0!==f&&(m.h=f),this.outstandingPuts_.push({action:e,request:m,onComplete:c}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,c=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,a,f=>{this.log_(r+" response",f),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),c&&c(f.s,f.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,F.Wl)(e));const r=e.r,a=this.requestCBHash_[r];a&&(delete this.requestCBHash_[r],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),"d"===e?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===e?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===e?this.onListenRevoked_(r.p,r.q):"ac"===e?this.onAuthRevoked_(r.s,r.d):"apc"===e?this.onAppCheckRevoked_(r.s,r.d):"sd"===e?this.onSecurityDebugPacket_(r):mh("Unrecognized action received from server: "+(0,F.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Dl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Dl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Dl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Vs.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const r=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),c=e.onRealtimeDisconnect_.bind(e),f=e.id+":"+n.nextConnectionId_++,m=e.lastSessionId;let E=!1,I=null;const x=function(){I?I.close():(E=!0,c())};e.realtime_={close:x,sendRequest:function(ee){(0,F.hu)(I,"sendRequest call when we're not connected not allowed."),I.sendRequest(ee)}};const W=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[ee,fe]=yield Promise.all([e.authTokenProvider_.getToken(W),e.appCheckTokenProvider_.getToken(W)]);E?Jn("getToken() completed but was canceled"):(Jn("getToken() completed. Creating connection."),e.authToken_=ee&&ee.accessToken,e.appCheckToken_=fe&&fe.token,I=new Ep(f,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,r,a,c,Ae=>{Kr(Ae+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},m))}catch(ee){e.log_("Failed to get token: "+ee),E||(e.repoInfo_.nodeAdmin&&Kr(ee),x())}}})()}interrupt(e){Jn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Jn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Dl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let a;a=r?r.map(f=>Bs(f)).join("$"):"default";const c=this.removeListen_(e,a);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(e,r){const a=new Xt(e).toString();let c;if(this.listens.has(a)){const f=this.listens.get(a);c=f.get(r),f.delete(r),0===f.size&&this.listens.delete(a)}else c=void 0;return c}onAuthRevoked_(e,r){Jn("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){Jn("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";(0,F.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+r+"."+dm.replace(/\./g,"-")]=1,(0,F.uI)()?e["framework.cordova"]=1:(0,F.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=wp.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Ot{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Ot(t,e)}}class ds{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const r=new Ot(cs,t),a=new Ot(cs,e);return 0!==this.compare(r,a)}minPost(){return Ot.MIN}}class Ih extends ds{static get __EMPTY_NODE(){return kc}static set __EMPTY_NODE(t){kc=t}compare(t,e){return vl(t.name,e.name)}isDefinedOn(t){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Ot.MIN}maxPost(){return new Ot(Xn,kc)}makePost(t,e){return(0,F.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Ot(t,kc)}toString(){return".key"}}const pi=new Ih;class Tp{constructor(t,e,r,a,c=null){this.isReverse_=a,this.resultGenerator_=c,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(f=e?r(t.key,e):1,a&&(f*=-1),f<0)t=this.isReverse_?t.left:t.right;else{if(0===f){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Om,ki=(()=>{class n{constructor(e,r,a,c,f){this.key=e,this.value=r,this.color=a??n.RED,this.left=c??gi.EMPTY_NODE,this.right=f??gi.EMPTY_NODE}copy(e,r,a,c,f){return new n(e??this.key,r??this.value,a??this.color,c??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let c=this;const f=a(e,c.key);return c=f<0?c.copy(null,null,null,c.left.insert(e,r,a),null):0===f?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(e,r,a)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return gi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let a,c;if(a=this,r(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===r(e,a.key)){if(a.right.isEmpty())return gi.EMPTY_NODE;c=a.right.min_(),a=a.copy(c.key,c.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class gi{constructor(t,e=gi.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new gi(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,ki.BLACK,null,null))}remove(t){return new gi(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ki.BLACK,null,null))}get(t){let e,r=this.root_;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e)return r.value;e<0?r=r.left:e>0&&(r=r.right)}return null}getPredecessorKey(t){let e,r=this.root_,a=null;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e){if(r.left.isEmpty())return a?a.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}e<0?r=r.left:e>0&&(a=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Tp(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Tp(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Tp(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Tp(this.root_,null,this.comparator_,!0,t)}}function Xw(n,t){return vl(n.name,t.name)}function Fc(n,t){return vl(n,t)}gi.EMPTY_NODE=new class Nv{copy(t,e,r,a,c){return this}insert(t,e,r){return new ki(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const kv=function(n){return"number"==typeof n?"number:"+mp(n):"string:"+n},eb=function(n){if(n.isLeafNode()){const t=n.val();(0,F.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,F.r3)(t,".sv"),"Priority must be a string or number.")}else(0,F.hu)(n===Om||n.isEmpty(),"priority of unexpected type.");(0,F.hu)(n===Om||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Fv,Lv,xm,id=(()=>{class n{constructor(e,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),eb(this.priorityNode_)}static set __childrenNodeConstructor(e){Fv=e}static get __childrenNodeConstructor(){return Fv}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Nt(e)?this:".priority"===Rt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return".priority"===e?this.updatePriority(r):r.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const a=Rt(e);return null===a?r:r.isEmpty()&&".priority"!==a?this:((0,F.hu)(".priority"!==a||1===bl(e),".priority must be the last token in a path"),this.updateImmediateChild(a,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(an(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+kv(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",e+="number"===r?mp(this.value_):this.value_,this.lazyHash_=ov(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,F.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,a=typeof this.value_,c=n.VALUE_TYPE_ORDER.indexOf(r),f=n.VALUE_TYPE_ORDER.indexOf(a);return(0,F.hu)(c>=0,"Unknown leaf type: "+r),(0,F.hu)(f>=0,"Unknown leaf type: "+a),c===f?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:f-c}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const gn=new class Nm extends ds{compare(t,e){const r=t.node.getPriority(),a=e.node.getPriority(),c=r.compareTo(a);return 0===c?vl(t.name,e.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Ot.MIN}maxPost(){return new Ot(Xn,new id("[PRIORITY-POST]",xm))}makePost(t,e){const r=Lv(t);return new Ot(e,new id("[PRIORITY-POST]",r))}toString(){return".priority"}},nb=Math.log(2);class rb{constructor(t){this.count=parseInt(Math.log(t+1)/nb,10),this.current_=this.count-1;const a=(c=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Sp=function(n,t,e,r){n.sort(t);const a=function(E,I){const x=I-E;let O,W;if(0===x)return null;if(1===x)return O=n[E],W=e?e(O):O,new ki(W,O.node,ki.BLACK,null,null);{const ee=parseInt(x/2,10)+E,fe=a(E,ee),Ae=a(ee+1,I);return O=n[ee],W=e?e(O):O,new ki(W,O.node,ki.BLACK,fe,Ae)}},m=function(E){let I=null,x=null,O=n.length;const W=function(fe,Ae){const He=O-fe,ft=O;O-=fe;const wt=a(He+1,ft),Yt=n[He],xt=e?e(Yt):Yt;ee(new ki(xt,Yt.node,Ae,null,wt))},ee=function(fe){I?(I.left=fe,I=fe):(x=fe,I=fe)};for(let fe=0;fe<E.count;++fe){const Ae=E.nextBitIsOne(),He=Math.pow(2,E.count-(fe+1));Ae?W(He,ki.BLACK):(W(He,ki.BLACK),W(He,ki.RED))}return x}(new rb(n.length));return new gi(r||t,m)};let km;const sd={};class hs{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,F.hu)(sd&&gn,"ChildrenNode.ts has not been loaded"),km=km||new hs({".priority":sd},{".priority":gn}),km}get(t){const e=(0,F.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof gi?e:null}hasIndex(t){return(0,F.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,F.hu)(t!==pi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let a=!1;const c=e.getIterator(Ot.Wrap);let m,f=c.getNext();for(;f;)a=a||t.isDefinedOn(f.node),r.push(f),f=c.getNext();m=a?Sp(r,t.getCompare()):sd;const E=t.toString(),I=Object.assign({},this.indexSet_);I[E]=t;const x=Object.assign({},this.indexes_);return x[E]=m,new hs(x,I)}addToIndexes(t,e){const r=(0,F.UI)(this.indexes_,(a,c)=>{const f=(0,F.DV)(this.indexSet_,c);if((0,F.hu)(f,"Missing index implementation for "+c),a===sd){if(f.isDefinedOn(t.node)){const m=[],E=e.getIterator(Ot.Wrap);let I=E.getNext();for(;I;)I.name!==t.name&&m.push(I),I=E.getNext();return m.push(t),Sp(m,f.getCompare())}return sd}{const m=e.get(t.name);let E=a;return m&&(E=E.remove(new Ot(t.name,m))),E.insert(t,t.node)}});return new hs(r,this.indexSet_)}removeFromIndexes(t,e){const r=(0,F.UI)(this.indexes_,a=>{if(a===sd)return a;{const c=e.get(t.name);return c?a.remove(new Ot(t.name,c)):a}});return new hs(r,this.indexSet_)}}let Hs,Mt=(()=>{class n{constructor(e,r,a){this.children_=e,this.priorityNode_=r,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&eb(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Hs||(Hs=new n(new gi(Fc),null,hs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Hs}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const r=this.children_.get(e);return null===r?Hs:r}}getChild(e){const r=Rt(e);return null===r?this:this.getImmediateChild(r).getChild(an(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,r){if((0,F.hu)(r,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(r);{const a=new Ot(e,r);let c,f;r.isEmpty()?(c=this.children_.remove(e),f=this.indexMap_.removeFromIndexes(a,this.children_)):(c=this.children_.insert(e,r),f=this.indexMap_.addToIndexes(a,this.children_));const m=c.isEmpty()?Hs:this.priorityNode_;return new n(c,m,f)}}updateChild(e,r){const a=Rt(e);if(null===a)return r;{(0,F.hu)(".priority"!==Rt(e)||1===bl(e),".priority must be the last token in a path");const c=this.getImmediateChild(a).updateChild(an(e),r);return this.updateImmediateChild(a,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let a=0,c=0,f=!0;if(this.forEachChild(gn,(m,E)=>{r[m]=E.val(e),a++,f&&n.INTEGER_REGEXP_.test(m)?c=Math.max(c,Number(m)):f=!1}),!e&&f&&c<2*a){const m=[];for(const E in r)m[E]=r[E];return m}return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+kv(this.getPriority().val())+":"),this.forEachChild(gn,(r,a)=>{const c=a.hash();""!==c&&(e+=":"+r+":"+c)}),this.lazyHash_=""===e?"":ov(e)}return this.lazyHash_}getPredecessorChildName(e,r,a){const c=this.resolveIndex_(a);if(c){const f=c.getPredecessorKey(new Ot(e,r));return f?f.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const a=r.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new Ot(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const a=r.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new Ot(r,this.children_.get(r)):null}forEachChild(e,r){const a=this.resolveIndex_(e);return a?a.inorderTraversal(c=>r(c.name,c.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const a=this.resolveIndex_(r);if(a)return a.getIteratorFrom(e,c=>c);{const c=this.children_.getIteratorFrom(e.name,Ot.Wrap);let f=c.peek();for(;null!=f&&r.compare(f,e)<0;)c.getNext(),f=c.peek();return c}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const a=this.resolveIndex_(r);if(a)return a.getReverseIteratorFrom(e,c=>c);{const c=this.children_.getReverseIteratorFrom(e.name,Ot.Wrap);let f=c.peek();for(;null!=f&&r.compare(f,e)>0;)c.getNext(),f=c.peek();return c}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Sh?-1:0}withIndex(e){if(e===pi||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===pi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const a=this.getIterator(gn),c=r.getIterator(gn);let f=a.getNext(),m=c.getNext();for(;f&&m;){if(f.name!==m.name||!f.node.equals(m.node))return!1;f=a.getNext(),m=c.getNext()}return null===f&&null===m}return!1}return!1}}resolveIndex_(e){return e===pi?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Sh=new class Th extends Mt{constructor(){super(new gi(Fc),Mt.EMPTY_NODE,hs.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Mt.EMPTY_NODE}isEmpty(){return!1}};function wn(n,t=null){if(null===n)return Mt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,F.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new id(n,wn(t));if(n instanceof Array){let e=Mt.EMPTY_NODE;return ir(n,(r,a)=>{if((0,F.r3)(n,r)&&"."!==r.substring(0,1)){const c=wn(a);(c.isLeafNode()||!c.isEmpty())&&(e=e.updateImmediateChild(r,c))}}),e.updatePriority(wn(t))}{const e=[];let r=!1;if(ir(n,(f,m)=>{if("."!==f.substring(0,1)){const E=wn(m);E.isEmpty()||(r=r||!E.getPriority().isEmpty(),e.push(new Ot(f,E)))}}),0===e.length)return Mt.EMPTY_NODE;const c=Sp(e,Xw,f=>f.name,Fc);if(r){const f=Sp(e,gn.getCompare());return new Mt(c,wn(t),new hs({".priority":f},{".priority":gn}))}return new Mt(c,wn(t),hs.Default)}}Object.defineProperties(Ot,{MIN:{value:new Ot(cs,Mt.EMPTY_NODE)},MAX:{value:new Ot(Xn,Sh)}}),Ih.__EMPTY_NODE=Mt.EMPTY_NODE,id.__childrenNodeConstructor=Mt,function DT(n){Om=n}(Sh),function tb(n){xm=n}(Sh),function Rm(n){Lv=n}(wn);class Fm extends ds{constructor(t){super(),this.indexPath_=t,(0,F.hu)(!Nt(t)&&".priority"!==Rt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const r=this.extractChild(t.node),a=this.extractChild(e.node),c=r.compareTo(a);return 0===c?vl(t.name,e.name):c}makePost(t,e){const r=wn(t),a=Mt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ot(e,a)}maxPost(){const t=Mt.EMPTY_NODE.updateChild(this.indexPath_,Sh);return new Ot(Xn,t)}toString(){return hi(this.indexPath_,0).join("/")}}const Lc=new class Ao extends ds{compare(t,e){const r=t.node.compareTo(e.node);return 0===r?vl(t.name,e.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Ot.MIN}maxPost(){return Ot.MAX}makePost(t,e){const r=wn(t);return new Ot(e,r)}toString(){return".value"}},Zn="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Lm=function(){let n=0;const t=[];return function(e){const r=e===n;let a;n=e;const c=new Array(8);for(a=7;a>=0;a--)c[a]=Zn.charAt(e%64),e=Math.floor(e/64);(0,F.hu)(0===e,"Cannot push at time == 0");let f=c.join("");if(r){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)f+=Zn.charAt(t[a]);return(0,F.hu)(20===f.length,"nextPushId: Length should be 20."),f}}(),Vc=function(n){if(n===""+vh)return"-";const t=Xu(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let f=0;f<e.length;f++)e[f]=n.charAt(f);if(e.length<786)return e.push("-"),e.join("");let r=e.length-1;for(;r>=0&&"z"===e[r];)r--;if(-1===r)return Xn;const c=Zn.charAt(Zn.indexOf(e[r])+1);return e[r]=c,e.slice(0,r+1).join("")},Uc=function(n){if(n===""+yh)return cs;const t=Xu(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let r=0;r<e.length;r++)e[r]=n.charAt(r);return"-"===e[e.length-1]?1===e.length?""+vh:(delete e[e.length-1],e.join("")):(e[e.length-1]=Zn.charAt(Zn.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function Bc(n){return{type:"value",snapshotNode:n}}function js(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Po(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Oo(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class Tl{constructor(t){this.index_=t}updateChild(t,e,r,a,c,f){(0,F.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=t.getImmediateChild(e);return m.getChild(a).equals(r.getChild(a))&&m.isEmpty()===r.isEmpty()||(null!=f&&(r.isEmpty()?t.hasChild(e)?f.trackChildChange(Po(e,m)):(0,F.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?f.trackChildChange(js(e,r)):f.trackChildChange(Oo(e,r,m))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(e,r).withIndex(this.index_)}updateFullNode(t,e,r){return null!=r&&(t.isLeafNode()||t.forEachChild(gn,(a,c)=>{e.hasChild(a)||r.trackChildChange(Po(a,c))}),e.isLeafNode()||e.forEachChild(gn,(a,c)=>{if(t.hasChild(a)){const f=t.getImmediateChild(a);f.equals(c)||r.trackChildChange(Oo(a,c,f))}else r.trackChildChange(js(a,c))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Mt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class xo{constructor(t){this.indexedFilter_=new Tl(t.getIndex()),this.index_=t.getIndex(),this.startPost_=xo.getStartPost_(t),this.endPost_=xo.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,r,a,c,f){return this.matches(new Ot(e,r))||(r=Mt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,r,a,c,f)}updateFullNode(t,e,r){e.isLeafNode()&&(e=Mt.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(Mt.EMPTY_NODE);const c=this;return e.forEachChild(gn,(f,m)=>{c.matches(new Ot(f,m))||(a=a.updateImmediateChild(f,Mt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Vv{constructor(t){this.rangedFilter_=new xo(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,r,a,c,f){return this.rangedFilter_.matches(new Ot(e,r))||(r=Mt.EMPTY_NODE),t.getImmediateChild(e).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,r,a,c,f):this.fullLimitUpdateChild_(t,e,r,c,f)}updateFullNode(t,e,r){let a;if(e.isLeafNode()||e.isEmpty())a=Mt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let c;a=Mt.EMPTY_NODE.withIndex(this.index_),c=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;c.hasNext()&&f<this.limit_;){const m=c.getNext();let E;if(E=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),m)<=0:this.index_.compare(m,this.rangedFilter_.getEndPost())<=0,!E)break;a=a.updateImmediateChild(m.name,m.node),f++}}else{let c,f,m,E;if(a=e.withIndex(this.index_),a=a.updatePriority(Mt.EMPTY_NODE),this.reverse_){E=a.getReverseIterator(this.index_),c=this.rangedFilter_.getEndPost(),f=this.rangedFilter_.getStartPost();const O=this.index_.getCompare();m=(W,ee)=>O(ee,W)}else E=a.getIterator(this.index_),c=this.rangedFilter_.getStartPost(),f=this.rangedFilter_.getEndPost(),m=this.index_.getCompare();let I=0,x=!1;for(;E.hasNext();){const O=E.getNext();!x&&m(c,O)<=0&&(x=!0),x&&I<this.limit_&&m(O,f)<=0?I++:a=a.updateImmediateChild(O.name,Mt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,r,a,c){let f;if(this.reverse_){const O=this.index_.getCompare();f=(W,ee)=>O(ee,W)}else f=this.index_.getCompare();const m=t;(0,F.hu)(m.numChildren()===this.limit_,"");const E=new Ot(e,r),I=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),x=this.rangedFilter_.matches(E);if(m.hasChild(e)){const O=m.getImmediateChild(e);let W=a.getChildAfterChild(this.index_,I,this.reverse_);for(;null!=W&&(W.name===e||m.hasChild(W.name));)W=a.getChildAfterChild(this.index_,W,this.reverse_);const ee=null==W?1:f(W,E);if(x&&!r.isEmpty()&&ee>=0)return c?.trackChildChange(Oo(e,r,O)),m.updateImmediateChild(e,r);{c?.trackChildChange(Po(e,O));const Ae=m.updateImmediateChild(e,Mt.EMPTY_NODE);return null!=W&&this.rangedFilter_.matches(W)?(c?.trackChildChange(js(W.name,W.node)),Ae.updateImmediateChild(W.name,W.node)):Ae}}return r.isEmpty()?t:x&&f(I,E)>=0?(null!=c&&(c.trackChildChange(Po(I.name,I.node)),c.trackChildChange(js(e,r))),m.updateImmediateChild(e,r).updateImmediateChild(I.name,Mt.EMPTY_NODE)):t}}class Ah{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=gn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:cs}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Xn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===gn}copy(){const t=new Ah;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Mp(n,t,e){const r=n.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=e?(r.startNameSet_=!0,r.indexStartName_=e):(r.startNameSet_=!1,r.indexStartName_=""),r}function Ap(n,t,e){const r=n.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==e?(r.endNameSet_=!0,r.indexEndName_=e):(r.endNameSet_=!1,r.indexEndName_=""),r}function Pp(n,t){const e=n.copy();return e.index_=t,e}function Wv(n){const t={};if(n.isDefault())return t;let e;return n.index_===gn?e="$priority":n.index_===Lc?e="$value":n.index_===pi?e="$key":((0,F.hu)(n.index_ instanceof Fm,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,F.Wl)(e),n.startSet_&&(t.startAt=(0,F.Wl)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,F.Wl)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,F.Wl)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,F.Wl)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function Vm(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==gn&&(t.i=n.index_.toString()),t}class Op extends Tm{constructor(t,e,r,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=r,this.appCheckTokenProvider_=a,this.log_=pp("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,F.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,r,a){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const f=Op.getListenId_(t,r),m={};this.listens_[f]=m;const E=Wv(t._queryParams);this.restRequest_(c+".json",E,(I,x)=>{let O=x;if(404===I&&(O=null,I=null),null===I&&this.onDataUpdate_(c,O,!1,r),(0,F.DV)(this.listens_,f)===m){let W;W=I?401===I?"permission_denied":"rest_error:"+I:"ok",a(W,null)}})}unlisten(t,e){const r=Op.getListenId_(t,e);delete this.listens_[r]}get(t){const e=Wv(t._queryParams),r=t._path.toString(),a=new F.BH;return this.restRequest_(r+".json",e,(c,f)=>{let m=f;404===c&&(m=null,c=null),null===c?(this.onDataUpdate_(r,m,!1,null),a.resolve(m)):a.reject(new Error(m))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},r){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,c])=>{a&&a.accessToken&&(e.auth=a.accessToken),c&&c.token&&(e.ac=c.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,F.xO)(e);this.log_("Sending REST request for "+f);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(r&&4===m.readyState){this.log_("REST Response for "+f+" received. status:",m.status,"response:",m.responseText);let E=null;if(m.status>=200&&m.status<300){try{E=(0,F.cI)(m.responseText)}catch{Kr("Failed to parse JSON response for "+f+": "+m.responseText)}r(null,E)}else 401!==m.status&&404!==m.status&&Kr("Got unsuccessful REST response for "+f+" Status: "+m.status),r(m.status);r=null}},m.open("GET",f,!0),m.send()})}}class sb{constructor(){this.rootNode_=Mt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function ad(){return{value:null,children:new Map}}function Sl(n,t,e){if(Nt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const r=Rt(t);n.children.has(r)||n.children.set(r,ad()),Sl(n.children.get(r),t=an(t),e)}}function Um(n,t){if(Nt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(gn,(r,a)=>{Sl(n,new Xt(r),a)}),Um(n,t)}}if(n.children.size>0){const e=Rt(t);return t=an(t),n.children.has(e)&&Um(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function ld(n,t,e){null!==n.value?e(t,n.value):function xp(n,t){n.children.forEach((e,r)=>{t(r,e)})}(n,(r,a)=>{ld(a,new Xt(t.toString()+"/"+r),e)})}class Bm{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&ir(this.last_,(r,a)=>{e[r]=e[r]-a}),this.last_=t,e}}class zv{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Bm(t);const r=1e4+2e4*Math.random();Ch(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),e={};let r=!1;ir(t,(a,c)=>{c>0&&(0,F.r3)(this.statsToReport_,a)&&(e[a]=c,r=!0)}),r&&this.server_.reportStats(e),Ch(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Li=(()=>{return(n=Li||(Li={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Li;var n})();function Np(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class cd{constructor(t,e,r){this.path=t,this.affectedTree=e,this.revert=r,this.type=Li.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Nt(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Xt(t));return new cd(Wt(),e,this.revert)}}return(0,F.hu)(Rt(this.path)===t,"operationForChild called for unrelated child."),new cd(an(this.path),this.affectedTree,this.revert)}}class ud{constructor(t,e){this.source=t,this.path=e,this.type=Li.LISTEN_COMPLETE}operationForChild(t){return Nt(this.path)?new ud(this.source,Wt()):new ud(this.source,an(this.path))}}class Hc{constructor(t,e,r){this.source=t,this.path=e,this.snap=r,this.type=Li.OVERWRITE}operationForChild(t){return Nt(this.path)?new Hc(this.source,Wt(),this.snap.getImmediateChild(t)):new Hc(this.source,an(this.path),this.snap)}}class jc{constructor(t,e,r){this.source=t,this.path=e,this.children=r,this.type=Li.MERGE}operationForChild(t){if(Nt(this.path)){const e=this.children.subtree(new Xt(t));return e.isEmpty()?null:e.value?new Hc(this.source,Wt(),e.value):new jc(this.source,Wt(),e)}return(0,F.hu)(Rt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new jc(this.source,an(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class wa{constructor(t,e,r){this.node_=t,this.fullyInitialized_=e,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Nt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Rt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Zv{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Oh(n,t,e,r,a,c){const f=r.filter(m=>m.type===e);f.sort((m,E)=>function ab(n,t,e){if(null==t.childName||null==e.childName)throw(0,F.g5)("Should only compare child_ events.");const r=new Ot(t.childName,t.snapshotNode),a=new Ot(e.childName,e.snapshotNode);return n.index_.compare(r,a)}(n,m,E)),f.forEach(m=>{const E=function ob(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,m,c);a.forEach(I=>{I.respondsTo(m.type)&&t.push(I.createEvent(E,n.query_))})})}function dd(n,t){return{eventCache:n,serverCache:t}}function $c(n,t,e,r){return dd(new wa(t,e,r),n.serverCache)}function $m(n,t,e,r){return dd(n.eventCache,new wa(t,e,r))}function xh(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ml(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let kp;class hn{constructor(t,e=(()=>(kp||(kp=new gi(Nw)),kp))()){this.value=t,this.children=e}static fromObject(t){let e=new hn(null);return ir(t,(r,a)=>{e=e.set(new Xt(r),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Wt(),value:this.value};if(Nt(t))return null;{const r=Rt(t),a=this.children.get(r);if(null!==a){const c=a.findRootMostMatchingPathAndValue(an(t),e);return null!=c?{path:Mn(new Xt(r),c.path),value:c.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Nt(t))return this;{const e=Rt(t),r=this.children.get(e);return null!==r?r.subtree(an(t)):new hn(null)}}set(t,e){if(Nt(t))return new hn(e,this.children);{const r=Rt(t),c=(this.children.get(r)||new hn(null)).set(an(t),e),f=this.children.insert(r,c);return new hn(this.value,f)}}remove(t){if(Nt(t))return this.children.isEmpty()?new hn(null):new hn(null,this.children);{const e=Rt(t),r=this.children.get(e);if(r){const a=r.remove(an(t));let c;return c=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&c.isEmpty()?new hn(null):new hn(this.value,c)}return this}}get(t){if(Nt(t))return this.value;{const e=Rt(t),r=this.children.get(e);return r?r.get(an(t)):null}}setTree(t,e){if(Nt(t))return e;{const r=Rt(t),c=(this.children.get(r)||new hn(null)).setTree(an(t),e);let f;return f=c.isEmpty()?this.children.remove(r):this.children.insert(r,c),new hn(this.value,f)}}fold(t){return this.fold_(Wt(),t)}fold_(t,e){const r={};return this.children.inorderTraversal((a,c)=>{r[a]=c.fold_(Mn(t,a),e)}),e(t,this.value,r)}findOnPath(t,e){return this.findOnPath_(t,Wt(),e)}findOnPath_(t,e,r){const a=!!this.value&&r(e,this.value);if(a)return a;if(Nt(t))return null;{const c=Rt(t),f=this.children.get(c);return f?f.findOnPath_(an(t),Mn(e,c),r):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Wt(),e)}foreachOnPath_(t,e,r){if(Nt(t))return this;{this.value&&r(e,this.value);const a=Rt(t),c=this.children.get(a);return c?c.foreachOnPath_(an(t),Mn(e,a),r):new hn(null)}}foreach(t){this.foreach_(Wt(),t)}foreach_(t,e){this.children.inorderTraversal((r,a)=>{a.foreach_(Mn(t,r),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,r)=>{r.value&&t(e,r.value)})}}class fs{constructor(t){this.writeTree_=t}static empty(){return new fs(new hn(null))}}function hd(n,t,e){if(Nt(t))return new fs(new hn(e));{const r=n.writeTree_.findRootMostValueAndPath(t);if(null!=r){const a=r.path;let c=r.value;const f=fi(a,t);return c=c.updateChild(f,e),new fs(n.writeTree_.set(a,c))}{const a=new hn(e),c=n.writeTree_.setTree(t,a);return new fs(c)}}}function Yv(n,t,e){let r=n;return ir(e,(a,c)=>{r=hd(r,Mn(t,a),c)}),r}function Qv(n,t){if(Nt(t))return fs.empty();{const e=n.writeTree_.setTree(t,new hn(null));return new fs(e)}}function Wm(n,t){return null!=Al(n,t)}function Al(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(fi(e.path,t)):null}function Jv(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(gn,(r,a)=>{t.push(new Ot(r,a))}):n.writeTree_.children.inorderTraversal((r,a)=>{null!=a.value&&t.push(new Ot(r,a.value))}),t}function mn(n,t){if(Nt(t))return n;{const e=Al(n,t);return new fs(null!=e?new hn(e):n.writeTree_.subtree(t))}}function Fp(n){return n.writeTree_.isEmpty()}function fd(n,t){return Xv(Wt(),n.writeTree_,t)}function Xv(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let r=null;return t.children.inorderTraversal((a,c)=>{".priority"===a?((0,F.hu)(null!==c.value,"Priority writes must always be leaf nodes"),r=c.value):e=Xv(Mn(n,a),c,e)}),!e.getChild(n).isEmpty()&&null!==r&&(e=e.updateChild(Mn(n,".priority"),r)),e}}function Rh(n,t){return aC(t,n)}function cb(n,t){if(n.snap)return us(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&us(Mn(n.path,e),t))return!0;return!1}function nC(n){return n.visible}function rC(n,t,e){let r=fs.empty();for(let a=0;a<n.length;++a){const c=n[a];if(t(c)){const f=c.path;let m;if(c.snap)us(e,f)?(m=fi(e,f),r=hd(r,m,c.snap)):us(f,e)&&(m=fi(f,e),r=hd(r,Wt(),c.snap.getChild(m)));else{if(!c.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(us(e,f))m=fi(e,f),r=Yv(r,m,c.children);else if(us(f,e))if(m=fi(f,e),Nt(m))r=Yv(r,Wt(),c.children);else{const E=(0,F.DV)(c.children,Rt(m));if(E){const I=E.getChild(an(m));r=hd(r,Wt(),I)}}}}}return r}function Gm(n,t,e,r,a){if(r||a){const c=mn(n.visibleWrites,t);return!a&&Fp(c)?e:a||null!=e||Wm(c,Wt())?fd(rC(n.allWrites,function(I){return(I.visible||a)&&(!r||!~r.indexOf(I.writeId))&&(us(I.path,t)||us(t,I.path))},t),e||Mt.EMPTY_NODE):null}{const c=Al(n.visibleWrites,t);if(null!=c)return c;{const f=mn(n.visibleWrites,t);return Fp(f)?e:null!=e||Wm(f,Wt())?fd(f,e||Mt.EMPTY_NODE):null}}}function Vi(n,t,e,r){return Gm(n.writeTree,n.treePath,t,e,r)}function Ui(n,t){return function IT(n,t,e){let r=Mt.EMPTY_NODE;const a=Al(n.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(gn,(c,f)=>{r=r.updateImmediateChild(c,f)}),r;if(e){const c=mn(n.visibleWrites,t);return e.forEachChild(gn,(f,m)=>{const E=fd(mn(c,new Xt(f)),m);r=r.updateImmediateChild(f,E)}),Jv(c).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}return Jv(mn(n.visibleWrites,t)).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}(n.writeTree,n.treePath,t)}function ps(n,t,e,r){return function iC(n,t,e,r,a){(0,F.hu)(r||a,"Either existingEventSnap or existingServerSnap must exist");const c=Mn(t,e);if(Wm(n.visibleWrites,c))return null;{const f=mn(n.visibleWrites,c);return Fp(f)?a.getChild(e):fd(f,a.getChild(e))}}(n.writeTree,n.treePath,t,e,r)}function Nh(n,t){return function Ro(n,t){return Al(n.visibleWrites,t)}(n.writeTree,Mn(n.treePath,t))}function Zm(n,t,e){return function zm(n,t,e,r){const a=Mn(t,e),c=Al(n.visibleWrites,a);return null!=c?c:r.isCompleteForChild(e)?fd(mn(n.visibleWrites,a),r.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function oC(n,t){return aC(Mn(n.treePath,t),n.writeTree)}function aC(n,t){return{treePath:n,writeTree:t}}class fb{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,r=t.childName;(0,F.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(r);if(a){const c=a.type;if("child_added"===e&&"child_removed"===c)this.changeMap.set(r,Oo(r,t.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===c)this.changeMap.delete(r);else if("child_removed"===e&&"child_changed"===c)this.changeMap.set(r,Po(r,a.oldSnap));else if("child_changed"===e&&"child_added"===c)this.changeMap.set(r,js(r,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==c)throw(0,F.g5)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(r,Oo(r,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const gd=new class qm{getCompleteChild(t){return null}getChildAfterChild(t,e,r){return null}};class Km{constructor(t,e,r=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=r}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new wa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Zm(this.writes_,t,r)}}getChildAfterChild(t,e,r){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ml(this.viewCache_),c=function sC(n,t,e,r,a,c){return function db(n,t,e,r,a,c,f){let m;const E=mn(n.visibleWrites,t),I=Al(E,Wt());if(null!=I)m=I;else{if(null==e)return[];m=fd(E,e)}if(m=m.withIndex(f),m.isEmpty()||m.isLeafNode())return[];{const x=[],O=f.getCompare(),W=c?m.getReverseIteratorFrom(r,f):m.getIteratorFrom(r,f);let ee=W.getNext();for(;ee&&x.length<a;)0!==O(ee,r)&&x.push(ee),ee=W.getNext();return x}}(n.writeTree,n.treePath,t,e,r,a,c)}(this.writes_,a,e,1,r,t);return 0===c.length?null:c[0]}}function kh(n,t,e,r,a,c){const f=t.eventCache;if(null!=Nh(r,e))return t;{let m,E;if(Nt(e))if((0,F.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const I=Ml(t),O=Ui(r,I instanceof Mt?I:Mt.EMPTY_NODE);m=n.filter.updateFullNode(t.eventCache.getNode(),O,c)}else{const I=Vi(r,Ml(t));m=n.filter.updateFullNode(t.eventCache.getNode(),I,c)}else{const I=Rt(e);if(".priority"===I){(0,F.hu)(1===bl(e),"Can't have a priority with additional path components");const x=f.getNode();E=t.serverCache.getNode();const O=ps(r,e,x,E);m=null!=O?n.filter.updatePriority(x,O):f.getNode()}else{const x=an(e);let O;if(f.isCompleteForChild(I)){E=t.serverCache.getNode();const W=ps(r,e,f.getNode(),E);O=null!=W?f.getNode().getImmediateChild(I).updateChild(x,W):f.getNode().getImmediateChild(I)}else O=Zm(r,I,t.serverCache);m=null!=O?n.filter.updateChild(f.getNode(),I,O,x,a,c):f.getNode()}}return $c(t,m,f.isFullyInitialized()||Nt(e),n.filter.filtersNodes())}}function Lp(n,t,e,r,a,c,f,m){const E=t.serverCache;let I;const x=f?n.filter:n.filter.getIndexedFilter();if(Nt(e))I=x.updateFullNode(E.getNode(),r,null);else if(x.filtersNodes()&&!E.isFiltered()){const ee=E.getNode().updateChild(e,r);I=x.updateFullNode(E.getNode(),ee,null)}else{const ee=Rt(e);if(!E.isCompleteForPath(e)&&bl(e)>1)return t;const fe=an(e),He=E.getNode().getImmediateChild(ee).updateChild(fe,r);I=".priority"===ee?x.updatePriority(E.getNode(),He):x.updateChild(E.getNode(),ee,He,fe,gd,null)}const O=$m(t,I,E.isFullyInitialized()||Nt(e),x.filtersNodes());return kh(n,O,e,a,new Km(a,O,c),m)}function Vp(n,t,e,r,a,c,f){const m=t.eventCache;let E,I;const x=new Km(a,t,c);if(Nt(e))I=n.filter.updateFullNode(t.eventCache.getNode(),r,f),E=$c(t,I,!0,n.filter.filtersNodes());else{const O=Rt(e);if(".priority"===O)I=n.filter.updatePriority(t.eventCache.getNode(),r),E=$c(t,I,m.isFullyInitialized(),m.isFiltered());else{const W=an(e),ee=m.getNode().getImmediateChild(O);let fe;if(Nt(W))fe=r;else{const Ae=x.getCompleteChild(O);fe=null!=Ae?".priority"===bp(W)&&Ae.getChild(Dp(W)).isEmpty()?Ae:Ae.updateChild(W,r):Mt.EMPTY_NODE}E=ee.equals(fe)?t:$c(t,n.filter.updateChild(m.getNode(),O,fe,W,x,f),m.isFullyInitialized(),n.filter.filtersNodes())}}return E}function Ym(n,t){return n.eventCache.isCompleteForChild(t)}function Fh(n,t,e){return e.foreach((r,a)=>{t=t.updateChild(r,a)}),t}function Up(n,t,e,r,a,c,f,m){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let I,E=t;I=Nt(e)?r:new hn(null).setTree(e,r);const x=t.serverCache.getNode();return I.children.inorderTraversal((O,W)=>{if(x.hasChild(O)){const fe=Fh(0,t.serverCache.getNode().getImmediateChild(O),W);E=Lp(n,E,new Xt(O),fe,a,c,f,m)}}),I.children.inorderTraversal((O,W)=>{const ee=!t.serverCache.isCompleteForChild(O)&&null===W.value;if(!x.hasChild(O)&&!ee){const Ae=Fh(0,t.serverCache.getNode().getImmediateChild(O),W);E=Lp(n,E,new Xt(O),Ae,a,c,f,m)}}),E}class pC{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,a=new Tl(r.getIndex()),c=function Uv(n){return n.loadsAllData()?new Tl(n.getIndex()):n.hasLimit()?new Vv(n):new xo(n)}(r);this.processor_=function lC(n){return{filter:n}}(c);const f=e.serverCache,m=e.eventCache,E=a.updateFullNode(Mt.EMPTY_NODE,f.getNode(),null),I=c.updateFullNode(Mt.EMPTY_NODE,m.getNode(),null),x=new wa(E,f.isFullyInitialized(),a.filtersNodes()),O=new wa(I,m.isFullyInitialized(),c.filtersNodes());this.viewCache_=dd(O,x),this.eventGenerator_=new Zv(this.query_)}get query(){return this.query_}}function _C(n,t){const e=Ml(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Nt(t)&&!e.getImmediateChild(Rt(t)).isEmpty())?e.getChild(t):null}function yC(n){return 0===n.eventRegistrations_.length}function vC(n,t,e){const r=[];if(e){(0,F.hu)(null==t,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(c=>{const f=c.createCancelEvent(e,a);f&&r.push(f)})}if(t){let a=[];for(let c=0;c<n.eventRegistrations_.length;++c){const f=n.eventRegistrations_[c];if(f.matches(t)){if(t.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(c+1));break}}else a.push(f)}n.eventRegistrations_=a}else n.eventRegistrations_=[];return r}function CC(n,t,e,r){t.type===Li.MERGE&&null!==t.source.queryId&&((0,F.hu)(Ml(n.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(xh(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,c=function cC(n,t,e,r,a){const c=new fb;let f,m;if(e.type===Li.OVERWRITE){const I=e;I.source.fromUser?f=Vp(n,t,I.path,I.snap,r,a,c):((0,F.hu)(I.source.fromServer,"Unknown source."),m=I.source.tagged||t.serverCache.isFiltered()&&!Nt(I.path),f=Lp(n,t,I.path,I.snap,r,a,m,c))}else if(e.type===Li.MERGE){const I=e;I.source.fromUser?f=function Qm(n,t,e,r,a,c,f){let m=t;return r.foreach((E,I)=>{const x=Mn(e,E);Ym(t,Rt(x))&&(m=Vp(n,m,x,I,a,c,f))}),r.foreach((E,I)=>{const x=Mn(e,E);Ym(t,Rt(x))||(m=Vp(n,m,x,I,a,c,f))}),m}(n,t,I.path,I.children,r,a,c):((0,F.hu)(I.source.fromServer,"Unknown source."),m=I.source.tagged||t.serverCache.isFiltered(),f=Up(n,t,I.path,I.children,r,a,m,c))}else if(e.type===Li.ACK_USER_WRITE){const I=e;f=I.revert?function fC(n,t,e,r,a,c){let f;if(null!=Nh(r,e))return t;{const m=new Km(r,t,a),E=t.eventCache.getNode();let I;if(Nt(e)||".priority"===Rt(e)){let x;if(t.serverCache.isFullyInitialized())x=Vi(r,Ml(t));else{const O=t.serverCache.getNode();(0,F.hu)(O instanceof Mt,"serverChildren would be complete if leaf node"),x=Ui(r,O)}I=n.filter.updateFullNode(E,x,c)}else{const x=Rt(e);let O=Zm(r,x,t.serverCache);null==O&&t.serverCache.isCompleteForChild(x)&&(O=E.getImmediateChild(x)),I=null!=O?n.filter.updateChild(E,x,O,an(e),m,c):t.eventCache.getNode().hasChild(x)?n.filter.updateChild(E,x,Mt.EMPTY_NODE,an(e),m,c):E,I.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=Vi(r,Ml(t)),f.isLeafNode()&&(I=n.filter.updateFullNode(I,f,c)))}return f=t.serverCache.isFullyInitialized()||null!=Nh(r,Wt()),$c(t,I,f,n.filter.filtersNodes())}}(n,t,I.path,r,a,c):function dC(n,t,e,r,a,c,f){if(null!=Nh(a,e))return t;const m=t.serverCache.isFiltered(),E=t.serverCache;if(null!=r.value){if(Nt(e)&&E.isFullyInitialized()||E.isCompleteForPath(e))return Lp(n,t,e,E.getNode().getChild(e),a,c,m,f);if(Nt(e)){let I=new hn(null);return E.getNode().forEachChild(pi,(x,O)=>{I=I.set(new Xt(x),O)}),Up(n,t,e,I,a,c,m,f)}return t}{let I=new hn(null);return r.foreach((x,O)=>{const W=Mn(e,x);E.isCompleteForPath(W)&&(I=I.set(x,E.getNode().getChild(W)))}),Up(n,t,e,I,a,c,m,f)}}(n,t,I.path,I.affectedTree,r,a,c)}else{if(e.type!==Li.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+e.type);f=function hC(n,t,e,r,a){const c=t.serverCache;return kh(n,$m(t,c.getNode(),c.isFullyInitialized()||Nt(e),c.isFiltered()),e,r,gd,a)}(n,t,e.path,r,c)}const E=c.getChanges();return function uC(n,t,e){const r=t.eventCache;if(r.isFullyInitialized()){const a=r.getNode().isLeafNode()||r.getNode().isEmpty(),c=xh(n);(e.length>0||!n.eventCache.isFullyInitialized()||a&&!r.getNode().equals(c)||!r.getNode().getPriority().equals(c.getPriority()))&&e.push(Bc(xh(t)))}}(t,f,E),{viewCache:f,changes:E}}(n.processor_,a,t,e,r);return function pb(n,t){(0,F.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,c.viewCache),(0,F.hu)(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=c.viewCache,EC(n,c.changes,c.viewCache.eventCache.getNode(),null)}function EC(n,t,e,r){return function qv(n,t,e,r){const a=[],c=[];return t.forEach(f=>{"child_changed"===f.type&&n.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&c.push(function od(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(f.childName,f.snapshotNode))}),Oh(n,a,"child_removed",t,r,e),Oh(n,a,"child_added",t,r,e),Oh(n,a,"child_moved",c,r,e),Oh(n,a,"child_changed",t,r,e),Oh(n,a,"value",t,r,e),a}(n.eventGenerator_,t,e,r?[r]:n.eventRegistrations_)}let Bp,Vh;class wC{constructor(){this.views=new Map}}function Jm(n,t,e,r){const a=t.source.queryId;if(null!==a){const c=n.views.get(a);return(0,F.hu)(null!=c,"SyncTree gave us an op for an invalid query."),CC(c,t,e,r)}{let c=[];for(const f of n.views.values())c=c.concat(CC(f,t,e,r));return c}}function bC(n,t,e,r,a){const f=n.views.get(t._queryIdentifier);if(!f){let m=Vi(e,a?r:null),E=!1;m?E=!0:r instanceof Mt?(m=Ui(e,r),E=!1):(m=Mt.EMPTY_NODE,E=!1);const I=dd(new wa(m,E,!1),new wa(r,a,!1));return new pC(t,I)}return f}function DC(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Pl(n,t){let e=null;for(const r of n.views.values())e=e||_C(r,t);return e}function IC(n,t){return t._queryParams.loadsAllData()?Lh(n):n.views.get(t._queryIdentifier)}function Xm(n,t){return null!=IC(n,t)}function ba(n){return null!=Lh(n)}function Lh(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let MC=1;class e_{constructor(t){this.listenProvider_=t,this.syncPointTree_=new hn(null),this.pendingWriteTree_=function hb(){return{visibleWrites:fs.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Hp(n,t,e,r,a){return function lb(n,t,e,r,a){(0,F.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),n.allWrites.push({path:t,snap:e,writeId:r,visible:a}),a&&(n.visibleWrites=hd(n.visibleWrites,t,e)),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r,a),a?at(n,new Hc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Da(n,t,e=!1){const r=function tC(n,t){for(let e=0;e<n.allWrites.length;e++){const r=n.allWrites[e];if(r.writeId===t)return r}return null}(n.pendingWriteTree_,t);if(function pd(n,t){const e=n.allWrites.findIndex(m=>m.writeId===t);(0,F.hu)(e>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[e];n.allWrites.splice(e,1);let a=r.visible,c=!1,f=n.allWrites.length-1;for(;a&&f>=0;){const m=n.allWrites[f];m.visible&&(f>=e&&cb(m,r.path)?a=!1:us(r.path,m.path)&&(c=!0)),f--}return!!a&&(c?(function ub(n){n.visibleWrites=rC(n.allWrites,nC,Wt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=Qv(n.visibleWrites,r.path):ir(r.children,E=>{n.visibleWrites=Qv(n.visibleWrites,Mn(r.path,E))}),!0))}(n.pendingWriteTree_,t)){let c=new hn(null);return null!=r.snap?c=c.set(Wt(),!0):ir(r.children,f=>{c=c.set(new Xt(f),!0)}),at(n,new cd(r.path,c,e))}return[]}function $s(n,t,e){return at(n,new Hc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function t_(n,t,e,r,a=!1){const c=t._path,f=n.syncPointTree_.get(c);let m=[];if(f&&("default"===t._queryIdentifier||Xm(f,t))){const E=function Eb(n,t,e,r){const a=t._queryIdentifier,c=[];let f=[];const m=ba(n);if("default"===a)for(const[E,I]of n.views.entries())f=f.concat(vC(I,e,r)),yC(I)&&(n.views.delete(E),I.query._queryParams.loadsAllData()||c.push(I.query));else{const E=n.views.get(a);E&&(f=f.concat(vC(E,e,r)),yC(E)&&(n.views.delete(a),E.query._queryParams.loadsAllData()||c.push(E.query)))}return m&&!ba(n)&&c.push(new(function yb(){return(0,F.hu)(Bp,"Reference.ts has not been loaded"),Bp}())(t._repo,t._path)),{removed:c,events:f}}(f,t,e,r);(function vb(n){return 0===n.views.size})(f)&&(n.syncPointTree_=n.syncPointTree_.remove(c));const I=E.removed;if(m=E.events,!a){const x=-1!==I.findIndex(W=>W._queryParams.loadsAllData()),O=n.syncPointTree_.findOnPath(c,(W,ee)=>ba(ee));if(x&&!O){const W=n.syncPointTree_.subtree(c);if(!W.isEmpty()){const ee=function MT(n){return n.fold((t,e,r)=>{if(e&&ba(e))return[Lh(e)];{let a=[];return e&&(a=DC(e)),ir(r,(c,f)=>{a=a.concat(f)}),a}})}(W);for(let fe=0;fe<ee.length;++fe){const Ae=ee[fe],He=Ae.query,ft=xC(n,Ae);n.listenProvider_.startListening(vd(He),No(n,He),ft.hashFn,ft.onComplete)}}}!O&&I.length>0&&!r&&(x?n.listenProvider_.stopListening(vd(t),null):I.forEach(W=>{const ee=n.queryToTagMap.get(Wp(W));n.listenProvider_.stopListening(vd(W),ee)}))}!function RC(n,t){for(let e=0;e<t.length;++e){const r=t[e];if(!r._queryParams.loadsAllData()){const a=Wp(r),c=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(c)}}}(n,I)}return m}function jp(n,t,e,r){const a=_d(n,r);if(null!=a){const c=yd(a),f=c.path,m=c.queryId,E=fi(f,t);return An(n,f,new Hc(Np(m),E,e))}return[]}function $p(n,t,e,r=!1){const a=t._path;let c=null,f=!1;n.syncPointTree_.foreachOnPath(a,(W,ee)=>{const fe=fi(W,a);c=c||Pl(ee,fe),f=f||ba(ee)});let E,m=n.syncPointTree_.get(a);m?(f=f||ba(m),c=c||Pl(m,Wt())):(m=new wC,n.syncPointTree_=n.syncPointTree_.set(a,m)),null!=c?E=!0:(E=!1,c=Mt.EMPTY_NODE,n.syncPointTree_.subtree(a).foreachChild((ee,fe)=>{const Ae=Pl(fe,Wt());Ae&&(c=c.updateImmediateChild(ee,Ae))}));const I=Xm(m,t);if(!I&&!t._queryParams.loadsAllData()){const W=Wp(t);(0,F.hu)(!n.queryToTagMap.has(W),"View does not exist, but we have a tag");const ee=function Db(){return MC++}();n.queryToTagMap.set(W,ee),n.tagToQueryMap.set(ee,W)}let O=function Cb(n,t,e,r,a,c){const f=bC(n,t,r,a,c);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,f),function gb(n,t){n.eventRegistrations_.push(t)}(f,e),function mb(n,t){const e=n.viewCache_.eventCache,r=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(gn,(c,f)=>{r.push(js(c,f))}),e.isFullyInitialized()&&r.push(Bc(e.getNode())),EC(n,r,e.getNode(),t)}(f,e)}(m,t,e,Rh(n.pendingWriteTree_,a),c,E);if(!I&&!f&&!r){const W=IC(m,t);O=O.concat(function NC(n,t,e){const r=t._path,a=No(n,t),c=xC(n,e),f=n.listenProvider_.startListening(vd(t),a,c.hashFn,c.onComplete),m=n.syncPointTree_.subtree(r);if(a)(0,F.hu)(!ba(m.value),"If we're adding a query, it shouldn't be shadowed");else{const E=m.fold((I,x,O)=>{if(!Nt(I)&&x&&ba(x))return[Lh(x).query];{let W=[];return x&&(W=W.concat(DC(x).map(ee=>ee.query))),ir(O,(ee,fe)=>{W=W.concat(fe)}),W}});for(let I=0;I<E.length;++I){const x=E[I];n.listenProvider_.stopListening(vd(x),No(n,x))}}return f}(n,t,W))}return O}function Uh(n,t,e){const a=n.pendingWriteTree_,c=n.syncPointTree_.findOnPath(t,(f,m)=>{const I=Pl(m,fi(f,t));if(I)return I});return Gm(a,t,c,e,!0)}function at(n,t){return PC(t,n.syncPointTree_,null,Rh(n.pendingWriteTree_,Wt()))}function PC(n,t,e,r){if(Nt(n.path))return OC(n,t,e,r);{const a=t.get(Wt());null==e&&null!=a&&(e=Pl(a,Wt()));let c=[];const f=Rt(n.path),m=n.operationForChild(f),E=t.children.get(f);if(E&&m){const I=e?e.getImmediateChild(f):null,x=oC(r,f);c=c.concat(PC(m,E,I,x))}return a&&(c=c.concat(Jm(a,n,r,e))),c}}function OC(n,t,e,r){const a=t.get(Wt());null==e&&null!=a&&(e=Pl(a,Wt()));let c=[];return t.children.inorderTraversal((f,m)=>{const E=e?e.getImmediateChild(f):null,I=oC(r,f),x=n.operationForChild(f);x&&(c=c.concat(OC(x,m,E,I)))}),a&&(c=c.concat(Jm(a,n,r,e))),c}function xC(n,t){const e=t.query,r=No(n,e);return{hashFn:()=>(function gC(n){return n.viewCache_.serverCache.getNode()}(t)||Mt.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return r?function md(n,t,e){const r=_d(n,e);if(r){const a=yd(r),c=a.path,f=a.queryId,m=fi(c,t);return An(n,c,new ud(Np(f),m))}return[]}(n,e._path,r):function bb(n,t){return at(n,new ud({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const c=function _T(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const r=new Error(n+" at "+t._path.toString()+": "+e);return r.code=n.toUpperCase(),r}(a,e);return t_(n,e,null,c)}}}}function No(n,t){const e=Wp(t);return n.queryToTagMap.get(e)}function Wp(n){return n._path.toString()+"$"+n._queryIdentifier}function _d(n,t){return n.tagToQueryMap.get(t)}function yd(n){const t=n.indexOf("$");return(0,F.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Xt(n.substr(0,t))}}function An(n,t,e){const r=n.syncPointTree_.get(t);return(0,F.hu)(r,"Missing sync point for query tag that we're tracking"),Jm(r,e,Rh(n.pendingWriteTree_,t),null)}function vd(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function SC(){return(0,F.hu)(Vh,"Reference.ts has not been loaded"),Vh}())(n._repo,n._path):n}class Gp{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Gp(e)}node(){return this.node_}}class zp{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Mn(this.path_,t);return new zp(this.syncTree_,e)}node(){return Uh(this.syncTree_,this.path_)}}const FC=function(n,t,e){return n&&"object"==typeof n?((0,F.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Ib(n[".sv"],t,e):"object"==typeof n[".sv"]?Tb(n[".sv"],t):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Ib=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,F.hu)(!1,"Unexpected server value: "+n)},Tb=function(n,t,e){n.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,F.hu)(!1,"Unexpected increment value: "+r);const a=t.node();if((0,F.hu)(null!==a&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return r;const f=a.getValue();return"number"!=typeof f?r:f+r},Cd=function(n,t,e,r){return r_(t,new zp(e,n),r)},n_=function(n,t,e){return r_(n,new Gp(t),e)};function r_(n,t,e){const r=n.getPriority().val(),a=FC(r,t.getImmediateChild(".priority"),e);let c;if(n.isLeafNode()){const f=n,m=FC(f.getValue(),t,e);return m!==f.getValue()||a!==f.getPriority().val()?new id(m,wn(a)):n}{const f=n;return c=f,a!==f.getPriority().val()&&(c=c.updatePriority(new id(a))),f.forEachChild(gn,(m,E)=>{const I=r_(E,t.getImmediateChild(m),e);I!==E&&(c=c.updateImmediateChild(m,I))}),c}}class i_{constructor(t="",e=null,r={children:{},childCount:0}){this.name=t,this.parent=e,this.node=r}}function Wc(n,t){let e=t instanceof Xt?t:new Xt(t),r=n,a=Rt(e);for(;null!==a;){const c=(0,F.DV)(r.node.children,a)||{children:{},childCount:0};r=new i_(a,r,c),e=an(e),a=Rt(e)}return r}function Ol(n){return n.node.value}function Zp(n,t){n.node.value=t,o_(n)}function s_(n){return n.node.childCount>0}function xl(n,t){ir(n.node.children,(e,r)=>{t(new i_(e,n,r))})}function Ed(n,t,e,r){e&&!r&&t(n),xl(n,a=>{Ed(a,t,!0,r)}),e&&r&&t(n)}function Bh(n){return new Xt(null===n.parent?n.name:Bh(n.parent)+"/"+n.name)}function o_(n){null!==n.parent&&function LC(n,t,e){const r=function Sb(n){return void 0===Ol(n)&&!s_(n)}(e),a=(0,F.r3)(n.node.children,t);r&&a?(delete n.node.children[t],n.node.childCount--,o_(n)):!r&&!a&&(n.node.children[t]=e.node,n.node.childCount++,o_(n))}(n.parent,n.name,n)}const VC=/[\[\].#$\/\u0000-\u001F\u007F]/,UC=/[\[\].#$\u0000-\u001F\u007F]/,a_=10485760,Hh=function(n){return"string"==typeof n&&0!==n.length&&!VC.test(n)},BC=function(n){return"string"==typeof n&&0!==n.length&&!UC.test(n)},qp=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!_h(n)||n&&"object"==typeof n&&(0,F.r3)(n,".sv")},Ia=function(n,t,e,r){r&&void 0===t||Kp((0,F.gK)(n,"value"),t,e)},Kp=function(n,t,e){const r=e instanceof Xt?new Qw(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Mo(r));if("function"==typeof t)throw new Error(n+"contains a function "+Mo(r)+" with contents = "+t.toString());if(_h(t))throw new Error(n+"contains "+t.toString()+" "+Mo(r));if("string"==typeof t&&t.length>a_/3&&(0,F.ug)(t)>a_)throw new Error(n+"contains a string greater than "+a_+" utf8 bytes "+Mo(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,c=!1;if(ir(t,(f,m)=>{if(".value"===f)a=!0;else if(".priority"!==f&&".sv"!==f&&(c=!0,!Hh(f)))throw new Error(n+" contains an invalid key ("+f+") "+Mo(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Am(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,F.ug)(t),Ov(n)})(r,f),Kp(n,m,r),function Jw(n){const t=n.parts_.pop();n.byteLength_-=(0,F.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),a&&c)throw new Error(n+' contains ".value" child '+Mo(r)+" in addition to actual children.")}},l_=function(n,t,e,r){if(r&&void 0===t)return;const a=(0,F.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const c=[];ir(t,(f,m)=>{const E=new Xt(f);if(Kp(a,m,Mn(e,E)),".priority"===bp(E)&&!qp(m))throw new Error(a+"contains an invalid value for '"+E.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(E)}),function(n,t){let e,r;for(e=0;e<t.length;e++){r=t[e];const c=hi(r);for(let f=0;f<c.length;f++)if((".priority"!==c[f]||f!==c.length-1)&&!Hh(c[f]))throw new Error(n+"contains an invalid key ("+c[f]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Pv);let a=null;for(e=0;e<t.length;e++){if(r=t[e],null!==a&&us(a,r))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(a,c)},wd=function(n,t,e){if(!e||void 0!==t){if(_h(t))throw new Error((0,F.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!qp(t))throw new Error((0,F.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},jh=function(n,t,e,r){if(!(r&&void 0===e||Hh(e)))throw new Error((0,F.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},$h=function(n,t,e,r){if(!(r&&void 0===e||BC(e)))throw new Error((0,F.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},kr=function(n,t){if(".info"===Rt(t))throw new Error(n+" failed = Can't modify data under /.info/")},jC=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Hh(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),BC(n)}(e))throw new Error((0,F.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Pb{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Yp(n,t){let e=null;for(let r=0;r<t.length;r++){const a=t[r],c=a.getPath();null!==e&&!Mm(c,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:c}),e.events.push(a)}e&&n.eventLists_.push(e)}function $C(n,t,e){Yp(n,e),c_(n,r=>Mm(r,t))}function Bi(n,t,e){Yp(n,e),c_(n,r=>us(r,t)||us(t,r))}function c_(n,t){n.recursionDepth_++;let e=!0;for(let r=0;r<n.eventLists_.length;r++){const a=n.eventLists_[r];a&&(t(a.path)?(Ob(n.eventLists_[r]),n.eventLists_[r]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function Ob(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const r=e.getEventRunner();Rc&&Jn("event: "+e.toString()),Cl(r)}}}const WC="repo_interrupt";class xb{constructor(t,e,r,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=r,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Pb,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ad(),this.transactionQueueTree_=new i_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function zC(n){const e=n.infoData_.getNode(new Xt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function bd(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:zC(n)})}function ZC(n,t,e,r,a){n.dataUpdateCount++;const c=new Xt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let f=[];if(a)if(r){const E=(0,F.UI)(e,I=>wn(I));f=function TT(n,t,e,r){const a=_d(n,r);if(a){const c=yd(a),f=c.path,m=c.queryId,E=fi(f,t),I=hn.fromObject(e);return An(n,f,new jc(Np(m),E,I))}return[]}(n.serverSyncTree_,c,E,a)}else{const E=wn(e);f=jp(n.serverSyncTree_,c,E,a)}else if(r){const E=(0,F.UI)(e,I=>wn(I));f=function wb(n,t,e){const r=hn.fromObject(e);return at(n,new jc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,c,E)}else{const E=wn(e);f=$s(n.serverSyncTree_,c,E)}let m=c;f.length>0&&(m=Id(n,c)),Bi(n.eventQueue_,m,f)}function u_(n,t){Gh(n,"connected",t),!1===t&&function kb(n){Dd(n,"onDisconnectEvents");const t=bd(n),e=ad();ld(n.onDisconnect_,Wt(),(a,c)=>{const f=Cd(a,c,n.serverSyncTree_,t);Sl(e,a,f)});let r=[];ld(e,Wt(),(a,c)=>{r=r.concat($s(n.serverSyncTree_,a,c));const f=Zh(n,a);Id(n,f)}),n.onDisconnect_=ad(),Bi(n.eventQueue_,Wt(),r)}(n)}function Gh(n,t,e){const r=new Xt("/.info/"+t),a=wn(e);n.infoData_.updateSnapshot(r,a);const c=$s(n.infoSyncTree_,r,a);Bi(n.eventQueue_,r,c)}function Qp(n){return n.nextWriteId_++}function Jp(n,t,e,r,a){Dd(n,"set",{path:t.toString(),value:e,priority:r});const c=bd(n),f=wn(e,r),m=Uh(n.serverSyncTree_,t),E=n_(f,m,c),I=Qp(n),x=Hp(n.serverSyncTree_,t,E,I,!0);Yp(n.eventQueue_,x),n.server_.put(t.toString(),f.val(!0),(W,ee)=>{const fe="ok"===W;fe||Kr("set at "+t+" failed: "+W);const Ae=Da(n.serverSyncTree_,I,!fe);Bi(n.eventQueue_,t,Ae),Rl(0,a,W,ee)});const O=Zh(n,t);Id(n,O),Bi(n.eventQueue_,O,[])}function Fb(n,t,e){n.server_.onDisconnectCancel(t.toString(),(r,a)=>{"ok"===r&&Um(n.onDisconnect_,t),Rl(0,e,r,a)})}function Xp(n,t,e,r){const a=wn(e);n.server_.onDisconnectPut(t.toString(),a.val(!0),(c,f)=>{"ok"===c&&Sl(n.onDisconnect_,t,a),Rl(0,r,c,f)})}function d_(n,t,e){let r;r=".info"===Rt(t._path)?t_(n.infoSyncTree_,t,e):t_(n.serverSyncTree_,t,e),$C(n.eventQueue_,t._path,r)}function YC(n){n.persistentConnection_&&n.persistentConnection_.interrupt(WC)}function Dd(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Jn(e,...t)}function Rl(n,t,e,r){t&&Cl(()=>{if("ok"===e)t(null);else{const a=(e||"error").toUpperCase();let c=a;r&&(c+=": "+r);const f=new Error(c);f.code=a,t(f)}})}function h_(n,t,e){return Uh(n.serverSyncTree_,t,e)||Mt.EMPTY_NODE}function zh(n,t=n.transactionQueueTree_){if(t||eg(n,t),Ol(t)){const e=JC(n,t);(0,F.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function QC(n,t,e){const r=e.map(I=>I.currentWriteId),a=h_(n,t,r);let c=a;const f=a.hash();for(let I=0;I<e.length;I++){const x=e[I];(0,F.hu)(0===x.status,"tryToSendTransactionQueue_: items in queue should all be run."),x.status=1,x.retryCount++;const O=fi(t,x.path);c=c.updateChild(O,x.currentOutputSnapshotRaw)}const m=c.val(!0),E=t;n.server_.put(E.toString(),m,I=>{Dd(n,"transaction put response",{path:E.toString(),status:I});let x=[];if("ok"===I){const O=[];for(let W=0;W<e.length;W++)e[W].status=2,x=x.concat(Da(n.serverSyncTree_,e[W].currentWriteId)),e[W].onComplete&&O.push(()=>e[W].onComplete(null,!0,e[W].currentOutputSnapshotResolved)),e[W].unwatcher();eg(n,Wc(n.transactionQueueTree_,t)),zh(n,n.transactionQueueTree_),Bi(n.eventQueue_,t,x);for(let W=0;W<O.length;W++)Cl(O[W])}else{if("datastale"===I)for(let O=0;O<e.length;O++)e[O].status=3===e[O].status?4:0;else{Kr("transaction at "+E.toString()+" failed: "+I);for(let O=0;O<e.length;O++)e[O].status=4,e[O].abortReason=I}Id(n,t)}},f)}(n,Bh(t),e)}else s_(t)&&xl(t,e=>{zh(n,e)})}function Id(n,t){const e=f_(n,t),r=Bh(e);return function Hb(n,t,e){if(0===t.length)return;const r=[];let a=[];const f=t.filter(m=>0===m.status).map(m=>m.currentWriteId);for(let m=0;m<t.length;m++){const E=t[m],I=fi(e,E.path);let O,x=!1;if((0,F.hu)(null!==I,"rerunTransactionsUnderNode_: relativePath should not be null."),4===E.status)x=!0,O=E.abortReason,a=a.concat(Da(n.serverSyncTree_,E.currentWriteId,!0));else if(0===E.status)if(E.retryCount>=25)x=!0,O="maxretry",a=a.concat(Da(n.serverSyncTree_,E.currentWriteId,!0));else{const W=h_(n,E.path,f);E.currentInputSnapshot=W;const ee=t[m].update(W.val());if(void 0!==ee){Kp("transaction failed: Data returned ",ee,E.path);let fe=wn(ee);"object"==typeof ee&&null!=ee&&(0,F.r3)(ee,".priority")||(fe=fe.updatePriority(W.getPriority()));const He=E.currentWriteId,ft=bd(n),wt=n_(fe,W,ft);E.currentOutputSnapshotRaw=fe,E.currentOutputSnapshotResolved=wt,E.currentWriteId=Qp(n),f.splice(f.indexOf(He),1),a=a.concat(Hp(n.serverSyncTree_,E.path,wt,E.currentWriteId,E.applyLocally)),a=a.concat(Da(n.serverSyncTree_,He,!0))}else x=!0,O="nodata",a=a.concat(Da(n.serverSyncTree_,E.currentWriteId,!0))}Bi(n.eventQueue_,e,a),a=[],x&&(t[m].status=2,setTimeout(t[m].unwatcher,Math.floor(0)),t[m].onComplete&&r.push("nodata"===O?()=>t[m].onComplete(null,!1,t[m].currentInputSnapshot):()=>t[m].onComplete(new Error(O),!1,null)))}eg(n,n.transactionQueueTree_);for(let m=0;m<r.length;m++)Cl(r[m]);zh(n,n.transactionQueueTree_)}(n,JC(n,e),r),r}function f_(n,t){let e,r=n.transactionQueueTree_;for(e=Rt(t);null!==e&&void 0===Ol(r);)r=Wc(r,e),e=Rt(t=an(t));return r}function JC(n,t){const e=[];return XC(n,t,e),e.sort((r,a)=>r.order-a.order),e}function XC(n,t,e){const r=Ol(t);if(r)for(let a=0;a<r.length;a++)e.push(r[a]);xl(t,a=>{XC(n,a,e)})}function eg(n,t){const e=Ol(t);if(e){let r=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[r]=e[a],r++);e.length=r,Zp(t,e.length>0?e:void 0)}xl(t,r=>{eg(n,r)})}function Zh(n,t){const e=Bh(f_(n,t)),r=Wc(n.transactionQueueTree_,t);return function Mb(n,t,e){let r=e?n:n.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,a=>{qh(n,a)}),qh(n,r),Ed(r,a=>{qh(n,a)}),e}function qh(n,t){const e=Ol(t);if(e){const r=[];let a=[],c=-1;for(let f=0;f<e.length;f++)3===e[f].status||(1===e[f].status?((0,F.hu)(c===f-1,"All SENT items should be at beginning of queue."),c=f,e[f].status=3,e[f].abortReason="set"):((0,F.hu)(0===e[f].status,"Unexpected transaction status in abort"),e[f].unwatcher(),a=a.concat(Da(n.serverSyncTree_,e[f].currentWriteId,!0)),e[f].onComplete&&r.push(e[f].onComplete.bind(null,new Error("set"),!1,null))));-1===c?Zp(t,void 0):e.length=c+1,Bi(n.eventQueue_,Bh(t),a);for(let f=0;f<r.length;f++)Cl(r[f])}}const g_=function(n,t){const e=jb(n),r=e.namespace;return"firebase.com"===e.domain&&To(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==e.domain&&To("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Kr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new hv(e.host,e.secure,r,"ws"===e.scheme||"wss"===e.scheme,t,"",r!==e.subdomain),path:new Xt(e.pathString)}},jb=function(n){let t="",e="",r="",a="",c="",f=!0,m="https",E=443;if("string"==typeof n){let I=n.indexOf("//");I>=0&&(m=n.substring(0,I-1),n=n.substring(I+2));let x=n.indexOf("/");-1===x&&(x=n.length);let O=n.indexOf("?");-1===O&&(O=n.length),t=n.substring(0,Math.min(x,O)),x<O&&(a=function e0(n){let t="";const e=n.split("/");for(let r=0;r<e.length;r++)if(e[r].length>0){let a=e[r];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}(n.substring(x,O)));const W=function p_(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const r=e.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Kr(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,O)));I=t.indexOf(":"),I>=0?(f="https"===m||"wss"===m,E=parseInt(t.substring(I+1),10)):I=t.length;const ee=t.slice(0,I);if("localhost"===ee.toLowerCase())e="localhost";else if(ee.split(".").length<=2)e=ee;else{const fe=t.indexOf(".");r=t.substring(0,fe).toLowerCase(),e=t.substring(fe+1),c=r}"ns"in W&&(c=W.ns)}return{host:t,port:E,domain:e,subdomain:r,secure:f,scheme:m,pathString:a,namespace:c}};class tg{constructor(t,e,r,a){this.eventType=t,this.eventRegistration=e,this.snapshot=r,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Wl)(this.snapshot.exportVal())}}class t0{constructor(t,e,r){this.eventRegistration=t,this.error=e,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class ng{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Gc{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new F.BH;return Fb(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){kr("OnDisconnect.remove",this._path);const t=new F.BH;return Xp(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){kr("OnDisconnect.set",this._path),Ia("OnDisconnect.set",t,this._path,!1);const e=new F.BH;return Xp(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){kr("OnDisconnect.setWithPriority",this._path),Ia("OnDisconnect.setWithPriority",t,this._path,!1),wd("OnDisconnect.setWithPriority",e,!1);const r=new F.BH;return function Lb(n,t,e,r,a){const c=wn(e,r);n.server_.onDisconnectPut(t.toString(),c.val(!0),(f,m)=>{"ok"===f&&Sl(n.onDisconnect_,t,c),Rl(0,a,f,m)})}(this._repo,this._path,t,e,r.wrapCallback(()=>{})),r.promise}update(t){kr("OnDisconnect.update",this._path),l_("OnDisconnect.update",t,this._path,!1);const e=new F.BH;return function KC(n,t,e,r){if((0,F.xb)(e))return Jn("onDisconnect().update() called with empty data.  Don't do anything."),void Rl(0,r,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(a,c)=>{"ok"===a&&ir(e,(f,m)=>{const E=wn(m);Sl(n.onDisconnect_,Mn(t,f),E)}),Rl(0,r,a,c)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Yr{constructor(t,e,r,a){this._repo=t,this._path=e,this._queryParams=r,this._orderByCalled=a}get key(){return Nt(this._path)?null:bp(this._path)}get ref(){return new mi(this._repo,this._path)}get _queryIdentifier(){const t=Vm(this._queryParams),e=Bs(t);return"{}"===e?"default":e}get _queryObject(){return Vm(this._queryParams)}isEqual(t){if(!((t=(0,F.m9)(t))instanceof Yr))return!1;const e=this._repo===t._repo,r=Mm(this._path,t._path);return e&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Yw(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function rg(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function zc(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===pi){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==cs)throw new Error(r);if("string"!=typeof t)throw new Error(a)}if(n.hasEnd()){if(n.getIndexEndName()!==Xn)throw new Error(r);if("string"!=typeof e)throw new Error(a)}}else if(n.getIndex()===gn){if(null!=t&&!qp(t)||null!=e&&!qp(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(n.getIndex()instanceof Fm||n.getIndex()===Lc,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Kh(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class mi extends Yr{constructor(t,e){super(t,e,new Ah,!1)}get parent(){const t=Dp(this._path);return null===t?null:new mi(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Zc{constructor(t,e,r){this._node=t,this.ref=e,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Xt(t),r=Nl(this.ref,t);return new Zc(this._node.getChild(e),r,gn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,a)=>t(new Zc(a,Nl(this.ref,r),gn)))}hasChild(t){const e=new Xt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ig(n,t){return(n=(0,F.m9)(n))._checkNotDeleted("ref"),void 0!==t?Nl(n._root,t):n._root}function n0(n,t){(n=(0,F.m9)(n))._checkNotDeleted("refFromURL");const e=g_(t,n._repo.repoInfo_.nodeAdmin);jC("refFromURL",e);const r=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&To("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),ig(n,e.path.toString())}function Nl(n,t){return null===Rt((n=(0,F.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),$h("child","path",e,!1)):$h("child","path",t,!1),new mi(n._repo,Mn(n._path,t));var e}function sg(n,t){n=(0,F.m9)(n),kr("set",n._path),Ia("set",t,n._path,!1);const e=new F.BH;return Jp(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function Wb(n,t){l_("update",t,n._path,!1);const e=new F.BH;return function Nb(n,t,e,r){Dd(n,"update",{path:t.toString(),value:e});let a=!0;const c=bd(n),f={};if(ir(e,(m,E)=>{a=!1,f[m]=Cd(Mn(t,m),wn(E),n.serverSyncTree_,c)}),a)Jn("update() called with empty data.  Don't do anything."),Rl(0,r,"ok",void 0);else{const m=Qp(n),E=function AC(n,t,e,r){!function eC(n,t,e,r){(0,F.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:r,visible:!0}),n.visibleWrites=Yv(n.visibleWrites,t,e),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r);const a=hn.fromObject(e);return at(n,new jc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,a))}(n.serverSyncTree_,t,f,m);Yp(n.eventQueue_,E),n.server_.merge(t.toString(),e,(I,x)=>{const O="ok"===I;O||Kr("update at "+t+" failed: "+I);const W=Da(n.serverSyncTree_,m,!O),ee=W.length>0?Id(n,t):t;Bi(n.eventQueue_,ee,W),Rl(0,r,I,x)}),ir(e,I=>{const x=Zh(n,Mn(t,I));Id(n,x)}),Bi(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function Gb(n){n=(0,F.m9)(n);const t=new ng(()=>{}),e=new Yh(t);return function qC(n,t,e){const r=function ST(n,t){const e=t._path;let r=null;n.syncPointTree_.foreachOnPath(e,(I,x)=>{const O=fi(I,e);r=r||Pl(x,O)});let a=n.syncPointTree_.get(e);a?r=r||Pl(a,Wt()):(a=new wC,n.syncPointTree_=n.syncPointTree_.set(e,a));const c=null!=r,f=c?new wa(r,!0,!1):null;return function mC(n){return xh(n.viewCache_)}(bC(a,t,Rh(n.pendingWriteTree_,t._path),c?f.getNode():Mt.EMPTY_NODE,c))}(n.serverSyncTree_,t);return null!=r?Promise.resolve(r):n.server_.get(t).then(a=>{const c=wn(a).withIndex(t._queryParams.getIndex());let f;if($p(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())f=$s(n.serverSyncTree_,t._path,c);else{const m=No(n.serverSyncTree_,t);f=jp(n.serverSyncTree_,t._path,c,m)}return Bi(n.eventQueue_,t._path,f),t_(n.serverSyncTree_,t,e,null,!0),c},a=>(Dd(n,"get for query "+(0,F.Wl)(t)+" failed: "+a),Promise.reject(new Error(a))))}(n._repo,n,e).then(r=>new Zc(r,new mi(n._repo,n._path),n._queryParams.getIndex()))}class Yh{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const r=e._queryParams.getIndex();return new tg("value",this,new Zc(t.snapshotNode,new mi(e._repo,e._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new t0(this,t,e):null}matches(t){return t instanceof Yh&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Qh{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new t0(this,t,e):null}createEvent(t,e){(0,F.hu)(null!=t.childName,"Child events should have a childName.");const r=Nl(new mi(e._repo,e._path),t.childName),a=e._queryParams.getIndex();return new tg(t.type,this,new Zc(t.snapshotNode,r,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Qh&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function og(n,t,e,r,a){let c;if("object"==typeof r&&(c=void 0,a=r),"function"==typeof r&&(c=r),a&&a.onlyOnce){const E=e,I=(x,O)=>{d_(n._repo,n,m),E(x,O)};I.userCallback=e.userCallback,I.context=e.context,e=I}const f=new ng(e,c||void 0),m="value"===t?new Yh(f):new Qh(t,f);return function Vb(n,t,e){let r;r=".info"===Rt(t._path)?$p(n.infoSyncTree_,t,e):$p(n.serverSyncTree_,t,e),$C(n.eventQueue_,t._path,r)}(n._repo,n,m),()=>d_(n._repo,n,m)}function ag(n,t,e,r){return og(n,"value",t,e,r)}function l0(n,t,e,r){return og(n,"child_added",t,e,r)}function c0(n,t,e,r){return og(n,"child_changed",t,e,r)}function zb(n,t,e,r){return og(n,"child_moved",t,e,r)}function Zb(n,t,e,r){return og(n,"child_removed",t,e,r)}function u0(n,t,e){let r=null;const a=e?new ng(e):null;"value"===t?r=new Yh(a):t&&(r=new Qh(t,a)),d_(n._repo,n,r)}class Ws{}class d0 extends Ws{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ia("endAt",this._value,t._path,!0);const e=Ap(t._queryParams,this._value,this._key);if(Kh(e),zc(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Yr(t._repo,t._path,e,t._orderByCalled)}}class Kb extends Ws{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ia("endBefore",this._value,t._path,!1);const e=function $v(n,t,e){let r,a;return n.index_===pi?("string"==typeof t&&(t=Uc(t)),a=Ap(n,t,e)):(r=null==e?cs:Uc(e),a=Ap(n,t,r)),a.endBeforeSet_=!0,a}(t._queryParams,this._value,this._key);if(Kh(e),zc(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Yr(t._repo,t._path,e,t._orderByCalled)}}class h0 extends Ws{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ia("startAt",this._value,t._path,!0);const e=Mp(t._queryParams,this._value,this._key);if(Kh(e),zc(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Yr(t._repo,t._path,e,t._orderByCalled)}}class Jb extends Ws{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ia("startAfter",this._value,t._path,!1);const e=function jv(n,t,e){let r;if(n.index_===pi)"string"==typeof t&&(t=Vc(t)),r=Mp(n,t,e);else{let a;a=null==e?Xn:Vc(e),r=Mp(n,t,a)}return r.startAfterSet_=!0,r}(t._queryParams,this._value,this._key);if(Kh(e),zc(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Yr(t._repo,t._path,e,t._orderByCalled)}}class eD extends Ws{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Yr(t._repo,t._path,function Bv(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class Jh extends Ws{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Yr(t._repo,t._path,function Hv(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class p0 extends Ws{constructor(t){super(),this._path=t}_apply(t){rg(t,"orderByChild");const e=new Xt(this._path);if(Nt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Fm(e),a=Pp(t._queryParams,r);return zc(a),new Yr(t._repo,t._path,a,!0)}}class m0 extends Ws{_apply(t){rg(t,"orderByKey");const e=Pp(t._queryParams,pi);return zc(e),new Yr(t._repo,t._path,e,!0)}}class y0 extends Ws{_apply(t){rg(t,"orderByPriority");const e=Pp(t._queryParams,gn);return zc(e),new Yr(t._repo,t._path,e,!0)}}class PT extends Ws{_apply(t){rg(t,"orderByValue");const e=Pp(t._queryParams,Lc);return zc(e),new Yr(t._repo,t._path,e,!0)}}class v0 extends Ws{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Ia("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new d0(this._value,this._key)._apply(new h0(this._value,this._key)._apply(t))}}function Gs(n,...t){let e=(0,F.m9)(n);for(const r of t)e=r._apply(e);return e}(function _b(n){(0,F.hu)(!Bp,"__referenceConstructor has already been defined"),Bp=n})(mi),function TC(n){(0,F.hu)(!Vh,"__referenceConstructor has already been defined"),Vh=n}(mi);const qc={};function zs(n,t,e,r,a){let c=r||n.options.databaseURL;void 0===c&&(n.options.projectId||To("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Jn("Using default host for project ",n.options.projectId),c=`${n.options.projectId}-default-rtdb.firebaseio.com`);let E,I,f=g_(c,a),m=f.repoInfo;typeof process<"u"&&process.env&&(I=process.env.FIREBASE_DATABASE_EMULATOR_HOST),I?(E=!0,c=`http://${I}?ns=${m.namespace}`,f=g_(c,a),m=f.repoInfo):E=!f.repoInfo.secure;const x=a&&E?new Eh(Eh.OWNER):new Fw(n.name,n.options,t);jC("Invalid Firebase Database URL",f),Nt(f.path)||To("Database URL must point to the root of a Firebase Database (not including a child path).");const O=function __(n,t,e,r){let a=qc[t.name];a||(a={},qc[t.name]=a);let c=a[n.toURLString()];return c&&To("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new xb(n,false,e,r),a[n.toURLString()]=c,c}(m,n,x,new kw(n.name,e));return new aD(O,n)}class aD{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function GC(n,t,e){if(n.stats_=gv(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Op(n.repoInfo_,(r,a,c,f)=>{ZC(n,r,a,c,f)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>u_(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Wl)(e)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Il(n.repoInfo_,t,(r,a,c,f)=>{ZC(n,r,a,c,f)},r=>{u_(n,r)},r=>{!function Rb(n,t){ir(t,(e,r)=>{Gh(n,e,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function El(n,t){const e=n.toString();return pv[e]||(pv[e]=t()),pv[e]}(n.repoInfo_,()=>new zv(n.stats_,n.server_)),n.infoData_=new sb,n.infoSyncTree_=new e_({startListening:(r,a,c,f)=>{let m=[];const E=n.infoData_.getNode(r._path);return E.isEmpty()||(m=$s(n.infoSyncTree_,r._path,E),setTimeout(()=>{f("ok")},0)),m},stopListening:()=>{}}),Gh(n,"connected",!1),n.serverSyncTree_=new e_({startListening:(r,a,c,f)=>(n.server_.listen(r,c,a,(m,E)=>{const I=f(m,E);Bi(n.eventQueue_,r._path,I)}),[]),stopListening:(r,a)=>{n.server_.unlisten(r,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new mi(this._repo,Wt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function oD(n,t){const e=qc[t];(!e||e[n.key]!==n)&&To(`Database ${t}(${n.repoInfo_}) has already been deleted.`),YC(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&To("Cannot call "+t+" on a deleted database.")}}function E0(){wm.IS_TRANSPORT_INITIALIZED&&Kr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function lD(){E0(),So.forceDisallow()}function lg(){E0(),wl.forceDisallow(),So.forceAllow()}function D0(n,t){mm(n,t)}const I0={".sv":"timestamp"};class OT{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Il.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Il.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function v_(n){hm(Pc.SDK_VERSION),(0,Pc._registerComponent)(new Ku.wA("database",(t,{instanceIdentifier:e})=>zs(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Pc.registerVersion)(iv,Oc,n),(0,Pc.registerVersion)(iv,Oc,"esm2017")}();const fD=new um.Yd("@firebase/database-compat"),S0=function(n){fD.warn("FIREBASE WARNING: "+n)};class M0{constructor(t){this._delegate=t}cancel(t){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),r=>t(r)),e}remove(t){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),r=>t(r)),e}set(t,e){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",e,!0);const r=this._delegate.set(t);return e&&r.then(()=>e(null),a=>e(a)),r}setWithPriority(t,e,r){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const a=this._delegate.setWithPriority(t,e);return r&&a.then(()=>r(null),c=>r(c)),a}update(t,e){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let c=0;c<t.length;++c)a[""+c]=t[c];t=a,S0("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",e,!0);const r=this._delegate.update(t);return e&&r.then(()=>e(null),a=>e(a)),r}}class b_{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Ta{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),$h("DataSnapshot.child","path",t,!1),new Ta(this._database,this._delegate.child(t))}hasChild(t){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),$h("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Ta(this._database,e)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new _i(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class wr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,r,a){var c;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",e,!1);const f=wr.getCancelAndContextArgs_("Query.on",r,a),m=(I,x)=>{e.call(f.context,new Ta(this.database,I),x)};m.userCallback=e,m.context=f.context;const E=null===(c=f.cancel)||void 0===c?void 0:c.bind(f.context);switch(t){case"value":return ag(this._delegate,m,E),e;case"child_added":return l0(this._delegate,m,E),e;case"child_removed":return Zb(this._delegate,m,E),e;case"child_changed":return c0(this._delegate,m,E),e;case"child_moved":return zb(this._delegate,m,E),e;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,r){if((0,F.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,F.Wj)("Query.off","callback",e,!0),(0,F.lb)("Query.off","context",r,!0),e){const a=()=>{};a.userCallback=e,a.context=r,u0(this._delegate,t,a)}else u0(this._delegate,t)}get(){return Gb(this._delegate).then(t=>new Ta(this.database,t))}once(t,e,r,a){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",e,!0);const c=wr.getCancelAndContextArgs_("Query.once",r,a),f=new F.BH,m=(I,x)=>{const O=new Ta(this.database,I);e&&e.call(c.context,O,x),f.resolve(O)};m.userCallback=e,m.context=c.context;const E=I=>{c.cancel&&c.cancel.call(c.context,I),f.reject(I)};switch(t){case"value":ag(this._delegate,m,E,{onlyOnce:!0});break;case"child_added":l0(this._delegate,m,E,{onlyOnce:!0});break;case"child_removed":Zb(this._delegate,m,E,{onlyOnce:!0});break;case"child_changed":c0(this._delegate,m,E,{onlyOnce:!0});break;case"child_moved":zb(this._delegate,m,E,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return f.promise}limitToFirst(t){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new wr(this.database,Gs(this._delegate,function tD(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new eD(n)}(t)))}limitToLast(t){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new wr(this.database,Gs(this._delegate,function f0(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Jh(n)}(t)))}orderByChild(t){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new wr(this.database,Gs(this._delegate,function g0(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return $h("orderByChild","path",n,!1),new p0(n)}(t)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new wr(this.database,Gs(this._delegate,function _0(){return new m0}()))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new wr(this.database,Gs(this._delegate,function nD(){return new y0}()))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new wr(this.database,Gs(this._delegate,function rD(){return new PT}()))}startAt(t=null,e){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new wr(this.database,Gs(this._delegate,function Qb(n=null,t){return jh("startAt","key",t,!0),new h0(n,t)}(t,e)))}startAfter(t=null,e){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new wr(this.database,Gs(this._delegate,function Xb(n,t){return jh("startAfter","key",t,!0),new Jb(n,t)}(t,e)))}endAt(t=null,e){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new wr(this.database,Gs(this._delegate,function qb(n,t){return jh("endAt","key",t,!0),new d0(n,t)}(t,e)))}endBefore(t=null,e){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new wr(this.database,Gs(this._delegate,function Yb(n,t){return jh("endBefore","key",t,!0),new Kb(n,t)}(t,e)))}equalTo(t,e){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new wr(this.database,Gs(this._delegate,function iD(n,t){return jh("equalTo","key",t,!0),new v0(n,t)}(t,e)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof wr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,r){const a={cancel:void 0,context:void 0};if(e&&r)a.cancel=e,(0,F.Wj)(t,"cancel",a.cancel,!0),a.context=r,(0,F.lb)(t,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,F.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new _i(this.database,new mi(this._delegate._repo,this._delegate._path))}}class _i extends wr{constructor(t,e){super(t,new Yr(e._repo,e._path,new Ah,!1)),this.database=t,this._delegate=e}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new _i(this.database,Nl(this._delegate,t))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new _i(this.database,t):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new _i(this.database,this._delegate.root)}set(t,e){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",e,!0);const r=sg(this._delegate,t);return e&&r.then(()=>e(null),a=>e(a)),r}update(t,e){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let c=0;c<t.length;++c)a[""+c]=t[c];t=a,S0("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}kr("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",e,!0);const r=Wb(this._delegate,t);return e&&r.then(()=>e(null),a=>e(a)),r}setWithPriority(t,e,r){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",r,!0);const a=function $b(n,t,e){if(kr("setWithPriority",n._path),Ia("setWithPriority",t,n._path,!1),wd("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new F.BH;return Jp(n._repo,n._path,t,e,r.wrapCallback(()=>{})),r.promise}(this._delegate,t,e);return r&&a.then(()=>r(null),c=>r(c)),a}remove(t){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",t,!0);const e=function o0(n){return kr("remove",n._path),sg(n,null)}(this._delegate);return t&&e.then(()=>t(null),r=>t(r)),e}transaction(t,e,r){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,F.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,r){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const a=function C_(n,t,e){var r;if(n=(0,F.m9)(n),kr("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const a=null===(r=e?.applyLocally)||void 0===r||r,c=new F.BH,m=ag(n,()=>{});return function Bb(n,t,e,r,a,c){Dd(n,"transaction on "+t);const f={path:t,update:e,onComplete:r,status:null,order:sv(),applyLocally:c,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},m=h_(n,t,void 0);f.currentInputSnapshot=m;const E=f.update(m.val());if(void 0===E)f.unwatcher(),f.currentOutputSnapshotRaw=null,f.currentOutputSnapshotResolved=null,f.onComplete&&f.onComplete(null,!1,f.currentInputSnapshot);else{Kp("transaction failed: Data returned ",E,f.path),f.status=0;const I=Wc(n.transactionQueueTree_,t),x=Ol(I)||[];let O;x.push(f),Zp(I,x),"object"==typeof E&&null!==E&&(0,F.r3)(E,".priority")?(O=(0,F.DV)(E,".priority"),(0,F.hu)(qp(O),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):O=(Uh(n.serverSyncTree_,t)||Mt.EMPTY_NODE).getPriority().val();const W=bd(n),ee=wn(E,O),fe=n_(ee,m,W);f.currentOutputSnapshotRaw=ee,f.currentOutputSnapshotResolved=fe,f.currentWriteId=Qp(n);const Ae=Hp(n.serverSyncTree_,t,fe,f.currentWriteId,f.applyLocally);Bi(n.eventQueue_,t,Ae),zh(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(E,I,x)=>{let O=null;E?c.reject(E):(O=new Zc(x,new mi(n._repo,n._path),gn),c.resolve(new OT(I,O)))},m,a),c.promise}(this._delegate,t,{applyLocally:r}).then(c=>new b_(c.committed,new Ta(this.database,c.snapshot)));return e&&a.then(c=>e(null,c.committed,c.snapshot),c=>e(c,!1,null)),a}setPriority(t,e){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",e,!0);const r=function a0(n,t){n=(0,F.m9)(n),kr("setPriority",n._path),wd("setPriority",t,!1);const e=new F.BH;return Jp(n._repo,Mn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&r.then(()=>e(null),a=>e(a)),r}push(t,e){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",e,!0);const r=function s0(n,t){n=(0,F.m9)(n),kr("push",n._path),Ia("push",t,n._path,!0);const e=zC(n._repo),r=Lm(e),a=Nl(n,r),c=Nl(n,r);let f;return f=null!=t?sg(c,t).then(()=>c):Promise.resolve(c),a.then=f.then.bind(f),a.catch=f.then.bind(f,void 0),a}(this._delegate,t),a=r.then(f=>new _i(this.database,f));e&&a.then(()=>e(null),f=>e(f));const c=new _i(this.database,r);return c.then=a.then.bind(a),c.catch=a.catch.bind(a,void 0),c}onDisconnect(){return kr("Reference.onDisconnect",this._delegate._path),new M0(new Gc(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Td{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:lD,forceLongPolling:lg}}useEmulator(t,e,r={}){!function w0(n,t,e,r={}){(n=(0,F.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&To("Cannot call useEmulator() after instance has already been initialized.");const a=n._repoInternal;let c;if(a.repoInfo_.nodeAdmin)r.mockUserToken&&To('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Eh(Eh.OWNER);else if(r.mockUserToken){const f="string"==typeof r.mockUserToken?r.mockUserToken:(0,F.Sg)(r.mockUserToken,n.app.options.projectId);c=new Eh(f)}!function m_(n,t,e,r){n.repoInfo_=new hv(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(a,t,e,c)}(this._delegate,t,e,r)}ref(t){if((0,F.Dv)("database.ref",0,1,arguments.length),t instanceof _i){const e=n0(this._delegate,t.toString());return new _i(this,e)}{const e=ig(this._delegate,t);return new _i(this,e)}}refFromURL(t){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const r=n0(this._delegate,t);return new _i(this,r)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function cD(n){(n=(0,F.m9)(n))._checkNotDeleted("goOffline"),YC(n._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function b0(n){(n=(0,F.m9)(n))._checkNotDeleted("goOnline"),function Ub(n){n.persistentConnection_&&n.persistentConnection_.resume(WC)}(n._repo)}(this._delegate)}}Td.ServerValue={TIMESTAMP:function uD(){return I0}(),increment:n=>function dD(n){return{".sv":{increment:n}}}(n)};var A0=Object.freeze({__proto__:null,initStandalone:function mD({app:n,url:t,version:e,customAuthImpl:r,namespace:a,nodeAdmin:c=!1}){hm(e);const f=new Ku.zt("auth-internal",new Ku.H0("database-standalone"));return f.setComponent(new Ku.wA("auth-internal",()=>r,"PRIVATE")),{instance:new Td(zs(n,f,void 0,t,c),n),namespace:a}}});const P0=Td.ServerValue;!function _D(n){n.INTERNAL.registerComponent(new Ku.wA("database-compat",(t,{instanceIdentifier:e})=>{const r=t.getProvider("app-compat").getImmediate(),a=t.getProvider("database").getImmediate({identifier:e});return new Td(a,r)},"PUBLIC").setServiceProps({Reference:_i,Query:wr,Database:Td,DataSnapshot:Ta,enableLogging:D0,INTERNAL:A0,ServerValue:P0}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.10")}(gT.Z);var ef=k(5363),yD=k(6063);class Qr extends Pr.x{constructor(t=1/0,e=1/0,r=yD.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:a,_timestampProvider:c,_windowTime:f}=this;e||(r.push(t),!a&&r.push(c.now()+f)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:a}=this,c=a.slice();for(let f=0;f<c.length&&!t.closed;f+=r?1:2)t.next(c[f]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:a}=this,c=(a?1:2)*t;if(t<1/0&&c<r.length&&r.splice(0,r.length-c),!a){const f=e.now();let m=0;for(let E=1;E<r.length&&r[E]<=f;E+=2)m=E;m&&r.splice(0,m+1)}}}function Kc(n,t,e){let r,a=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:t=1/0,refCount:a=!1,scheduler:e}=n):r=n??1/0,(0,Ow.B)({connector:()=>new Qr(r,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function O0(n,t){return(0,_o.m)(t)?Tn(()=>n,t):Tn(()=>n)}var D_=k(9468);k(5867);const M_=new Map,DD={activated:!1,tokenObservers:[]},L0={initialized:!1,enabled:!1};function Rn(n){return M_.get(n)||DD}function gs(n,t){M_.set(n,t)}function nf(){return L0}class SD{constructor(t,e,r,a,c){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=a,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=a,a>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Vs.Z)(function*(){e.stop();try{e.pending=new F.BH,yield function U0(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new F.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Jr=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function A_(n){if(!Rn(n).activated)throw Jr.create("use-before-activation",{appName:n.name})}function ug(n,t){return O_.apply(this,arguments)}function O_(){return(O_=(0,Vs.Z)(function*({url:n,body:t},e){var r,a;const c={"Content-Type":"application/json"},f=e.getImmediate({optional:!0});if(f){const ee=yield f.getHeartbeatsHeader();ee&&(c["X-Firebase-Client"]=ee)}const m={method:"POST",body:JSON.stringify(t),headers:c};let E,I;try{E=yield fetch(n,m)}catch(ee){throw Jr.create("fetch-network-error",{originalErrorMessage:null===(r=ee)||void 0===r?void 0:r.message})}if(200!==E.status)throw Jr.create("fetch-status-error",{httpStatus:E.status});try{I=yield E.json()}catch(ee){throw Jr.create("fetch-parse-error",{originalErrorMessage:null===(a=ee)||void 0===a?void 0:a.message})}const x=I.ttl.match(/^([\d.]+)(s)$/);if(!x||!x[2]||isNaN(Number(x[1])))throw Jr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${I.ttl}`});const O=1e3*Number(x[1]),W=Date.now();return{token:I.token,expireTimeMillis:W+O,issuedAtTimeMillis:W}})).apply(this,arguments)}function $0(n,t){const{projectId:e,appId:r,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${r}:exchangeDebugToken?key=${a}`,body:{debug_token:t}}}const af="firebase-app-check-store";let lf=null;function PD(){return lf||(lf=new Promise((n,t)=>{var e;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=a=>{n(a.target.result)},r.onerror=a=>{var c;t(Jr.create("storage-open",{originalErrorMessage:null===(c=a.target.error)||void 0===c?void 0:c.message}))},r.onupgradeneeded=a=>{0===a.oldVersion&&a.target.result.createObjectStore(af,{keyPath:"compositeKey"})}}catch(r){t(Jr.create("storage-open",{originalErrorMessage:null===(e=r)||void 0===e?void 0:e.message}))}}),lf)}function G0(){return(G0=(0,Vs.Z)(function*(n,t){const r=(yield PD()).transaction(af,"readwrite"),c=r.objectStore(af).put({compositeKey:n,value:t});return new Promise((f,m)=>{c.onsuccess=E=>{f()},r.onerror=E=>{var I;m(Jr.create("storage-set",{originalErrorMessage:null===(I=E.target.error)||void 0===I?void 0:I.message}))}})})).apply(this,arguments)}const Md=new um.Yd("@firebase/app-check");function fg(n,t){return(0,F.hl)()?function VT(n,t){return function OD(n,t){return G0.apply(this,arguments)}(function RD(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Md.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function x_(){return nf().enabled}function z0(){return pg.apply(this,arguments)}function pg(){return(pg=(0,Vs.Z)(function*(){const n=nf();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ND={error:"UNKNOWN_ERROR"};function kD(n){return F.US.encodeString(JSON.stringify(n),!1)}function gg(n){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,Vs.Z)(function*(n,t=!1){const e=n.app;A_(e);const r=Rn(e);let c,a=r.token;if(a&&!Pd(a)&&(gs(e,Object.assign(Object.assign({},r),{token:void 0})),a=void 0),!a){const E=yield r.cachedTokenPromise;E&&(Pd(E)?a=E:yield fg(e,void 0))}if(!t&&a&&Pd(a))return{token:a.token};let m,f=!1;if(x_()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ug($0(e,yield z0()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),f=!0);const E=yield r.exchangeTokenPromise;return yield fg(e,E),gs(e,Object.assign(Object.assign({},r),{token:E})),{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),f=!0),a=yield r.exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?Md.warn(E.message):Md.error(E),c=E}return a?c?m=Pd(a)?{token:a.token,internalError:c}:K0(c):(m={token:a.token},gs(e,Object.assign(Object.assign({},r),{token:a})),yield fg(e,a)):m=K0(c),f&&q0(e,m),m})).apply(this,arguments)}function Z0(n,t){const e=Rn(n),r=e.tokenObservers.filter(a=>a.next!==t);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),gs(n,Object.assign(Object.assign({},e),{tokenObservers:r}))}function FD(n){const{app:t}=n,e=Rn(t);let r=e.tokenRefresher;r||(r=function $T(n){const{app:t}=n;return new SD((0,Vs.Z)(function*(){let r;if(r=Rn(t).token?yield gg(n,!0):yield gg(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const e=Rn(t);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),gs(t,Object.assign(Object.assign({},e),{tokenRefresher:r}))),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function q0(n,t){const e=Rn(n).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch{}}function Pd(n){return n.expireTimeMillis-Date.now()>0}function K0(n){return{token:kD(ND),error:n}}class WT{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Rn(this.app);for(const e of t)Z0(this.app,e.next);return Promise.resolve()}}const iE="app-check-internal";!function zT(){(0,Pc._registerComponent)(new Ku.wA("app-check",n=>function LD(n,t){return new WT(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(iE).initialize()})),(0,Pc._registerComponent)(new Ku.wA(iE,n=>function Y0(n){return{getToken:t=>gg(n,t),addTokenListener:t=>function R_(n,t,e,r){const{app:a}=n,c=Rn(a),f={next:e,error:r,type:t};if(gs(a,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,f]})),c.token&&Pd(c.token)){const m=c.token;Promise.resolve().then(()=>{e({token:m.token}),FD(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>FD(n))}(n,"INTERNAL",t),removeTokenListener:t=>Z0(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Pc.registerVersion)("@firebase/app-check","0.5.16")}();class H_{constructor(){return(0,qr.vb)("app-check")}}typeof window<"u"&&window;var W_=k(127);const G_=new u.OlP("angularfire2.auth.use-emulator"),z_=new u.OlP("angularfire2.auth.settings"),uE=new u.OlP("angularfire2.auth.tenant-id"),dE=new u.OlP("angularfire2.auth.langugage-code"),qD=new u.OlP("angularfire2.auth.use-device-language"),KD=new u.OlP("angularfire.auth.persistence"),Z_=(n,t,e,r,a,c,f,m)=>(0,Us.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=t.runOutsideAngular(()=>n.auth());if(e&&E.useEmulator(...e),r&&(E.tenantId=r),E.languageCode=a,c&&E.useDeviceLanguage(),f)for(const[I,x]of Object.entries(f))E.settings[I]=x;return m&&E.setPersistence(m),E},[e,r,a,c,f,m]);let q_=(()=>{class n{constructor(e,r,a,c,f,m,E,I,x,O,W,ee){const fe=new Pr.x,Ae=Xe(void 0).pipe((0,ef.Q)(f.outsideAngular),Tn(()=>c.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,1277)))),(0,st.U)(()=>(0,Us.on)(e,c,r)),(0,st.U)(He=>Z_(He,c,m,I,x,O,E,W)),Kc({bufferSize:1,refCount:!1}));if(function nr(n){return"server"===n}(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Xe(null);else{Ae.pipe(te()).subscribe();const ft=Ae.pipe(Tn(xt=>xt.getRedirectResult().then(br=>br,()=>null)),qr.iC,Kc({bufferSize:1,refCount:!1})),wt=Ae.pipe(Tn(xt=>new dr.y(br=>({unsubscribe:c.runOutsideAngular(()=>xt.onAuthStateChanged(Fr=>br.next(Fr),Fr=>br.error(Fr),()=>br.complete()))})))),Yt=Ae.pipe(Tn(xt=>new dr.y(br=>({unsubscribe:c.runOutsideAngular(()=>xt.onIdTokenChanged(Fr=>br.next(Fr),Fr=>br.error(Fr),()=>br.complete()))}))));this.authState=ft.pipe(O0(wt),(0,D_.R)(f.outsideAngular),(0,ef.Q)(f.insideAngular)),this.user=ft.pipe(O0(Yt),(0,D_.R)(f.outsideAngular),(0,ef.Q)(f.insideAngular)),this.idToken=this.user.pipe(Tn(xt=>xt?(0,cn.D)(xt.getIdToken()):Xe(null))),this.idTokenResult=this.user.pipe(Tn(xt=>xt?(0,cn.D)(xt.getIdTokenResult()):Xe(null))),this.credential=(0,lm.T)(ft,fe,this.authState.pipe(b(xt=>!xt))).pipe((0,st.U)(xt=>xt?.user?xt:null),(0,D_.R)(f.outsideAngular),(0,ef.Q)(f.insideAngular))}return(0,Us.pX)(this,Ae,c,{spy:{apply:(He,ft,wt)=>{(He.startsWith("signIn")||He.startsWith("createUser"))&&wt.then(Yt=>fe.next(Yt))}}})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Us.Dh),u.LFG(Us.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(qr.HU),u.LFG(G_,8),u.LFG(z_,8),u.LFG(uE,8),u.LFG(dE,8),u.LFG(qD,8),u.LFG(KD,8),u.LFG(H_,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),YD=(()=>{class n{constructor(){W_.Z.registerVersion("angularfire",qr.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[q_]}),n})();function JD(n){return null==n}function XD(n){return"function"==typeof n.set}function eI(n,t){return XD(t)?t:n.ref(t)}function tI(n,t){if(function QD(n){return"string"==typeof n}(n))return t.stringCase();if(XD(n))return t.firebaseCase();if(function YT(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function uf(n,t,e="on",r=Pw.z){return new dr.y(a=>{let c=null;return c=n[e](t,(f,m)=>{r.schedule(()=>{a.next({snapshot:f,prevKey:m})}),"once"===e&&r.schedule(()=>a.complete())},f=>{r.schedule(()=>a.error(f))}),"on"===e?{unsubscribe(){null!=c&&n.off(t,c)}}:{unsubscribe(){}}}).pipe((0,st.U)(a=>{const{snapshot:c,prevKey:f}=a;let m=null;return c.exists()&&(m=c.key),{type:t,payload:c,prevKey:f,key:m}}),(0,Ow.B)())}function hE(n,t){const e=n.length;for(let r=0;r<e;r++)if(n[r].payload.key===t)return r;return-1}function fE(n,t){const{payload:e,prevKey:r,key:a}=t,c=hE(n,a),f=function nI(n,t){if(JD(t))return 0;{const e=hE(n,t);return-1===e?n.length:e+1}}(n,r);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let m=null;t.payload.forEach(E=>{const I={payload:E,type:"value",prevKey:m,key:E.key};return m=E.key,n=[...n,I],!1})}return n;case"child_added":if(c>-1){const m=n[c-1];(m&&m.key||null)!==r&&(n=n.filter(E=>E.payload.key!==e.key)).splice(f,0,t)}else{if(null==r)return[t,...n];(n=n.slice()).splice(f,0,t)}return n;case"child_removed":return n.filter(m=>m.payload.key!==e.key);case"child_changed":return n.map(m=>m.payload.key===a?t:m);case"child_moved":if(c>-1){const m=n.splice(c,1)[0];return(n=n.slice()).splice(f,0,m),n}return n;default:return n}}function kl(n){return(JD(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function K_(n,t,e){return function vg(n,t,e){return uf(n,"value","once",e).pipe(Tn(r=>{const a=[Xe(r)];return t.forEach(c=>a.push(uf(n,c,"on",e))),(0,lm.T)(...a).pipe(vt(fE,[]))}),function nv(n,t=Pi.y){return n=n??rv,(0,Yn.e)((e,r)=>{let a,c=!0;e.subscribe((0,In.x)(r,f=>{const m=t(f);(c||!n(a,m))&&(c=!1,a=m,r.next(f))}))})}())}(n,t=kl(t),e)}function Cg(n,t,e){const r=(t=kl(t)).map(a=>uf(n,a,"on",e));return(0,lm.T)(...r)}function Eg(n,t){return function(r,a){return tI(r,{stringCase:()=>n.child(r)[t](a),firebaseCase:()=>r[t](a),snapshotCase:()=>r.ref[t](a)})}}function wg(n){return function(e){return e?tI(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function iI(n,t){return function(){return uf(n,"value","on",t)}}const XT=new u.OlP("angularfire2.realtimeDatabaseURL"),pE=new u.OlP("angularfire2.database.use-emulator");let J_=(()=>{class n{constructor(e,r,a,c,f,m,E,I,x,O,W,ee,fe,Ae,He){this.schedulers=m;const ft=E,wt=(0,Us.on)(e,f,r);I&&Z_(wt,f,x,W,ee,fe,O,Ae),this.database=(0,Us.cc)(`${wt.name}.database.${a}`,"AngularFireDatabase",wt.name,()=>{const Yt=f.runOutsideAngular(()=>wt.database(a||void 0));return ft&&Yt.useEmulator(...ft),Yt},[ft])}list(e,r){const a=this.schedulers.ngZone.runOutsideAngular(()=>eI(this.database,e));let c=a;return r&&(c=r(a)),function QT(n,t){const e=t.schedulers.outsideAngular,r=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:Eg(r,"update"),set:Eg(r,"set"),push:a=>r.push(a),remove:wg(r),snapshotChanges:a=>K_(n,a,e).pipe(qr.iC),stateChanges:a=>Cg(n,a,e).pipe(qr.iC),auditTrail:a=>function Y_(n,t,e){return function Q_(n,t,e){return function rI(n,t){return uf(n,"value","on",t).pipe((0,st.U)(e=>{let r;return e.payload.forEach(a=>(r=a.key,!1)),{data:e,lastKeyToLoad:r}}))}(n,e).pipe(function xw(...n){const t=(0,Ar.jO)(n);return(0,Yn.e)((e,r)=>{const a=n.length,c=new Array(a);let f=n.map(()=>!1),m=!1;for(let E=0;E<a;E++)(0,Oi.Xf)(n[E]).subscribe((0,In.x)(r,I=>{c[E]=I,!m&&!f[E]&&(f[E]=!0,(m=f.every(Pi.y))&&(f=null))},Ac.Z));e.subscribe((0,In.x)(r,E=>{if(m){const I=[E,...c];r.next(t?t(...I):I)}}))})}(t),(0,st.U)(([a,c])=>{const f=a.lastKeyToLoad,m=c.map(E=>E.key);return{actions:c,lastKeyToLoad:f,loadedKeys:m}}),function cm(n){return(0,Yn.e)((t,e)=>{let r=!1,a=0;t.subscribe((0,In.x)(e,c=>(r||(r=!n(c,a++)))&&e.next(c)))})}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,st.U)(a=>a.actions))}(n,Cg(n,t).pipe(vt((a,c)=>[...a,c],[])),e)}(n,a,e).pipe(qr.iC),valueChanges:(a,c)=>K_(n,a,e).pipe((0,st.U)(m=>m.map(E=>c&&c.idField?Object.assign(Object.assign({},E.payload.val()),{[c.idField]:E.key}):E.payload.val())),qr.iC)}}(c,this)}object(e){return function JT(n,t){return{query:n,snapshotChanges:()=>iI(n,t.schedulers.outsideAngular)().pipe(qr.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>iI(n,t.schedulers.outsideAngular)().pipe(qr.iC,(0,st.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>eI(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Us.Dh),u.LFG(Us.xv,8),u.LFG(XT,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(qr.HU),u.LFG(pE,8),u.LFG(q_,8),u.LFG(G_,8),u.LFG(z_,8),u.LFG(uE,8),u.LFG(dE,8),u.LFG(qD,8),u.LFG(KD,8),u.LFG(H_,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),sI=(()=>{class n{constructor(){W_.Z.registerVersion("angularfire",qr.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[J_]}),n})(),gE=(()=>{class n{constructor(){this.invokeFirstComponentFunction=new u.vpe}onFirstComponentButtonClick(e){this.invokeFirstComponentFunction.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X_=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),Fl=(()=>{class n extends X_{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const qs=new u.OlP("NgValueAccessor"),_E={provide:qs,useExisting:(0,u.Gpc)(()=>Od),multi:!0},eS=new u.OlP("CompositionEventMode");let Od=(()=>{class n extends X_{constructor(e,r,a){super(e,r),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ey(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(eS,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&u.NdJ("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[u._Bn([_E]),u.qOj]}),n})();const ei=new u.OlP("NgValidators"),Qc=new u.OlP("NgAsyncValidators");function gI(n){return null!=n}function mI(n){return(0,u.QGY)(n)?(0,cn.D)(n):n}function _I(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function yI(n,t){return t.map(e=>e(n))}function s(n){return n.map(t=>function i(n){return!n.validate}(t)?t:e=>t.validate(e))}function l(n){return null!=n?function o(n){if(!n)return null;const t=n.filter(gI);return 0==t.length?null:function(e){return _I(yI(e,t))}}(s(n)):null}function p(n){return null!=n?function d(n){if(!n)return null;const t=n.filter(gI);return 0==t.length?null:function(e){return function oI(...n){const t=(0,Ar.jO)(n),{args:e,keys:r}=ia(n),a=new dr.y(c=>{const{length:f}=e;if(!f)return void c.complete();const m=new Array(f);let E=f,I=f;for(let x=0;x<f;x++){let O=!1;(0,Oi.Xf)(e[x]).subscribe((0,In.x)(c,W=>{O||(O=!0,I--),m[x]=W},()=>E--,void 0,()=>{(!E||!O)&&(I||c.next(r?go(r,m):m),c.complete())}))}});return t?a.pipe(oa(t)):a}(yI(e,t).map(mI)).pipe((0,st.U)(_I))}}(s(n)):null}function y(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function T(n){return n?Array.isArray(n)?n:[n]:[]}function A(n,t){return Array.isArray(n)?n.includes(t):n===t}function N(n,t){const e=T(t);return T(n).forEach(a=>{A(e,a)||e.push(a)}),e}function $(n,t){return T(t).filter(e=>!A(n,e))}class X{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=l(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=p(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class de extends X{get formDirective(){return null}get path(){return null}}class Se extends X{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let De=(()=>{class n extends class Ue{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Se,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[u.qOj]}),n})();const iy="VALID",ME="INVALID",bg="PENDING",sy="DISABLED";function rS(n){return Array.isArray(n)?l(n):n||null}function iS(n){return Array.isArray(n)?p(n):n||null}function AE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function oy(n,t){(function bI(n,t){const e=function C(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(y(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=function w(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(y(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const a=()=>n.updateValueAndValidity();xE(t._rawValidators,a),xE(t._rawAsyncValidators,a)})(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function HM(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&lS(n,t)})}(n,t),function $M(n,t){const e=(r,a)=>{t.valueAccessor.writeValue(r),a&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function jM(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&lS(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function BM(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function xE(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function lS(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function hS(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function fS(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const QM={provide:Se,useExisting:(0,u.Gpc)(()=>NE)},_S=(()=>Promise.resolve())();let NE=(()=>{class n extends Se{constructor(e,r,a,c,f){super(),this._changeDetectorRef=f,this.control=new class extends class aS{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=rS(this._rawValidators),this._composedAsyncValidatorFn=iS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===iy}get invalid(){return this.status===ME}get pending(){return this.status==bg}get disabled(){return this.status===sy}get enabled(){return this.status!==sy}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=rS(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=iS(t)}addValidators(t){this.setValidators(N(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(N(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators($(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators($(t,this._rawAsyncValidators))}hasValidator(t){return A(this._rawValidators,t)}hasAsyncValidator(t){return A(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=bg,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=sy,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=iy,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===iy||this.status===bg)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sy:iy}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=bg,this._hasOwnPendingAsyncValidator=!0;const e=mI(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,a)=>r&&r._find(a),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?sy:this.errors?ME:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bg)?bg:this._anyControlsHaveStatus(ME)?ME:iy}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){AE(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}{constructor(t=null,e,r){super(function CI(n){return(AE(n)?n.validators:n)||null}(e),function EI(n,t){return(AE(t)?t.asyncValidators:n)||null}(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),AE(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=fS(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){hS(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){hS(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){fS(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},this._registered=!1,this.update=new u.vpe,this._parent=e,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=function II(n,t){if(!t)return null;let e,r,a;return Array.isArray(t),t.forEach(c=>{c.constructor===Od?e=c:function zM(n){return Object.getPrototypeOf(n.constructor)===Fl}(c)?r=c:a=c}),a||r||e||null}(0,c)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function DI(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){oy(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){_S.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,a=0!==r&&(0,u.D6c)(r);_S.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function PE(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(de,9),u.Y36(ei,10),u.Y36(Qc,10),u.Y36(qs,10),u.Y36(u.sBO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([QM]),u.qOj,u.TTD]}),n})(),vS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),wA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[vS]}),n})(),bA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[wA]}),n})(),LS=(()=>{class n{constructor(e,r){this.db=e,this.eventEmitterService=r}ngOnInit(){}search(){var e=this;return(0,Vs.Z)(function*(){e.eventEmitterService.onFirstComponentButtonClick(e.searchTag)})()}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(J_),u.Y36(gE))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-navbar"]],decls:55,vars:1,consts:[["id","main-header"],["id","header-logo","src","/assets/linkedin.png","alt","LinkedIn"],["id","header-picture-menu","src","/assets/pic.jpeg","alt","Profile picture"],["id","header-picture-menu-bars"],[1,"fas","fa-bars"],["id","search","type","text","placeholder","       Search posts",3,"ngModel","ngModelChange","keyup.enter"],["id","search-button",1,"fas","fa-search"],[1,"fas","fa-comments"],["id","home",1,"selected"],[1,"fas","fa-home"],[1,"nav-item-text"],[1,"fas","fa-user-friends"],[1,"fas","fa-suitcase"],[1,"fas","fa-envelope"],[1,"fas","fa-bell"],["id","right-border"],["src","/assets/pic.jpeg","alt","Profile picture"],[1,"fas","fa-caret-down"],[1,"fas","fa-th"],["id","premium"],["href","#"]],template:function(e,r){1&e&&(u._UZ(0,"head"),u.TgZ(1,"header",0)(2,"div")(3,"div"),u._UZ(4,"img",1)(5,"img",2),u.TgZ(6,"span",3),u._UZ(7,"span",4),u.qZA(),u.TgZ(8,"div")(9,"input",5),u.NdJ("ngModelChange",function(c){return r.searchTag=c})("keyup.enter",function(){return r.search()}),u.qZA(),u._UZ(10,"span",6),u.qZA(),u._UZ(11,"span",7),u.qZA(),u.TgZ(12,"nav")(13,"ul")(14,"li")(15,"div",8),u._UZ(16,"span",9),u.TgZ(17,"span",10),u._uU(18,"Home"),u.qZA()()(),u.TgZ(19,"li")(20,"div"),u._UZ(21,"span",11),u.TgZ(22,"span",10),u._uU(23,"My Network"),u.qZA()()(),u.TgZ(24,"li")(25,"div"),u._UZ(26,"span",12),u.TgZ(27,"span",10),u._uU(28,"Jobs"),u.qZA()()(),u.TgZ(29,"li")(30,"div"),u._UZ(31,"span",13),u.TgZ(32,"span",10),u._uU(33,"Messaging"),u.qZA()()(),u.TgZ(34,"li")(35,"div"),u._UZ(36,"span",14),u.TgZ(37,"span",10),u._uU(38,"Notifications"),u.qZA()()(),u.TgZ(39,"li")(40,"div",15),u._UZ(41,"img",16),u.TgZ(42,"span",10),u._uU(43," Me"),u._UZ(44,"span",17),u.qZA()()(),u.TgZ(45,"li")(46,"div"),u._UZ(47,"span",18),u.TgZ(48,"span",10),u._uU(49,"Work"),u._UZ(50,"span",17),u.qZA()()(),u.TgZ(51,"li",19)(52,"div")(53,"a",20),u._uU(54,"Try Premium Free for 1 Month"),u.qZA()()()()()()()),2&e&&(u.xp6(9),u.Q6J("ngModel",r.searchTag))},dependencies:[Od,De,NE],styles:['@import"https://fonts.googleapis.com/css?family=Source+Sans+Pro&display=swap";*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}input[_ngcontent-%COMP%]{outline:0;font-family:Source Sans Pro,sans-serif}a[_ngcontent-%COMP%]{text-decoration:none}header#main-header[_ngcontent-%COMP%]{height:52px;position:fixed;background:#fff;width:100vw;display:flex;justify-content:center;z-index:1}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:1188px;padding-left:24px;padding-right:40px;display:flex;align-items:center;justify-content:space-between}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:none}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > img#header-logo[_ngcontent-%COMP%]{width:38px;height:38px;margin-right:10px;cursor:pointer}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > img#header-picture-menu[_ngcontent-%COMP%]{display:none}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > span#header-picture-menu-bars[_ngcontent-%COMP%]{display:none}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:700;background:#e1e9ee;border:none;border-radius:2px;font-size:13px;height:34px;max-width:280px;flex:1;color:#283e4abf;padding-left:10px}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex:1;max-width:280px;position:relative}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{background:#fff}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span#search-icon[_ngcontent-%COMP%]{position:absolute;left:10px;top:12px;font-size:12px;color:#283e4a}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span#search-button[_ngcontent-%COMP%]{position:absolute;right:0;padding:9px;background:#e1e9ee;color:#0084bf;border-radius:2px}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{margin-right:17px}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;align-items:flex-end}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#666;display:inline-block;height:52px}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-end;width:80px;font-size:20px;height:100%;padding-bottom:3px;cursor:pointer;transition:color .3s}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{color:#191919}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div.selected[_ngcontent-%COMP%]{border-bottom:solid 2px #fff;color:#191919}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div#home[_ngcontent-%COMP%]{position:relative}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div#home[_ngcontent-%COMP%]:after{position:absolute;right:23px;top:5px;width:13px;height:13px;background:#d11124;border:2px solid #283e4a;content:"";border-radius:50%}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div#right-border[_ngcontent-%COMP%]{border-right:solid 1px rgba(255,255,255,.3)}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:24px;width:24px;border-radius:50%;border:1px solid #e1e9ee}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:13px;width:100px;text-align:center;padding-bottom:7px;color:#666;margin-left:20px;line-height:1.2}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span.nav-item-text[_ngcontent-%COMP%]{font-size:13px}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span.nav-item-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:4px}@media only screen and (max-width: 1047px){header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:45px;justify-content:center}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div.selected[_ngcontent-%COMP%]{border-style:none}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span.nav-item-text[_ngcontent-%COMP%]{display:none}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding-bottom:0}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li#premium[_ngcontent-%COMP%]{margin:0 20px}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div#home[_ngcontent-%COMP%]:after{right:5px;top:10px}}@media only screen and (max-width: 700px){header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-right:14px}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:none}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > img#header-logo[_ngcontent-%COMP%]{display:none}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > img#header-picture-menu[_ngcontent-%COMP%]{display:block;height:38px;width:38px;border-radius:50%;border:2px solid #fff;box-shadow:inset 0 1.5px 3px #00000026,0 1.5px 3px #00000026;background-color:#c7d1d8;cursor:pointer;margin-right:25px}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > span#header-picture-menu-bars[_ngcontent-%COMP%]{display:block;position:absolute;left:25px;top:26px;color:#283c4a;background:#fff;font-size:10px;width:20px;height:20px;border-radius:50%;background-color:#f6f6f6;text-align:center}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > span#header-picture-menu-bars[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:5px}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;color:#666;width:38px;font-size:26px;cursor:pointer;transition:color .3s;margin-left:23px}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:hover{color:#666}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{max-width:100%;flex-shrink:1;width:0}header#main-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{max-width:100%;width:0}}']}),n})();function IA(n,t){if(1&n&&(u.TgZ(0,"article")(1,"div",45)(2,"a",9)(3,"div"),u._UZ(4,"img",46),u.TgZ(5,"div")(6,"div")(7,"strong",47),u._uU(8),u.qZA(),u.TgZ(9,"span")(10,"span"),u._uU(11,"\xa0\xb7\xa0"),u.qZA(),u._uU(12),u.qZA()(),u.TgZ(13,"span"),u._uU(14),u.qZA(),u.TgZ(15,"span"),u._uU(16),u.ALo(17,"date"),u.qZA()()()(),u.TgZ(18,"div"),u._UZ(19,"span",48)(20,"span",48)(21,"span",48),u.qZA()(),u.TgZ(22,"div",49)(23,"p"),u._uU(24),u.qZA(),u.TgZ(25,"p",50)(26,"button"),u._uU(27,"See translation"),u.qZA()(),u._UZ(28,"img",46),u.qZA(),u.TgZ(29,"div",51)(30,"div",52),u._UZ(31,"span",53)(32,"span",54),u.TgZ(33,"span",55),u._uU(34,"23 "),u.TgZ(35,"span"),u._uU(36,"\xa0\xb7\xa0"),u.qZA(),u._uU(37," 4 Comments"),u.qZA()(),u.TgZ(38,"div",56)(39,"button"),u._UZ(40,"span",57),u.TgZ(41,"span"),u._uU(42,"Like"),u.qZA()(),u.TgZ(43,"button"),u._UZ(44,"span",58),u.TgZ(45,"span"),u._uU(46,"Comment"),u.qZA()(),u.TgZ(47,"button"),u._UZ(48,"span",59),u.TgZ(49,"span"),u._uU(50,"Share"),u.qZA()()()()()),2&n){const e=t.$implicit;u.xp6(4),u.s9C("src",e.dp,u.LSH),u.xp6(4),u.Oqu(e.name),u.xp6(4),u.hij(" ",e.type,""),u.xp6(2),u.Oqu(e.job),u.xp6(2),u.Oqu(u.xi3(17,7,e.timestamp,"dd/MM/yyyy")),u.xp6(8),u.hij(" ",e.data," "),u.xp6(4),u.s9C("src",e.img,u.LSH)}}let VS=(()=>{class n{constructor(e,r){this.db=e,this.eventEmitterService=r,this.showPopupVar=!1,this.getStarted()}writePost(){var e=Date.now(),r={data:this.postMsg,dp:"https://www.gstatic.com/mobilesdk/160503_mobilesdk/logo/2x/firebase_28dp.png",img:"https://www.gstatic.com/webp/gallery/1.png",job:"Angular developer",name:"Shaalu Sree",timestamp:e,type:"1st"};this.db.object("posts/"+e).set(r),this.getStarted(),this.postMsg=""}getStarted(){var e=this;return(0,Vs.Z)(function*(){var r;yield e.getPostsFromDatabase().then(a=>{r=a}),e._postsList=r})()}getPostsFromDatabase(){return new Promise((e,r)=>{this.db.list("posts").valueChanges().subscribe(a=>{e(a)})})}ngOnInit(){null==this.eventEmitterService.subsVar&&(this.eventEmitterService.subsVar=this.eventEmitterService.invokeFirstComponentFunction.subscribe(e=>{this.search(e)}))}showPopup(){this.showPopupVar=!0}search(e){var r=this;return(0,Vs.Z)(function*(){var a;yield r.getPostsFromDatabaseSearch(e).then(c=>{a=c}),r._postsList=a})()}getPostsFromDatabaseSearch(e){return new Promise((r,a)=>{this.db.list("posts",c=>c.orderByChild("data").startAt(e).endAt(e+"\uf8ff")).valueChanges().subscribe(c=>{r(c)})})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(J_),u.Y36(gE))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-newsfeed"]],decls:204,vars:2,consts:[[1,"container"],["id","left-aside-wrapper"],["id","left-aside"],["id","profile-card"],["id","background"],["id","profile-info"],["src","/assets/pic.jpeg","alt","Profile picture"],["id","profile-name"],["id","profile-links"],["href","#"],[1,"profile-number"],["id","profile-premium"],["id","profile-square"],["id","profile-groups"],[1,"fas","fa-angle-up"],[1,"group-list"],[1,"fas","fa-users"],[1,"fas","fa-hashtag"],[1,"group-title"],["id","aaaa"],["id","main-wrapper"],["id","main-section"],["id","share-box"],["id","button-box"],["type","text","id","btn-post","placeholder","Share a Post",1,"wrPost",3,"ngModel","ngModelChange","keyup.enter"],["id","btn-picture"],[1,"fas","fa-camera"],["id","btn-video"],[1,"fas","fa-video"],["id","btn-document"],[1,"fas","fa-file"],["id","link-box"],["id","feed-sort"],[1,"fas","fa-sort-down"],[4,"ngFor","ngForOf"],["id","right-aside"],["id","rec-section"],["src","/assets/mongo.jpeg","alt",""],[1,"fas","fa-plus"],["src","/assets/react.png","alt",""],["src","/assets/example-person.jpeg","alt",""],["id","linkedin-section"],["src","/assets/pic.jpeg","alt",""],["id","linkedin-key","src","/assets/linkedin-ad.png","alt",""],[1,"fas","fa-angle-down"],["id","post-author"],["alt","",3,"src"],["id","post-author-name"],[1,"fas","fa-circle"],["id","post-data"],["id","post-translation"],["id","post-interactions"],["id","interactions-amount"],["id","like-icon",1,"fas","fa-thumbs-up","fa-flip-horizontal"],["id","heart-icon",1,"fas","fa-heart"],["id","amount-info"],["id","interactions-btns"],[1,"far","fa-thumbs-up","fa-flip-horizontal"],[1,"far","fa-comment-dots","fa-flip-horizontal"],[1,"far","fa-share-square"]],template:function(e,r){1&e&&(u.TgZ(0,"body")(1,"div",0)(2,"div",1)(3,"aside",2)(4,"div",3),u._UZ(5,"div",4),u.TgZ(6,"div",5),u._UZ(7,"img",6),u.TgZ(8,"strong",7),u._uU(9,"Shaalu Sree"),u.qZA(),u.TgZ(10,"small"),u._uU(11,"Front-End Developer"),u.qZA()(),u.TgZ(12,"div",8)(13,"a",9)(14,"span"),u._uU(15," Who's viewed your profile "),u.qZA(),u.TgZ(16,"span",10),u._uU(17," 102 "),u.qZA()(),u.TgZ(18,"a",9)(19,"span"),u._uU(20," Connections "),u.qZA(),u.TgZ(21,"span",10),u._uU(22," 452 "),u.qZA()()(),u.TgZ(23,"span"),u._uU(24,"Grow your network"),u.qZA(),u.TgZ(25,"a",9)(26,"span"),u._uU(27,"Access exclusive tools & insights"),u.qZA(),u.TgZ(28,"span",11)(29,"span",12),u._uU(30,"\u25a0"),u.qZA(),u._uU(31," Try Premium Free for 1 Month"),u.qZA()()(),u.TgZ(32,"div",13)(33,"section")(34,"header")(35,"span"),u._uU(36,"Recent"),u.qZA(),u._UZ(37,"span",14),u.qZA(),u.TgZ(38,"ul",15)(39,"li"),u._UZ(40,"span",16),u.TgZ(41,"span"),u._uU(42,"React Developers"),u.qZA()(),u.TgZ(43,"li"),u._UZ(44,"span",17),u.TgZ(45,"span"),u._uU(46,"javascript"),u.qZA()(),u.TgZ(47,"li"),u._UZ(48,"span",17),u.TgZ(49,"span"),u._uU(50,"webdevelopment"),u.qZA()(),u.TgZ(51,"li"),u._UZ(52,"span",16),u.TgZ(53,"span"),u._uU(54,"Javascript Brasil"),u.qZA()(),u.TgZ(55,"li"),u._UZ(56,"span",16),u.TgZ(57,"span"),u._uU(58,"Dog Lovers"),u.qZA()()()(),u.TgZ(59,"section")(60,"header")(61,"span",18),u._uU(62,"Groups"),u.qZA(),u._UZ(63,"span",14),u.qZA(),u.TgZ(64,"ul")(65,"li"),u._UZ(66,"span",16),u.TgZ(67,"span",19),u._uU(68,"React Developers"),u.qZA()(),u.TgZ(69,"li"),u._UZ(70,"span",16),u.TgZ(71,"span"),u._uU(72,"Javascript Brasil"),u.qZA()(),u.TgZ(73,"li"),u._UZ(74,"span",16),u.TgZ(75,"span"),u._uU(76,"Dog Lovers"),u.qZA()()(),u.TgZ(77,"div",15)(78,"a",9),u._uU(79,"See all"),u.qZA()()(),u.TgZ(80,"section")(81,"header")(82,"span",18),u._uU(83," Followed Hashtags"),u.qZA(),u._UZ(84,"span",14),u.qZA(),u.TgZ(85,"ul")(86,"li"),u._UZ(87,"span",17),u.TgZ(88,"span"),u._uU(89,"javascript"),u.qZA()(),u.TgZ(90,"li"),u._UZ(91,"span",17),u.TgZ(92,"span"),u._uU(93,"webdevelopment"),u.qZA()()(),u.TgZ(94,"a",9),u._uU(95,"See all"),u.qZA()(),u.TgZ(96,"a",9),u._uU(97,"Discover more"),u.qZA()()()(),u.TgZ(98,"div",20)(99,"main",21)(100,"div",22)(101,"div",23)(102,"button")(103,"input",24),u.NdJ("ngModelChange",function(c){return r.postMsg=c})("keyup.enter",function(){return r.writePost()}),u.qZA()(),u.TgZ(104,"button",25),u._UZ(105,"span",26),u.qZA(),u.TgZ(106,"button",27),u._UZ(107,"span",28),u.qZA(),u.TgZ(108,"button",29),u._UZ(109,"span",30),u.qZA()(),u.TgZ(110,"div",31)(111,"a",9),u._uU(112,"Write an article"),u.qZA(),u.TgZ(113,"span"),u._uU(114,"on LinkedIn"),u.qZA()()(),u.TgZ(115,"div",32),u._UZ(116,"hr"),u.TgZ(117,"button")(118,"span"),u._uU(119,"Sort by:"),u.qZA(),u.TgZ(120,"strong"),u._uU(121,"Top"),u.qZA(),u._UZ(122,"span",33),u.qZA()(),u.YNc(123,IA,51,10,"article",34),u.qZA()(),u.TgZ(124,"aside",35)(125,"div",36)(126,"div")(127,"header")(128,"span"),u._uU(129,"Add to your feed"),u.qZA()(),u.TgZ(130,"div")(131,"div"),u._UZ(132,"img",37),u.TgZ(133,"div")(134,"strong"),u._uU(135,"MongoDB"),u.qZA(),u.TgZ(136,"small"),u._uU(137,"Company - Computer Software"),u.qZA()(),u.TgZ(138,"button"),u._UZ(139,"span",38),u.TgZ(140,"span"),u._uU(141,"Follow"),u.qZA()()(),u.TgZ(142,"div"),u._UZ(143,"img",39),u.TgZ(144,"div")(145,"strong"),u._uU(146,"#reactjs"),u.qZA()(),u.TgZ(147,"button"),u._UZ(148,"span",38),u.TgZ(149,"span"),u._uU(150,"Follow"),u.qZA()()(),u.TgZ(151,"div"),u._UZ(152,"img",40),u.TgZ(153,"div")(154,"strong"),u._uU(155,"John Smith"),u.qZA(),u.TgZ(156,"small"),u._uU(157,"Entrepreneur and Marketing Specialist"),u.qZA()(),u.TgZ(158,"button"),u._UZ(159,"span",38),u.TgZ(160,"span"),u._uU(161,"Follow"),u.qZA()()()(),u.TgZ(162,"a",9),u._uU(163,"View all recommendations"),u.qZA()()(),u.TgZ(164,"div",41)(165,"section")(166,"small"),u._uU(167,"Ad"),u.qZA(),u.TgZ(168,"a",9)(169,"span"),u._uU(170,"Maur\xedcio, unlock your full potential with Linkedin Premium"),u.qZA(),u.TgZ(171,"div"),u._UZ(172,"img",42)(173,"img",43),u.qZA(),u.TgZ(174,"strong"),u._uU(175," See who's viewed your profile in the last 90 days "),u.qZA(),u.TgZ(176,"div")(177,"button"),u._uU(178,"Try for free"),u.qZA()()()(),u.TgZ(179,"footer")(180,"ul")(181,"li"),u._uU(182,"About"),u.qZA(),u.TgZ(183,"li"),u._uU(184,"Help Center"),u.qZA(),u.TgZ(185,"li"),u._uU(186," Privacy & Terms"),u._UZ(187,"span",44),u.qZA(),u.TgZ(188,"li"),u._uU(189,"Advertising"),u.qZA(),u.TgZ(190,"li"),u._uU(191," Business Services "),u._UZ(192,"span",44),u.qZA(),u.TgZ(193,"li"),u._uU(194,"Get the LinkedIn app"),u.qZA(),u.TgZ(195,"li"),u._uU(196,"More"),u.qZA()(),u.TgZ(197,"div")(198,"strong"),u._uU(199,"Linked"),u.TgZ(200,"span"),u._uU(201,"in"),u.qZA()(),u.TgZ(202,"span"),u._uU(203,"LinkedIn Corporation \xa9 2019"),u.qZA()()()()()()()),2&e&&(u.xp6(103),u.Q6J("ngModel",r.postMsg),u.xp6(20),u.Q6J("ngForOf",r._postsList))},dependencies:[vs,Od,De,NE,Ld],styles:['@import"https://fonts.googleapis.com/css?family=Source+Sans+Pro&display=swap";*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{background:#f5f5f5;font-family:Source Sans Pro,sans-serif;text-rendering:optimizeLegibility!important;-webkit-font-smoothing:antialiased!important}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{outline:0;font-family:Source Sans Pro,sans-serif}a[_ngcontent-%COMP%]{text-decoration:none}div.container[_ngcontent-%COMP%]{max-width:1188px;margin:0 auto;padding:0 30px;grid-template-areas:"left-aside main-section right-aside";grid-template-rows:100px 1fr;grid-template-columns:216px 1fr 312px;display:grid}.container[_ngcontent-%COMP%] > div#left-aside-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;padding:95px 0}.container[_ngcontent-%COMP%]   aside#left-aside[_ngcontent-%COMP%]{grid-area:left-aside;height:100vh;width:216px}.container[_ngcontent-%COMP%]   aside#left-aside[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:#fff;box-shadow:0 0 0 1px #0003,0 2px 3px #00000040;border-radius:2px}aside#left-aside[_ngcontent-%COMP%]   div#profile-card[_ngcontent-%COMP%]{height:305px;margin-bottom:8px;display:flex;flex-direction:column}aside#left-aside[_ngcontent-%COMP%]   div#profile-card[_ngcontent-%COMP%]   div#background[_ngcontent-%COMP%]{height:54px;background:linear-gradient(90deg,rgb(62,62,65) 0%,rgb(168,168,184) 100%)}aside#left-aside[_ngcontent-%COMP%]   div#profile-card[_ngcontent-%COMP%]   div#profile-info[_ngcontent-%COMP%]{height:161px;width:216px;background:transparent;padding:12px 12px 16px;border-bottom:1px solid rgba(0,0,0,.15);margin:-49px auto 12px;display:flex;flex-direction:column;align-items:center}aside#left-aside[_ngcontent-%COMP%]   div#profile-card[_ngcontent-%COMP%]   div#profile-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;border-radius:50%;border:2px solid #fff;box-shadow:inset 0 1.5px 3px #00000026,0 1.5px 3px #00000026;background-color:#fff;margin-bottom:18px;cursor:pointer}aside#left-aside[_ngcontent-%COMP%]   div#profile-card[_ngcontent-%COMP%]   div#profile-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:18px;margin-bottom:5px;cursor:pointer}aside#left-aside[_ngcontent-%COMP%]   div#profile-card[_ngcontent-%COMP%]   div#profile-info[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:13px;color:#0009}aside#left-aside[_ngcontent-%COMP%]   div#profile-card[_ngcontent-%COMP%]   div#profile-links[_ngcontent-%COMP%]{font-size:14px;padding-top:6px;display:flex;flex-direction:column}aside#left-aside[_ngcontent-%COMP%]   div#profile-card[_ngcontent-%COMP%]   div#profile-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:3px 12px}aside#left-aside[_ngcontent-%COMP%]   div#profile-card[_ngcontent-%COMP%]   div#profile-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline;color:#0009}aside#left-aside[_ngcontent-%COMP%]   div#profile-card[_ngcontent-%COMP%]   div#profile-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#0009;font-weight:700;font-size:13px}aside#left-aside[_ngcontent-%COMP%]   div#profile-card[_ngcontent-%COMP%]   div#profile-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span.profile-number[_ngcontent-%COMP%]{color:#0073b1}aside#left-aside[_ngcontent-%COMP%]   div#profile-card[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:12px;padding:0 12px;font-weight:700;color:#000000e6}aside#left-aside[_ngcontent-%COMP%]   div#profile-card[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-size:13px;margin-top:15px;line-height:15px;color:#0009;display:flex;flex-direction:column;align-items:center}aside#left-aside[_ngcontent-%COMP%]   div#profile-card[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   span#profile-premium[_ngcontent-%COMP%]{color:#000000e6;font-weight:700;font-size:12px}aside#left-aside[_ngcontent-%COMP%]   div#profile-card[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   span#profile-premium[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-right:4px;color:#b29a53;font-size:10px}aside#left-aside[_ngcontent-%COMP%]   div#profile-card[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{text-decoration:underline}aside#left-aside[_ngcontent-%COMP%]   div#profile-groups[_ngcontent-%COMP%]{padding-top:8px;width:216px}aside#left-aside[_ngcontent-%COMP%]   div#profile-groups[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{font-size:14px;color:#0009;font-weight:700}aside#left-aside[_ngcontent-%COMP%]   div#profile-groups[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{padding:3px 12px 5px;font-weight:400;color:#000;display:flex;justify-content:space-between}aside#left-aside[_ngcontent-%COMP%]   div#profile-groups[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   span.fas[_ngcontent-%COMP%]{font-size:18px;color:#0009;cursor:pointer;padding:0 7px}aside#left-aside[_ngcontent-%COMP%]   div#profile-groups[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]:hover{background:#f3f5f7}aside#left-aside[_ngcontent-%COMP%]   div#profile-groups[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   span.group-title[_ngcontent-%COMP%]{color:#0073b1;font-weight:700;cursor:pointer}aside#left-aside[_ngcontent-%COMP%]   div#profile-groups[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   span.group-title[_ngcontent-%COMP%]:hover{text-decoration:underline}aside#left-aside[_ngcontent-%COMP%]   div#profile-groups[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-bottom:2px;-webkit-user-select:none;user-select:none}aside#left-aside[_ngcontent-%COMP%]   div#profile-groups[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;padding:3px 12px;cursor:pointer}aside#left-aside[_ngcontent-%COMP%]   div#profile-groups[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#f3f5f7}aside#left-aside[_ngcontent-%COMP%]   div#profile-groups[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child:hover{color:#0073b1;text-decoration:underline}aside#left-aside[_ngcontent-%COMP%]   div#profile-groups[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{width:20px;margin-right:3px;text-align:center;color:#7a8b98}aside#left-aside[_ngcontent-%COMP%]   div#profile-groups[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0009;padding-left:38px;-webkit-user-select:none;user-select:none}aside#left-aside[_ngcontent-%COMP%]   div#profile-groups[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0073b1;text-decoration:underline}aside#left-aside[_ngcontent-%COMP%]   div#profile-groups[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:block;text-align:center;color:#000;font-size:14px;font-weight:700;padding:12px;margin-top:15px;border-top:1px #cfcfcf solid}aside#left-aside[_ngcontent-%COMP%]   div#profile-groups[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{color:#0073b1;text-decoration:underline}aside#left-aside[_ngcontent-%COMP%]   div#profile-groups[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .group-list[_ngcontent-%COMP%]{margin-bottom:15px}.container[_ngcontent-%COMP%] > div#main-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;padding:95px 0;margin-bottom:100px}div.container[_ngcontent-%COMP%]   main#main-section[_ngcontent-%COMP%]{grid-area:main-section;margin:0 25px;width:550px}main#main-section[_ngcontent-%COMP%]   div#share-box[_ngcontent-%COMP%]{background:#fff;box-shadow:0 0 0 1px #00000026,0 2px 3px #0003;border-radius:2px;margin-top:1px;display:flex;flex-direction:column}main#main-section[_ngcontent-%COMP%]   div#share-box[_ngcontent-%COMP%]   div#button-box[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid rgba(0,0,0,.15)}main#main-section[_ngcontent-%COMP%]   div#share-box[_ngcontent-%COMP%]   div#button-box[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{font-size:18px}main#main-section[_ngcontent-%COMP%]   div#share-box[_ngcontent-%COMP%]   div#button-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#fff;border:0;color:#696c6f;border-right:1px solid rgba(0,0,0,.15);padding:26px 26.5px;cursor:pointer}main#main-section[_ngcontent-%COMP%]   div#share-box[_ngcontent-%COMP%]   div#button-box[_ngcontent-%COMP%]   button#btn-post[_ngcontent-%COMP%]{width:100%;text-align:left;padding:26px 17px}main#main-section[_ngcontent-%COMP%]   div#share-box[_ngcontent-%COMP%]   div#button-box[_ngcontent-%COMP%]   button#btn-post[_ngcontent-%COMP%]:hover{color:#0073b1}main#main-section[_ngcontent-%COMP%]   div#share-box[_ngcontent-%COMP%]   div#button-box[_ngcontent-%COMP%]   button#btn-post[_ngcontent-%COMP%]:hover   span#btn-text[_ngcontent-%COMP%]{text-decoration:underline}main#main-section[_ngcontent-%COMP%]   div#share-box[_ngcontent-%COMP%]   div#button-box[_ngcontent-%COMP%]   button#btn-post[_ngcontent-%COMP%]   span#btn-text[_ngcontent-%COMP%]{font-size:16px;font-weight:700;padding-left:6px}main#main-section[_ngcontent-%COMP%]   div#share-box[_ngcontent-%COMP%]   div#button-box[_ngcontent-%COMP%]   button#btn-document[_ngcontent-%COMP%]{border-right:0;padding:26px 30px}main#main-section[_ngcontent-%COMP%]   div#share-box[_ngcontent-%COMP%]   div#button-box[_ngcontent-%COMP%]   button#btn-picture[_ngcontent-%COMP%]:hover, main#main-section[_ngcontent-%COMP%]   div#share-box[_ngcontent-%COMP%]   div#button-box[_ngcontent-%COMP%]   button#btn-video[_ngcontent-%COMP%]:hover, main#main-section[_ngcontent-%COMP%]   div#share-box[_ngcontent-%COMP%]   div#button-box[_ngcontent-%COMP%]   button#btn-document[_ngcontent-%COMP%]:hover{background:#f3f6f8}main#main-section[_ngcontent-%COMP%]   div#link-box[_ngcontent-%COMP%]{padding:13px 16px;background:#f3f6f8;font-size:14px}main#main-section[_ngcontent-%COMP%]   div#link-box[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0073b1;font-weight:700;padding-right:1px}main#main-section[_ngcontent-%COMP%]   div#link-box[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}main#main-section[_ngcontent-%COMP%]   div#feed-sort[_ngcontent-%COMP%]{display:flex;align-items:center;margin:6px 0}main#main-section[_ngcontent-%COMP%]   div#feed-sort[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{flex:1;border:0;display:block;height:1px;border-top:1px solid rgba(0,0,0,.15)}main#main-section[_ngcontent-%COMP%]   div#feed-sort[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0;background:transparent;margin-left:15px;padding-bottom:4px;cursor:pointer}main#main-section[_ngcontent-%COMP%]   div#feed-sort[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#0009}main#main-section[_ngcontent-%COMP%]   div#feed-sort[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span.fas[_ngcontent-%COMP%]{font-size:18px;padding:0 2px}main#main-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:#fff;box-shadow:0 0 0 1px #00000026,0 2px 3px #0003;border-radius:2px;margin-bottom:8px}main#main-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   div#post-author[_ngcontent-%COMP%]{display:flex;padding:14px 14px 0}main#main-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   div#post-author[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{flex:1;font-size:13px;color:#0009}main#main-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   div#post-author[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{cursor:pointer;border-radius:50%;height:32px;width:32px;display:flex;align-items:center;justify-content:center}main#main-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   div#post-author[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{background:#f3f6f8}main#main-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   div#post-author[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{padding:2px;font-size:4px}main#main-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   div#post-author[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex}main#main-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   div#post-author[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;border:2px solid transparent;margin-right:6px}main#main-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   div#post-author[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:1px}main#main-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   div#post-author[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{line-height:10px;margin-top:4px;margin-left:1px}main#main-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   div#post-author[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#000;font-size:15px}main#main-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   div#post-author[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]:hover{color:#0073b1}main#main-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   div#post-author[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:700}main#main-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   div#post-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:8px 14px 0}main#main-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   div#post-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#0073b1;font-weight:700;cursor:pointer}main#main-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   div#post-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0073b1;font-weight:700}main#main-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   div#post-data[_ngcontent-%COMP%]   p#post-translation[_ngcontent-%COMP%]{padding-left:7px}main#main-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   div#post-data[_ngcontent-%COMP%]   p#post-translation[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0;background:#fff;color:#0073b1;font-weight:700;font-size:14px;margin-bottom:10px;padding:4px 7px;cursor:pointer;transition:background-color .3s}main#main-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   div#post-data[_ngcontent-%COMP%]   p#post-translation[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e8f7ff}main#main-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   div#post-data[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;cursor:pointer;border-bottom:1px solid #e6e9ec;border-top:1px solid #e6e9ec}main#main-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   div#post-interactions[_ngcontent-%COMP%]   div#interactions-amount[_ngcontent-%COMP%]{margin:7px 16px;border-bottom:1px solid #e6e9ec;padding-bottom:10px;display:flex;align-items:center}main#main-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   div#post-interactions[_ngcontent-%COMP%]   div#interactions-amount[_ngcontent-%COMP%]   span.fas[_ngcontent-%COMP%]{font-size:8px;padding:3px;margin-right:3px;border-radius:50%;color:#f3f6f8;text-shadow:-1px -1px 0 rgba(0,0,0,.3),1px -1px 0 rgba(0,0,0,.3),-1px 1px 0 rgba(0,0,0,.3),1px 1px 0 rgba(0,0,0,.3);cursor:pointer}main#main-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   div#post-interactions[_ngcontent-%COMP%]   div#interactions-amount[_ngcontent-%COMP%]   span#amount-info[_ngcontent-%COMP%]{font-size:14px;color:#0009;margin-left:3px;cursor:pointer}main#main-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   div#post-interactions[_ngcontent-%COMP%]   div#interactions-amount[_ngcontent-%COMP%]   span#amount-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:700}main#main-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   div#post-interactions[_ngcontent-%COMP%]   div#interactions-amount[_ngcontent-%COMP%]   span#like-icon[_ngcontent-%COMP%]{background:#0092e0}main#main-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   div#post-interactions[_ngcontent-%COMP%]   div#interactions-amount[_ngcontent-%COMP%]   span#heart-icon[_ngcontent-%COMP%]{background:#f67373}main#main-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   div#post-interactions[_ngcontent-%COMP%]   div#interactions-btns[_ngcontent-%COMP%]{margin:4px 10px;display:flex}main#main-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   div#post-interactions[_ngcontent-%COMP%]   div#interactions-btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0;background:#fff;color:#0009;font-weight:700;font-size:14px;padding:2px 5px;height:30px;margin-right:5px;cursor:pointer;display:flex;align-items:center}main#main-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   div#post-interactions[_ngcontent-%COMP%]   div#interactions-btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#f1f1f1;color:#000c}main#main-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   div#post-interactions[_ngcontent-%COMP%]   div#interactions-btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span.far[_ngcontent-%COMP%]{font-size:20px;margin-right:5px}main#main-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   div#post-interactions[_ngcontent-%COMP%]   div#interactions-btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span.fa-thumbs-up[_ngcontent-%COMP%]{margin-bottom:4px}main#main-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   div#post-interactions[_ngcontent-%COMP%]   div#interactions-btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span.fa-share-square[_ngcontent-%COMP%]{font-size:18px}div.container[_ngcontent-%COMP%]   aside#right-aside[_ngcontent-%COMP%]{grid-area:right-aside;background-color:#fff;border:1px solid #cfcfcf;border-radius:2px;height:710px;margin-top:30%}aside#right-aside[_ngcontent-%COMP%]   div#rec-section[_ngcontent-%COMP%]{height:273px;padding:16px 0;border-bottom:1px solid #cfcfcf}aside#right-aside[_ngcontent-%COMP%]   div#rec-section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{font-size:18px;padding:13px 12px;display:flex;justify-content:space-between;align-items:center}aside#right-aside[_ngcontent-%COMP%]   div#rec-section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   span.fas[_ngcontent-%COMP%]{font-size:14px;color:#0009;position:relative}aside#right-aside[_ngcontent-%COMP%]   div#rec-section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   span.fas[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{position:absolute;top:-4px;right:18px;font-size:20px;color:#fff;text-shadow:-1px 0 #fff,0 1px #cfcfcf,1px 0 #cfcfcf,0 -1px #cfcfcf}aside#right-aside[_ngcontent-%COMP%]   div#rec-section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   span.fas[_ngcontent-%COMP%]   div#float-info[_ngcontent-%COMP%]{position:absolute;top:-22px;right:33px;height:60px;width:320px;padding:13px;font-family:Source Sans Pro,sans-serif;font-weight:400;color:#000;background-color:#fff;border:1px solid #cfcfcf;border-radius:2px;line-height:1.2;box-shadow:0 1px 6px #00000040}aside#right-aside[_ngcontent-%COMP%]   div#rec-section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   span.fas[_ngcontent-%COMP%]   div#float-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0073b1;font-weight:700}aside#right-aside[_ngcontent-%COMP%]   div#rec-section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   span.fas[_ngcontent-%COMP%]   div#square[_ngcontent-%COMP%]{position:absolute;top:-22px;right:10px;height:60px;width:30px;background:transparent;min-height:1px}aside#right-aside[_ngcontent-%COMP%]   div#rec-section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-bottom:6px}aside#right-aside[_ngcontent-%COMP%]   div#rec-section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 10px 3px}aside#right-aside[_ngcontent-%COMP%]   div#rec-section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px;height:48px;border:4px solid transparent;border-radius:2px;margin-right:8px;cursor:pointer}aside#right-aside[_ngcontent-%COMP%]   div#rec-section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;padding-right:5px}aside#right-aside[_ngcontent-%COMP%]   div#rec-section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:14px;padding-bottom:3px;cursor:pointer}aside#right-aside[_ngcontent-%COMP%]   div#rec-section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:13px;color:#0009;line-height:14px;cursor:pointer}aside#right-aside[_ngcontent-%COMP%]   div#rec-section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#fff;color:#0073b1;font-weight:700;font-size:14px;border:1px solid #0073b1;border-radius:2px;height:26px;width:80px;padding:0 6px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background-color .2s}aside#right-aside[_ngcontent-%COMP%]   div#rec-section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border:2px solid #0073b1;background-color:#e4f4fc}aside#right-aside[_ngcontent-%COMP%]   div#rec-section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span.fas[_ngcontent-%COMP%]{padding-right:5px}aside#right-aside[_ngcontent-%COMP%]   div#rec-section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#0073b1;font-size:16px;margin:13px}aside#right-aside[_ngcontent-%COMP%]   div#rec-section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{color:#016194}aside#right-aside[_ngcontent-%COMP%]   div#linkedin-section[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{height:279px;padding:16px 0;border-bottom:1px solid #cfcfcf;display:flex;flex-direction:column}aside#right-aside[_ngcontent-%COMP%]   div#linkedin-section[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{align-self:flex-end;padding-right:15px;color:#0009;margin-bottom:2px}aside#right-aside[_ngcontent-%COMP%]   div#linkedin-section[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#0009;display:block;text-align:center;font-size:13px;padding:0 12px}aside#right-aside[_ngcontent-%COMP%]   div#linkedin-section[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:center}aside#right-aside[_ngcontent-%COMP%]   div#linkedin-section[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:70px;height:70px;margin:10px}aside#right-aside[_ngcontent-%COMP%]   div#linkedin-section[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img#linkedin-key[_ngcontent-%COMP%]{border-radius:0}aside#right-aside[_ngcontent-%COMP%]   div#linkedin-section[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#000000b3;display:block;text-align:center;font-size:16px;padding:0 16px;font-weight:400}aside#right-aside[_ngcontent-%COMP%]   div#linkedin-section[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#fff;color:#0073b1;font-weight:700;font-size:16px;border:1px solid #0073b1;border-radius:2px;height:34px;padding:0 16px;margin-top:10px;cursor:pointer}aside#right-aside[_ngcontent-%COMP%]   div#linkedin-section[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:center;list-style:none;font-size:14px;color:#485d69;margin:18px 0}aside#right-aside[_ngcontent-%COMP%]   div#linkedin-section[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:2.5px 12px;cursor:pointer}aside#right-aside[_ngcontent-%COMP%]   div#linkedin-section[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#0073b1}aside#right-aside[_ngcontent-%COMP%]   div#linkedin-section[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   .fas[_ngcontent-%COMP%]{color:#0073b1}aside#right-aside[_ngcontent-%COMP%]   div#linkedin-section[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:4px;font-size:12px;color:#0009}aside#right-aside[_ngcontent-%COMP%]   div#linkedin-section[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{text-align:center;font-size:14px}aside#right-aside[_ngcontent-%COMP%]   div#linkedin-section[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > strong[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#0073b1;color:#fff;padding:0 2px;border-radius:2px;margin:1px;font-size:12px}aside#right-aside[_ngcontent-%COMP%]   div#linkedin-section[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:13px}@media only screen and (max-width: 1180px){div.container[_ngcontent-%COMP%]{grid-template-areas:"left-aside main-section";grid-template-rows:100px 1fr;grid-template-columns:1fr 2fr}}@media only screen and (max-width: 861px){div.container[_ngcontent-%COMP%]{grid-template-areas:"." "main-section ";grid-template-rows:62px 1fr;grid-template-columns:1fr}.container[_ngcontent-%COMP%] > div#main-wrapper[_ngcontent-%COMP%]{align-items:center}}@media only screen and (max-width: 660px){div.container[_ngcontent-%COMP%]{padding:0}div.container[_ngcontent-%COMP%]   main#main-section[_ngcontent-%COMP%]{max-width:550px;width:100%;margin:0}main#main-section[_ngcontent-%COMP%]   div#share-box[_ngcontent-%COMP%]   div#button-box[_ngcontent-%COMP%]   button#btn-post[_ngcontent-%COMP%]{display:block;padding:20px 17px;border-right:0}main#main-section[_ngcontent-%COMP%]   div#feed-sort[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}}.wrPost[_ngcontent-%COMP%]{border:none;width:270px}']}),n})();function TA(n,t){if(1&n){const e=u.EpF();u.O4$(),u.kcU(),u.TgZ(0,"div",9)(1,"div")(2,"button",10),u.NdJ("click",function(){u.CHM(e);const a=u.oxw();return u.KtG(a.closeForm())}),u._UZ(3,"img",1),u.TgZ(4,"span",2),u._uU(5,"Messaging"),u.qZA(),u.TgZ(6,"div")(7,"span",3),u.O4$(),u.TgZ(8,"svg",4),u._UZ(9,"path",5),u.qZA()(),u.kcU(),u.TgZ(10,"span",3),u.O4$(),u.TgZ(11,"svg",4),u._UZ(12,"path",6),u.qZA()(),u.kcU(),u.TgZ(13,"span",3),u.O4$(),u.TgZ(14,"svg",4),u._UZ(15,"path",11),u.qZA()()()()(),u.kcU(),u.TgZ(16,"div"),u._UZ(17,"input",12),u.qZA(),u.TgZ(18,"div")(19,"div",13),u._UZ(20,"img",14),u.TgZ(21,"p",15),u._uU(22,"Google"),u.qZA(),u.TgZ(23,"span",16),u._uU(24," Hello, How is your work going ? "),u.qZA(),u.TgZ(25,"span",17),u._uU(26,"11:00"),u.qZA()(),u.TgZ(27,"div",13),u._UZ(28,"img",18),u.TgZ(29,"p",15),u._uU(30,"Microsoft"),u.qZA(),u.TgZ(31,"span",16),u._uU(32,"Lorem ipsum dolor sit amet ."),u.qZA(),u.TgZ(33,"span",17),u._uU(34,"10:01"),u.qZA()(),u.TgZ(35,"div",13),u._UZ(36,"img",19),u.TgZ(37,"p",15),u._uU(38,"India"),u.qZA(),u.TgZ(39,"span",16),u._uU(40,"Lorem ipsum dolor sit amet ."),u.qZA(),u.TgZ(41,"span",17),u._uU(42,"5:02"),u.qZA()(),u.TgZ(43,"div",13),u._UZ(44,"img",20),u.TgZ(45,"p",15),u._uU(46,"France"),u.qZA(),u.TgZ(47,"span",16),u._uU(48,"Lorem ipsum dolor sit amet ."),u.qZA(),u.TgZ(49,"span",17),u._uU(50,"7:45"),u.qZA()()()()}}let US=(()=>{class n{constructor(){this.show=!1}ngOnInit(){}openForm(){this.show=!0}closeForm(){this.show=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-message-popup"]],decls:15,vars:1,consts:[[1,"popup1",3,"click"],["id","img-size","src","/assets/pic.jpeg"],[1,"msgTitle"],[1,"popButtons"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 16 16","data-supported-dps","16x16","fill","currentColor","width","16","height","16","focusable","false",1,"mercado-match"],["d","M3 9.5A1.5 1.5 0 114.5 8 1.5 1.5 0 013 9.5zM11.5 8A1.5 1.5 0 1013 6.5 1.5 1.5 0 0011.5 8zm-5 0A1.5 1.5 0 108 6.5 1.5 1.5 0 006.5 8z"],["d","M15 2.53a1.51 1.51 0 01-.44 1L9.15 9 6 10l1-3.12 5.44-5.44A1.5 1.5 0 0115 2.53zM12 11a1 1 0 01-1 1H5a1 1 0 01-1-1V5a1 1 0 011-1h3V2H5a3 3 0 00-3 3v6a3 3 0 003 3h6a3 3 0 003-3V8h-2z"],["d","M15 11L8 6.39 1 11V8.61L8 4l7 4.61z"],["class","chat-popup","id","myForm",4,"ngIf"],["id","myForm",1,"chat-popup"],[1,"popup2",3,"click"],["d","M1 5l7 4.61L15 5v2.39L8 12 1 7.39z"],["type","text","placeholder","Search posts",1,"search-button"],[1,"container"],["src","/assets/example-person2.jpeg","alt","Avatar",2,"width","100%"],[1,"name"],[1,"message"],[1,"time-right"],["src","/assets/example-person3.jpeg","alt","Avatar",2,"width","100%"],["src","/assets/example-person.jpeg","alt","Avatar",2,"width","100%"],["src","/assets/picture.jpeg","alt","Avatar",2,"width","100%"]],template:function(e,r){1&e&&(u.TgZ(0,"button",0),u.NdJ("click",function(){return r.openForm()}),u._UZ(1,"img",1),u.TgZ(2,"span",2),u._uU(3,"Messaging"),u.qZA(),u.TgZ(4,"div")(5,"span",3),u.O4$(),u.TgZ(6,"svg",4),u._UZ(7,"path",5),u.qZA()(),u.kcU(),u.TgZ(8,"span",3),u.O4$(),u.TgZ(9,"svg",4),u._UZ(10,"path",6),u.qZA()(),u.kcU(),u.TgZ(11,"span",3),u.O4$(),u.TgZ(12,"svg",4),u._UZ(13,"path",7),u.qZA()()()(),u.YNc(14,TA,51,0,"div",8)),2&e&&(u.xp6(14),u.Q6J("ngIf",r.show))},dependencies:[jn],styles:[".popup1[_ngcontent-%COMP%]{position:fixed;bottom:0;right:0;width:20%;background:white;border-radius:10px 10px 0 0;display:flex;align-items:flex-end;border:1px solid #efefef;cursor:pointer}.popup2[_ngcontent-%COMP%]{width:100%;background:white;border-radius:10px 10px 0 0;display:flex;align-items:flex-end;border:1px solid #efefef;cursor:pointer}.name[_ngcontent-%COMP%]{max-width:100%}#img-size[_ngcontent-%COMP%]{height:24px;width:24px;border-radius:50%;border:1px solid #e1e9ee}.msgTitle[_ngcontent-%COMP%]{font-weight:700;padding:5px 0 5px 13px}.popButtons[_ngcontent-%COMP%]{position:relative;display:inline-flex;margin-left:25px}.search-button[_ngcontent-%COMP%]{padding:10px;background:#e1e9ee;border-radius:2px;width:90%;border:1px solid grey;margin:5px}.chat-popup[_ngcontent-%COMP%]{position:fixed;bottom:0;right:15px;border:3px solid #f1f1f1;z-index:9;min-height:90%;background:white;min-width:20%}.message[_ngcontent-%COMP%]{color:gray;font-size:small;overflow:hidden}.form-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover, .open-button[_ngcontent-%COMP%]:hover{opacity:1}.container[_ngcontent-%COMP%]{border:1px solid #ddd;background-color:#fefefe;border-radius:5px;min-height:90px;border-top:0px;height:60px;padding:5px}.container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{float:left;max-width:50px;margin-right:20px;border-radius:50%;padding:5px}.container[_ngcontent-%COMP%]   img.right[_ngcontent-%COMP%]{float:right;margin-left:20px;margin-right:0}.time-right[_ngcontent-%COMP%]{float:right;color:#aaa}.message[_ngcontent-%COMP%]{color:#aaa;font-size:small}"]}),n})(),SA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[eo,tv,bA]}),n})();const MA_firebase={projectId:"linkedinshaalu",appId:"1:551028335724:web:adc2f72005a6c5ff9ca449",databaseURL:"https://linkedinshaalu-default-rtdb.firebaseio.com",storageBucket:"linkedinshaalu.appspot.com",apiKey:"AIzaSyAz4PLNKfZO4J02z-LXv_n3OPpmVrGroDM",authDomain:"linkedinshaalu.firebaseapp.com",messagingSenderId:"551028335724",measurementId:"G-WYPVHY18WX"};let AA=(()=>{class n{constructor(){this.title="Linkedin"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(e,r){1&e&&u._UZ(0,"app-navbar")(1,"app-newsfeed")(2,"app-message-popup")},dependencies:[LS,VS,US],styles:["body[_ngcontent-%COMP%]{margin:0;font-family:Arial,Helvetica,sans-serif}.navbar[_ngcontent-%COMP%]{overflow:hidden;background-color:#333}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{float:left;color:#f2f2f2;text-align:center;padding:14px 16px;text-decoration:none;font-size:17px}.navbar[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{float:right;color:#f2f2f2;text-align:center;padding:14px 16px;text-decoration:none;font-size:17px}.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ddd;color:#000}.topnav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#04aa6d;color:#fff}"]}),n})();class BS{}const Xc="*";function HS(n,t=null){return{type:2,steps:n,options:t}}function jS(n){return{type:6,styles:n,offset:null}}function $S(n){Promise.resolve().then(n)}class ly{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){$S(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class WS{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,a=0;const c=this.players.length;0==c?$S(()=>this._onFinish()):this.players.forEach(f=>{f.onDone(()=>{++e==c&&this._onFinish()}),f.onDestroy(()=>{++r==c&&this._onDestroy()}),f.onStart(()=>{++a==c&&this._onStart()})}),this.totalTime=this.players.reduce((f,m)=>Math.max(f,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const a=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(a)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function GS(n){return new u.vHH(3e3,!1)}function dP(){return typeof window<"u"&&typeof window.document<"u"}function NI(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function xd(n){switch(n.length){case 0:return new ly;case 1:return n[0];default:return new WS(n)}}function zS(n,t,e,r,a=new Map,c=new Map){const f=[],m=[];let E=-1,I=null;if(r.forEach(x=>{const O=x.get("offset"),W=O==E,ee=W&&I||new Map;x.forEach((fe,Ae)=>{let He=Ae,ft=fe;if("offset"!==Ae)switch(He=t.normalizePropertyName(He,f),ft){case"!":ft=a.get(Ae);break;case Xc:ft=c.get(Ae);break;default:ft=t.normalizeStyleValue(Ae,He,ft,f)}ee.set(He,ft)}),W||m.push(ee),I=ee,E=O}),f.length)throw function XA(n){return new u.vHH(3502,!1)}();return m}function kI(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&FI(e,"start",n)));break;case"done":n.onDone(()=>r(e&&FI(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&FI(e,"destroy",n)))}}function FI(n,t,e){const c=LI(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),f=n._data;return null!=f&&(c._data=f),c}function LI(n,t,e,r,a="",c=0,f){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:a,totalTime:c,disabled:!!f}}function Ks(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function ZS(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let VI=(n,t)=>!1,qS=(n,t,e)=>[],KS=null;function UI(n){const t=n.parentNode||n.host;return t===KS?null:t}(NI()||typeof Element<"u")&&(dP()?(KS=(()=>document.documentElement)(),VI=(n,t)=>{for(;t;){if(t===n)return!0;t=UI(t)}return!1}):VI=(n,t)=>n.contains(t),qS=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let ff=null,YS=!1;const QS=VI,JS=qS;let XS=(()=>{class n{validateStyleProperty(e){return function fP(n){ff||(ff=function pP(){return typeof document<"u"?document.body:null}()||{},YS=!!ff.style&&"WebkitAppearance"in ff.style);let t=!0;return ff.style&&!function hP(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in ff.style,!t&&YS&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ff.style)),t}(e)}matchesElement(e,r){return!1}containsElement(e,r){return QS(e,r)}getParentElement(e){return UI(e)}query(e,r,a){return JS(e,r,a)}computeStyle(e,r,a){return a||""}animate(e,r,a,c,f,m=[],E){return new ly(a,c)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),BI=(()=>{class n{}return n.NOOP=new XS,n})();const HI="ng-enter",kE="ng-leave",FE="ng-trigger",LE=".ng-trigger",tM="ng-animating",jI=".ng-animating";function eu(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:$I(parseFloat(t[1]),t[2])}function $I(n,t){return"s"===t?1e3*n:n}function VE(n,t,e){return n.hasOwnProperty("duration")?n:function _P(n,t,e){let a,c=0,f="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return t.push(GS()),{duration:0,delay:0,easing:""};a=$I(parseFloat(m[1]),m[2]);const E=m[3];null!=E&&(c=$I(parseFloat(E),m[4]));const I=m[5];I&&(f=I)}else a=n;if(!e){let m=!1,E=t.length;a<0&&(t.push(function OA(){return new u.vHH(3100,!1)}()),m=!0),c<0&&(t.push(function xA(){return new u.vHH(3101,!1)}()),m=!0),m&&t.splice(E,0,GS())}return{duration:a,delay:c,easing:f}}(n,t,e)}function cy(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function nM(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Rd(n,t=new Map,e){if(e)for(let[r,a]of e)t.set(r,a);for(let[r,a]of n)t.set(r,a);return t}function iM(n,t,e){return e?t+":"+e+";":""}function sM(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=iM(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=iM(0,EP(e),n.style[e]));n.setAttribute("style",t)}function Vl(n,t,e){n.style&&(t.forEach((r,a)=>{const c=GI(a);e&&!e.has(a)&&e.set(a,n.style[c]),n.style[c]=r}),NI()&&sM(n))}function pf(n,t){n.style&&(t.forEach((e,r)=>{const a=GI(r);n.style[a]=""}),NI()&&sM(n))}function uy(n){return Array.isArray(n)?1==n.length?n[0]:HS(n):n}const WI=new RegExp("{{\\s*(.+?)\\s*}}","g");function oM(n){let t=[];if("string"==typeof n){let e;for(;e=WI.exec(n);)t.push(e[1]);WI.lastIndex=0}return t}function dy(n,t,e){const r=n.toString(),a=r.replace(WI,(c,f)=>{let m=t[f];return null==m&&(e.push(function NA(n){return new u.vHH(3003,!1)}()),m=""),m.toString()});return a==r?n:a}function UE(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const CP=/-+([a-z0-9])/g;function GI(n){return n.replace(CP,(...t)=>t[1].toUpperCase())}function EP(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ys(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function kA(n){return new u.vHH(3004,!1)}()}}function aM(n,t){return window.getComputedStyle(n)[t]}function SP(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function MP(n,t,e){if(":"==n[0]){const E=function AP(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function KA(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof E)return void t.push(E);n=E}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function qA(n){return new u.vHH(3015,!1)}()),t;const a=r[1],c=r[2],f=r[3];t.push(lM(a,f));"<"==c[0]&&!("*"==a&&"*"==f)&&t.push(lM(f,a))}(r,e,t)):e.push(n),e}const $E=new Set(["true","1"]),WE=new Set(["false","0"]);function lM(n,t){const e=$E.has(n)||WE.has(n),r=$E.has(t)||WE.has(t);return(a,c)=>{let f="*"==n||n==a,m="*"==t||t==c;return!f&&e&&"boolean"==typeof a&&(f=a?$E.has(n):WE.has(n)),!m&&r&&"boolean"==typeof c&&(m=c?$E.has(t):WE.has(t)),f&&m}}const PP=new RegExp("s*:selfs*,?","g");function zI(n,t,e,r){return new OP(n).build(t,e,r)}class OP{constructor(t){this._driver=t}build(t,e,r){const a=new NP(e);return this._resetContextStyleTimingState(a),Ys(this,uy(t),a)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,a=e.depCount=0;const c=[],f=[];return"@"==t.name.charAt(0)&&e.errors.push(function LA(){return new u.vHH(3006,!1)}()),t.definitions.forEach(m=>{if(this._resetContextStyleTimingState(e),0==m.type){const E=m,I=E.name;I.toString().split(/\s*,\s*/).forEach(x=>{E.name=x,c.push(this.visitState(E,e))}),E.name=I}else if(1==m.type){const E=this.visitTransition(m,e);r+=E.queryCount,a+=E.depCount,f.push(E)}else e.errors.push(function VA(){return new u.vHH(3007,!1)}())}),{type:7,name:t.name,states:c,transitions:f,queryCount:r,depCount:a,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),a=t.options&&t.options.params||null;if(r.containsDynamicStyles){const c=new Set,f=a||{};r.styles.forEach(m=>{m instanceof Map&&m.forEach(E=>{oM(E).forEach(I=>{f.hasOwnProperty(I)||c.add(I)})})}),c.size&&(UE(c.values()),e.errors.push(function UA(n,t){return new u.vHH(3008,!1)}()))}return{type:0,name:t.name,style:r,options:a?{params:a}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=Ys(this,uy(t.animation),e);return{type:1,matchers:SP(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:gf(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>Ys(this,r,e)),options:gf(t.options)}}visitGroup(t,e){const r=e.currentTime;let a=0;const c=t.steps.map(f=>{e.currentTime=r;const m=Ys(this,f,e);return a=Math.max(a,e.currentTime),m});return e.currentTime=a,{type:3,steps:c,options:gf(t.options)}}visitAnimate(t,e){const r=function FP(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return ZI(VE(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=ZI(0,0,"");return c.dynamic=!0,c.strValue=e,c}const a=VE(e,t);return ZI(a.duration,a.delay,a.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let a,c=t.styles?t.styles:jS({});if(5==c.type)a=this.visitKeyframes(c,e);else{let f=t.styles,m=!1;if(!f){m=!0;const I={};r.easing&&(I.easing=r.easing),f=jS(I)}e.currentTime+=r.duration+r.delay;const E=this.visitStyle(f,e);E.isEmptyStep=m,a=E}return e.currentAnimateTimings=null,{type:4,timings:r,style:a,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[],a=Array.isArray(t.styles)?t.styles:[t.styles];for(let m of a)"string"==typeof m?m===Xc?r.push(m):e.errors.push(new u.vHH(3002,!1)):r.push(nM(m));let c=!1,f=null;return r.forEach(m=>{if(m instanceof Map&&(m.has("easing")&&(f=m.get("easing"),m.delete("easing")),!c))for(let E of m.values())if(E.toString().indexOf("{{")>=0){c=!0;break}}),{type:6,styles:r,easing:f,offset:t.offset,containsDynamicStyles:c,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let a=e.currentTime,c=e.currentTime;r&&c>0&&(c-=r.duration+r.delay),t.styles.forEach(f=>{"string"!=typeof f&&f.forEach((m,E)=>{const I=e.collectedStyles.get(e.currentQuerySelector),x=I.get(E);let O=!0;x&&(c!=a&&c>=x.startTime&&a<=x.endTime&&(e.errors.push(function HA(n,t,e,r,a){return new u.vHH(3010,!1)}()),O=!1),c=x.startTime),O&&I.set(E,{startTime:c,endTime:a}),e.options&&function vP(n,t,e){const r=t.params||{},a=oM(n);a.length&&a.forEach(c=>{r.hasOwnProperty(c)||e.push(function RA(n){return new u.vHH(3001,!1)}())})}(m,e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function jA(){return new u.vHH(3011,!1)}()),r;let c=0;const f=[];let m=!1,E=!1,I=0;const x=t.steps.map(ft=>{const wt=this._makeStyleAst(ft,e);let Yt=null!=wt.offset?wt.offset:function kP(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(wt.styles),xt=0;return null!=Yt&&(c++,xt=wt.offset=Yt),E=E||xt<0||xt>1,m=m||xt<I,I=xt,f.push(xt),wt});E&&e.errors.push(function $A(){return new u.vHH(3012,!1)}()),m&&e.errors.push(function WA(){return new u.vHH(3200,!1)}());const O=t.steps.length;let W=0;c>0&&c<O?e.errors.push(function GA(){return new u.vHH(3202,!1)}()):0==c&&(W=1/(O-1));const ee=O-1,fe=e.currentTime,Ae=e.currentAnimateTimings,He=Ae.duration;return x.forEach((ft,wt)=>{const Yt=W>0?wt==ee?1:W*wt:f[wt],xt=Yt*He;e.currentTime=fe+Ae.delay+xt,Ae.duration=xt,this._validateStyleAst(ft,e),ft.offset=Yt,r.styles.push(ft)}),r}visitReference(t,e){return{type:8,animation:Ys(this,uy(t.animation),e),options:gf(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:gf(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:gf(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,a=t.options||{};e.queryCount++,e.currentQuery=t;const[c,f]=function xP(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(PP,"")),n=n.replace(/@\*/g,LE).replace(/@\w+/g,e=>LE+"-"+e.slice(1)).replace(/:animating/g,jI),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+c:c,Ks(e.collectedStyles,e.currentQuerySelector,new Map);const m=Ys(this,uy(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:c,limit:a.limit||0,optional:!!a.optional,includeSelf:f,animation:m,originalSelector:t.selector,options:gf(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function zA(){return new u.vHH(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:VE(t.timings,e.errors,!0);return{type:12,animation:Ys(this,uy(t.animation),e),timings:r,options:null}}}class NP{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function gf(n){return n?(n=cy(n)).params&&(n.params=function RP(n){return n?cy(n):null}(n.params)):n={},n}function ZI(n,t,e){return{duration:n,delay:t,easing:e}}function qI(n,t,e,r,a,c,f=null,m=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:a,delay:c,totalTime:a+c,easing:f,subTimeline:m}}class GE{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const UP=new RegExp(":enter","g"),HP=new RegExp(":leave","g");function KI(n,t,e,r,a,c=new Map,f=new Map,m,E,I=[]){return(new jP).buildKeyframes(n,t,e,r,a,c,f,m,E,I)}class jP{buildKeyframes(t,e,r,a,c,f,m,E,I,x=[]){I=I||new GE;const O=new YI(t,e,I,a,c,x,[]);O.options=E;const W=E.delay?eu(E.delay):0;O.currentTimeline.delayNextStep(W),O.currentTimeline.setStyles([f],null,O.errors,E),Ys(this,r,O);const ee=O.timelines.filter(fe=>fe.containsAnimation());if(ee.length&&m.size){let fe;for(let Ae=ee.length-1;Ae>=0;Ae--){const He=ee[Ae];if(He.element===e){fe=He;break}}fe&&!fe.allowOnlyTimelineStyles()&&fe.setStyles([m],null,O.errors,E)}return ee.length?ee.map(fe=>fe.buildKeyframes()):[qI(e,[],[],[],0,W,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const a=e.createSubContext(t.options),c=e.currentTimeline.currentTime,f=this._visitSubInstructions(r,a,a.options);c!=f&&e.transformIntoNewTimeline(f)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,r),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,r){for(const a of t){const c=a?.delay;if(c){const f="number"==typeof c?c:eu(dy(c,a?.params??{},e.errors));r.delayNextStep(f)}}}_visitSubInstructions(t,e,r){let c=e.currentTimeline.currentTime;const f=null!=r.duration?eu(r.duration):null,m=null!=r.delay?eu(r.delay):null;return 0!==f&&t.forEach(E=>{const I=e.appendInstructionToTimeline(E,f,m);c=Math.max(c,I.duration+I.delay)}),c}visitReference(t,e){e.updateOptions(t.options,!0),Ys(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let a=e;const c=t.options;if(c&&(c.params||c.delay)&&(a=e.createSubContext(c),a.transformIntoNewTimeline(),null!=c.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=zE);const f=eu(c.delay);a.delayNextStep(f)}t.steps.length&&(t.steps.forEach(f=>Ys(this,f,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>r&&a.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let a=e.currentTimeline.currentTime;const c=t.options&&t.options.delay?eu(t.options.delay):0;t.steps.forEach(f=>{const m=e.createSubContext(t.options);c&&m.delayNextStep(c),Ys(this,f,m),a=Math.max(a,m.currentTimeline.currentTime),r.push(m.currentTimeline)}),r.forEach(f=>e.currentTimeline.mergeTimelineCollectedStyles(f)),e.transformIntoNewTimeline(a),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return VE(e.params?dy(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),a=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),a.snapshotCurrentStyles());const c=t.style;5==c.type?this.visitKeyframes(c,e):(e.incrementTime(r.duration),this.visitStyle(c,e),a.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,a=e.currentAnimateTimings;!a&&r.hasCurrentStyleProperties()&&r.forwardFrame();const c=a&&a.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(c):r.setStyles(t.styles,c,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,a=e.currentTimeline.duration,c=r.duration,m=e.createSubContext().currentTimeline;m.easing=r.easing,t.styles.forEach(E=>{m.forwardTime((E.offset||0)*c),m.setStyles(E.styles,E.easing,e.errors,e.options),m.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(m),e.transformIntoNewTimeline(a+c),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,a=t.options||{},c=a.delay?eu(a.delay):0;c&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=zE);let f=r;const m=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!a.optional,e.errors);e.currentQueryTotal=m.length;let E=null;m.forEach((I,x)=>{e.currentQueryIndex=x;const O=e.createSubContext(t.options,I);c&&O.delayNextStep(c),I===e.element&&(E=O.currentTimeline),Ys(this,t.animation,O),O.currentTimeline.applyStylesToKeyframe(),f=Math.max(f,O.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(f),E&&(e.currentTimeline.mergeTimelineCollectedStyles(E),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,a=e.currentTimeline,c=t.timings,f=Math.abs(c.duration),m=f*(e.currentQueryTotal-1);let E=f*e.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":E=m-E;break;case"full":E=r.currentStaggerTime}const x=e.currentTimeline;E&&x.delayNextStep(E);const O=x.currentTime;Ys(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=a.currentTime-O+(a.startTime-r.currentTimeline.startTime)}}const zE={};class YI{constructor(t,e,r,a,c,f,m,E){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=a,this._leaveClassName=c,this.errors=f,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=zE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=E||new ZE(this._driver,e,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let a=this.options;null!=r.duration&&(a.duration=eu(r.duration)),null!=r.delay&&(a.delay=eu(r.delay));const c=r.params;if(c){let f=a.params;f||(f=this.options.params={}),Object.keys(c).forEach(m=>{(!e||!f.hasOwnProperty(m))&&(f[m]=dy(c[m],f,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(a=>{r[a]=e[a]})}}return t}createSubContext(t=null,e,r){const a=e||this.element,c=new YI(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,r||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(t),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(t){return this.previousNode=zE,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const a={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},c=new $P(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,a,t.stretchStartingKeyframe);return this.timelines.push(c),a}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,a,c,f){let m=[];if(a&&m.push(this.element),t.length>0){t=(t=t.replace(UP,"."+this._enterClassName)).replace(HP,"."+this._leaveClassName);let I=this._driver.query(this.element,t,1!=r);0!==r&&(I=r<0?I.slice(I.length+r,I.length):I.slice(0,r)),m.push(...I)}return!c&&0==m.length&&f.push(function ZA(n){return new u.vHH(3014,!1)}()),m}}class ZE{constructor(t,e,r,a){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new ZE(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||Xc),this._currentKeyframe.set(e,Xc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,a){e&&this._previousKeyframe.set("easing",e);const c=a&&a.params||{},f=function WP(n,t){const e=new Map;let r;return n.forEach(a=>{if("*"===a){r=r||t.keys();for(let c of r)e.set(c,Xc)}else Rd(a,e)}),e}(t,this._globalTimelineStyles);for(let[m,E]of f){const I=dy(E,c,r);this._pendingStyles.set(m,I),this._localTimelineStyles.has(m)||this._backFill.set(m,this._globalTimelineStyles.get(m)??Xc),this._updateStyle(m,I)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{const a=this._styleSummary.get(r);(!a||e.time>a.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((m,E)=>{const I=Rd(m,new Map,this._backFill);I.forEach((x,O)=>{"!"===x?t.add(O):x===Xc&&e.add(O)}),r||I.set("offset",E/this.duration),a.push(I)});const c=t.size?UE(t.values()):[],f=e.size?UE(e.values()):[];if(r){const m=a[0],E=new Map(m);m.set("offset",0),E.set("offset",1),a=[m,E]}return qI(this.element,a,c,f,this.duration,this.startTime,this.easing,!1)}}class $P extends ZE{constructor(t,e,r,a,c,f,m=!1){super(t,e,f.delay),this.keyframes=r,this.preStyleProps=a,this.postStyleProps=c,this._stretchStartingKeyframe=m,this.timings={duration:f.duration,delay:f.delay,easing:f.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:a}=this.timings;if(this._stretchStartingKeyframe&&e){const c=[],f=r+e,m=e/f,E=Rd(t[0]);E.set("offset",0),c.push(E);const I=Rd(t[0]);I.set("offset",dM(m)),c.push(I);const x=t.length-1;for(let O=1;O<=x;O++){let W=Rd(t[O]);const ee=W.get("offset");W.set("offset",dM((e+ee*r)/f)),c.push(W)}r=f,e=0,a="",t=c}return qI(this.element,t,this.preStyleProps,this.postStyleProps,r,e,a,!0)}}function dM(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class QI{}const GP=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class zP extends QI{normalizePropertyName(t,e){return GI(t)}normalizeStyleValue(t,e,r,a){let c="";const f=r.toString().trim();if(GP.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)c="px";else{const m=r.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&a.push(function FA(n,t){return new u.vHH(3005,!1)}())}return f+c}}function hM(n,t,e,r,a,c,f,m,E,I,x,O,W){return{type:0,element:n,triggerName:t,isRemovalTransition:a,fromState:e,fromStyles:c,toState:r,toStyles:f,timelines:m,queriedElements:E,preStyleProps:I,postStyleProps:x,totalTime:O,errors:W}}const JI={};class fM{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,a){return function ZP(n,t,e,r,a){return n.some(c=>c(t,e,r,a))}(this.ast.matchers,t,e,r,a)}buildStyles(t,e,r){let a=this._stateStyles.get("*");return void 0!==t&&(a=this._stateStyles.get(t?.toString())||a),a?a.buildStyles(e,r):new Map}build(t,e,r,a,c,f,m,E,I,x){const O=[],W=this.ast.options&&this.ast.options.params||JI,fe=this.buildStyles(r,m&&m.params||JI,O),Ae=E&&E.params||JI,He=this.buildStyles(a,Ae,O),ft=new Set,wt=new Map,Yt=new Map,xt="void"===a,br={params:qP(Ae,W),delay:this.ast.options?.delay},Fr=x?[]:KI(t,e,this.ast.animation,c,f,fe,He,br,I,O);let Hi=0;if(Fr.forEach(nu=>{Hi=Math.max(nu.duration+nu.delay,Hi)}),O.length)return hM(e,this._triggerName,r,a,xt,fe,He,[],[],wt,Yt,Hi,O);Fr.forEach(nu=>{const ru=nu.element,MM=Ks(wt,ru,new Set);nu.preStyleProps.forEach(mf=>MM.add(mf));const fy=Ks(Yt,ru,new Set);nu.postStyleProps.forEach(mf=>fy.add(mf)),ru!==e&&ft.add(ru)});const tu=UE(ft.values());return hM(e,this._triggerName,r,a,xt,fe,He,Fr,tu,wt,Yt,Hi)}}function qP(n,t){const e=cy(t);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(e[r]=n[r]);return e}class KP{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r=new Map,a=cy(this.defaultParams);return Object.keys(t).forEach(c=>{const f=t[c];null!==f&&(a[c]=f)}),this.styles.styles.forEach(c=>{"string"!=typeof c&&c.forEach((f,m)=>{f&&(f=dy(f,a,e));const E=this.normalizer.normalizePropertyName(m,e);f=this.normalizer.normalizeStyleValue(m,E,f,e),r.set(E,f)})}),r}}class QP{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(a=>{this.states.set(a.name,new KP(a.style,a.options&&a.options.params||{},r))}),pM(this.states,"true","1"),pM(this.states,"false","0"),e.transitions.forEach(a=>{this.transitionFactories.push(new fM(t,a,this.states))}),this.fallbackTransition=function JP(n,t,e){return new fM(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(f,m)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,a){return this.transitionFactories.find(f=>f.match(t,e,r,a))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function pM(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const XP=new GE;class eO{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const r=[],c=zI(this._driver,e,r,[]);if(r.length)throw function eP(n){return new u.vHH(3503,!1)}();this._animations.set(t,c)}_buildPlayer(t,e,r){const a=t.element,c=zS(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(a,c,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const a=[],c=this._animations.get(t);let f;const m=new Map;if(c?(f=KI(this._driver,e,c,HI,kE,new Map,new Map,r,XP,a),f.forEach(x=>{const O=Ks(m,x.element,new Map);x.postStyleProps.forEach(W=>O.set(W,null))})):(a.push(function tP(){return new u.vHH(3300,!1)}()),f=[]),a.length)throw function nP(n){return new u.vHH(3504,!1)}();m.forEach((x,O)=>{x.forEach((W,ee)=>{x.set(ee,this._driver.computeStyle(O,ee,Xc))})});const I=xd(f.map(x=>{const O=m.get(x.element);return this._buildPlayer(x,new Map,O)}));return this._playersById.set(t,I),I.onDestroy(()=>this.destroy(t)),this.players.push(I),I}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function rP(n){return new u.vHH(3301,!1)}();return e}listen(t,e,r,a){const c=LI(e,"","","");return kI(this._getPlayer(t),r,c,a),()=>{}}command(t,e,r,a){if("register"==r)return void this.register(t,a[0]);if("create"==r)return void this.create(t,e,a[0]||{});const c=this._getPlayer(t);switch(r){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(t)}}}const gM="ng-animate-queued",XI="ng-animate-disabled",sO=[],mM={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},oO={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ko="__ng_removed";class eT{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function uO(n){return n??null}(r?t.value:t),r){const c=cy(t);delete c.value,this.options=c}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(a=>{null==r[a]&&(r[a]=e[a])})}}}const hy="void",tT=new eT(hy);class aO{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Fo(e,this._hostClassName)}listen(t,e,r,a){if(!this._triggers.has(e))throw function iP(n,t){return new u.vHH(3302,!1)}();if(null==r||0==r.length)throw function sP(n){return new u.vHH(3303,!1)}();if(!function dO(n){return"start"==n||"done"==n}(r))throw function oP(n,t){return new u.vHH(3400,!1)}();const c=Ks(this._elementListeners,t,[]),f={name:e,phase:r,callback:a};c.push(f);const m=Ks(this._engine.statesByElement,t,new Map);return m.has(e)||(Fo(t,FE),Fo(t,FE+"-"+e),m.set(e,tT)),()=>{this._engine.afterFlush(()=>{const E=c.indexOf(f);E>=0&&c.splice(E,1),this._triggers.has(e)||m.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function aP(n){return new u.vHH(3401,!1)}();return e}trigger(t,e,r,a=!0){const c=this._getTrigger(e),f=new nT(this.id,e,t);let m=this._engine.statesByElement.get(t);m||(Fo(t,FE),Fo(t,FE+"-"+e),this._engine.statesByElement.set(t,m=new Map));let E=m.get(e);const I=new eT(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&E&&I.absorbOptions(E.options),m.set(e,I),E||(E=tT),I.value!==hy&&E.value===I.value){if(!function pO(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let a=0;a<e.length;a++){const c=e[a];if(!t.hasOwnProperty(c)||n[c]!==t[c])return!1}return!0}(E.params,I.params)){const Ae=[],He=c.matchStyles(E.value,E.params,Ae),ft=c.matchStyles(I.value,I.params,Ae);Ae.length?this._engine.reportError(Ae):this._engine.afterFlush(()=>{pf(t,He),Vl(t,ft)})}return}const W=Ks(this._engine.playersByElement,t,[]);W.forEach(Ae=>{Ae.namespaceId==this.id&&Ae.triggerName==e&&Ae.queued&&Ae.destroy()});let ee=c.matchTransition(E.value,I.value,t,I.params),fe=!1;if(!ee){if(!a)return;ee=c.fallbackTransition,fe=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:ee,fromState:E,toState:I,player:f,isFallbackTransition:fe}),fe||(Fo(t,gM),f.onStart(()=>{Dg(t,gM)})),f.onDone(()=>{let Ae=this.players.indexOf(f);Ae>=0&&this.players.splice(Ae,1);const He=this._engine.playersByElement.get(t);if(He){let ft=He.indexOf(f);ft>=0&&He.splice(ft,1)}}),this.players.push(f),W.push(f),f}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(a=>a.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,LE,!0);r.forEach(a=>{if(a[ko])return;const c=this._engine.fetchNamespacesByElement(a);c.size?c.forEach(f=>f.triggerLeaveAnimation(a,e,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(t,e,r,a){const c=this._engine.statesByElement.get(t),f=new Map;if(c){const m=[];if(c.forEach((E,I)=>{if(f.set(I,E.value),this._triggers.has(I)){const x=this.trigger(t,I,hy,a);x&&m.push(x)}}),m.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,f),r&&xd(m).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const a=new Set;e.forEach(c=>{const f=c.name;if(a.has(f))return;a.add(f);const E=this._triggers.get(f).fallbackTransition,I=r.get(f)||tT,x=new eT(hy),O=new nT(this.id,f,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:f,transition:E,fromState:I,toState:x,player:O,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let a=!1;if(r.totalAnimations){const c=r.players.length?r.playersByQueriedElement.get(t):[];if(c&&c.length)a=!0;else{let f=t;for(;f=f.parentNode;)if(r.statesByElement.get(f)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(t),a)r.markElementAsRemoved(this.id,t,!1,e);else{const c=t[ko];(!c||c===mM)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){Fo(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const a=r.player;if(a.destroyed)return;const c=r.element,f=this._elementListeners.get(c);f&&f.forEach(m=>{if(m.name==r.triggerName){const E=LI(c,r.triggerName,r.fromState.value,r.toState.value);E._data=t,kI(r.player,m.phase,E,m.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):e.push(r)}),this._queue=[],e.sort((r,a)=>{const c=r.transition.ast.depCount,f=a.transition.ast.depCount;return 0==c||0==f?c-f:this._engine.driver.containsElement(r.element,a.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class lO{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,c)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new aO(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,a=this.namespacesByHostElement;if(r.length-1>=0){let f=!1,m=this.driver.getParentElement(e);for(;m;){const E=a.get(m);if(E){const I=r.indexOf(E);r.splice(I+1,0,t),f=!0;break}m=this.driver.getParentElement(m)}f||r.unshift(t)}else r.push(t);return a.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let a=this._namespaceLookup[t];a&&a.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const a=this._namespaceList.indexOf(r);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r)for(let a of r.values())if(a.namespaceId){const c=this._fetchNamespace(a.namespaceId);c&&e.add(c)}return e}trigger(t,e,r,a){if(qE(e)){const c=this._fetchNamespace(t);if(c)return c.trigger(e,r,a),!0}return!1}insertNode(t,e,r,a){if(!qE(e))return;const c=e[ko];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const f=this.collectedLeaveElements.indexOf(e);f>=0&&this.collectedLeaveElements.splice(f,1)}if(t){const f=this._fetchNamespace(t);f&&f.insertNode(e,r)}a&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Fo(t,XI)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Dg(t,XI))}removeNode(t,e,r,a){if(qE(e)){const c=t?this._fetchNamespace(t):null;if(c?c.removeNode(e,a):this.markElementAsRemoved(t,e,!1,a),r){const f=this.namespacesByHostElement.get(e);f&&f.id!==t&&f.removeNode(e,a)}}else this._onRemovalComplete(e,a)}markElementAsRemoved(t,e,r,a,c){this.collectedLeaveElements.push(e),e[ko]={namespaceId:t,setForRemoval:a,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:c}}listen(t,e,r,a,c){return qE(e)?this._fetchNamespace(t).listen(e,r,a,c):()=>{}}_buildInstruction(t,e,r,a,c){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,a,t.fromState.options,t.toState.options,e,c)}destroyInnerAnimations(t){let e=this.driver.query(t,LE,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,jI,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return xd(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[ko];if(e&&e.setForRemoval){if(t[ko]=mM,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(XI)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,a)=>this._balanceNamespaceList(r,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Fo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let a=0;a<r.length;a++)r[a]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?xd(e).onDone(()=>{r.forEach(a=>a())}):r.forEach(a=>a())}}reportError(t){throw function lP(n){return new u.vHH(3402,!1)}()}_flushAnimations(t,e){const r=new GE,a=[],c=new Map,f=[],m=new Map,E=new Map,I=new Map,x=new Set;this.disabledNodes.forEach(nt=>{x.add(nt);const pt=this.driver.query(nt,".ng-animate-queued",!0);for(let Ct=0;Ct<pt.length;Ct++)x.add(pt[Ct])});const O=this.bodyNode,W=Array.from(this.statesByElement.keys()),ee=vM(W,this.collectedEnterElements),fe=new Map;let Ae=0;ee.forEach((nt,pt)=>{const Ct=HI+Ae++;fe.set(pt,Ct),nt.forEach(Qt=>Fo(Qt,Ct))});const He=[],ft=new Set,wt=new Set;for(let nt=0;nt<this.collectedLeaveElements.length;nt++){const pt=this.collectedLeaveElements[nt],Ct=pt[ko];Ct&&Ct.setForRemoval&&(He.push(pt),ft.add(pt),Ct.hasAnimation?this.driver.query(pt,".ng-star-inserted",!0).forEach(Qt=>ft.add(Qt)):wt.add(pt))}const Yt=new Map,xt=vM(W,Array.from(ft));xt.forEach((nt,pt)=>{const Ct=kE+Ae++;Yt.set(pt,Ct),nt.forEach(Qt=>Fo(Qt,Ct))}),t.push(()=>{ee.forEach((nt,pt)=>{const Ct=fe.get(pt);nt.forEach(Qt=>Dg(Qt,Ct))}),xt.forEach((nt,pt)=>{const Ct=Yt.get(pt);nt.forEach(Qt=>Dg(Qt,Ct))}),He.forEach(nt=>{this.processLeaveNode(nt)})});const br=[],Fr=[];for(let nt=this._namespaceList.length-1;nt>=0;nt--)this._namespaceList[nt].drainQueuedTransitions(e).forEach(Ct=>{const Qt=Ct.player,Lr=Ct.element;if(br.push(Qt),this.collectedEnterElements.length){const yi=Lr[ko];if(yi&&yi.setForMove){if(yi.previousTriggersValues&&yi.previousTriggersValues.has(Ct.triggerName)){const _f=yi.previousTriggersValues.get(Ct.triggerName),Lo=this.statesByElement.get(Ct.element);if(Lo&&Lo.has(Ct.triggerName)){const QE=Lo.get(Ct.triggerName);QE.value=_f,Lo.set(Ct.triggerName,QE)}}return void Qt.destroy()}}const Ul=!O||!this.driver.containsElement(O,Lr),Qs=Yt.get(Lr),Nd=fe.get(Lr),qn=this._buildInstruction(Ct,r,Nd,Qs,Ul);if(qn.errors&&qn.errors.length)return void Fr.push(qn);if(Ul)return Qt.onStart(()=>pf(Lr,qn.fromStyles)),Qt.onDestroy(()=>Vl(Lr,qn.toStyles)),void a.push(Qt);if(Ct.isFallbackTransition)return Qt.onStart(()=>pf(Lr,qn.fromStyles)),Qt.onDestroy(()=>Vl(Lr,qn.toStyles)),void a.push(Qt);const OM=[];qn.timelines.forEach(yi=>{yi.stretchStartingKeyframe=!0,this.disabledNodes.has(yi.element)||OM.push(yi)}),qn.timelines=OM,r.append(Lr,qn.timelines),f.push({instruction:qn,player:Qt,element:Lr}),qn.queriedElements.forEach(yi=>Ks(m,yi,[]).push(Qt)),qn.preStyleProps.forEach((yi,_f)=>{if(yi.size){let Lo=E.get(_f);Lo||E.set(_f,Lo=new Set),yi.forEach((QE,sT)=>Lo.add(sT))}}),qn.postStyleProps.forEach((yi,_f)=>{let Lo=I.get(_f);Lo||I.set(_f,Lo=new Set),yi.forEach((QE,sT)=>Lo.add(sT))})});if(Fr.length){const nt=[];Fr.forEach(pt=>{nt.push(function cP(n,t){return new u.vHH(3505,!1)}())}),br.forEach(pt=>pt.destroy()),this.reportError(nt)}const Hi=new Map,tu=new Map;f.forEach(nt=>{const pt=nt.element;r.has(pt)&&(tu.set(pt,pt),this._beforeAnimationBuild(nt.player.namespaceId,nt.instruction,Hi))}),a.forEach(nt=>{const pt=nt.element;this._getPreviousPlayers(pt,!1,nt.namespaceId,nt.triggerName,null).forEach(Qt=>{Ks(Hi,pt,[]).push(Qt),Qt.destroy()})});const nu=He.filter(nt=>EM(nt,E,I)),ru=new Map;yM(ru,this.driver,wt,I,Xc).forEach(nt=>{EM(nt,E,I)&&nu.push(nt)});const fy=new Map;ee.forEach((nt,pt)=>{yM(fy,this.driver,new Set(nt),E,"!")}),nu.forEach(nt=>{const pt=ru.get(nt),Ct=fy.get(nt);ru.set(nt,new Map([...Array.from(pt?.entries()??[]),...Array.from(Ct?.entries()??[])]))});const mf=[],AM=[],PM={};f.forEach(nt=>{const{element:pt,player:Ct,instruction:Qt}=nt;if(r.has(pt)){if(x.has(pt))return Ct.onDestroy(()=>Vl(pt,Qt.toStyles)),Ct.disabled=!0,Ct.overrideTotalTime(Qt.totalTime),void a.push(Ct);let Lr=PM;if(tu.size>1){let Qs=pt;const Nd=[];for(;Qs=Qs.parentNode;){const qn=tu.get(Qs);if(qn){Lr=qn;break}Nd.push(Qs)}Nd.forEach(qn=>tu.set(qn,Lr))}const Ul=this._buildAnimation(Ct.namespaceId,Qt,Hi,c,fy,ru);if(Ct.setRealPlayer(Ul),Lr===PM)mf.push(Ct);else{const Qs=this.playersByElement.get(Lr);Qs&&Qs.length&&(Ct.parentPlayer=xd(Qs)),a.push(Ct)}}else pf(pt,Qt.fromStyles),Ct.onDestroy(()=>Vl(pt,Qt.toStyles)),AM.push(Ct),x.has(pt)&&a.push(Ct)}),AM.forEach(nt=>{const pt=c.get(nt.element);if(pt&&pt.length){const Ct=xd(pt);nt.setRealPlayer(Ct)}}),a.forEach(nt=>{nt.parentPlayer?nt.syncPlayerEvents(nt.parentPlayer):nt.destroy()});for(let nt=0;nt<He.length;nt++){const pt=He[nt],Ct=pt[ko];if(Dg(pt,kE),Ct&&Ct.hasAnimation)continue;let Qt=[];if(m.size){let Ul=m.get(pt);Ul&&Ul.length&&Qt.push(...Ul);let Qs=this.driver.query(pt,jI,!0);for(let Nd=0;Nd<Qs.length;Nd++){let qn=m.get(Qs[Nd]);qn&&qn.length&&Qt.push(...qn)}}const Lr=Qt.filter(Ul=>!Ul.destroyed);Lr.length?hO(this,pt,Lr):this.processLeaveNode(pt)}return He.length=0,mf.forEach(nt=>{this.players.push(nt),nt.onDone(()=>{nt.destroy();const pt=this.players.indexOf(nt);this.players.splice(pt,1)}),nt.play()}),mf}elementContainsData(t,e){let r=!1;const a=e[ko];return a&&a.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,a,c){let f=[];if(e){const m=this.playersByQueriedElement.get(t);m&&(f=m)}else{const m=this.playersByElement.get(t);if(m){const E=!c||c==hy;m.forEach(I=>{I.queued||!E&&I.triggerName!=a||f.push(I)})}}return(r||a)&&(f=f.filter(m=>!(r&&r!=m.namespaceId||a&&a!=m.triggerName))),f}_beforeAnimationBuild(t,e,r){const c=e.element,f=e.isRemovalTransition?void 0:t,m=e.isRemovalTransition?void 0:e.triggerName;for(const E of e.timelines){const I=E.element,x=I!==c,O=Ks(r,I,[]);this._getPreviousPlayers(I,x,f,m,e.toState).forEach(ee=>{const fe=ee.getRealPlayer();fe.beforeDestroy&&fe.beforeDestroy(),ee.destroy(),O.push(ee)})}pf(c,e.fromStyles)}_buildAnimation(t,e,r,a,c,f){const m=e.triggerName,E=e.element,I=[],x=new Set,O=new Set,W=e.timelines.map(fe=>{const Ae=fe.element;x.add(Ae);const He=Ae[ko];if(He&&He.removedBeforeQueried)return new ly(fe.duration,fe.delay);const ft=Ae!==E,wt=function fO(n){const t=[];return CM(n,t),t}((r.get(Ae)||sO).map(Hi=>Hi.getRealPlayer())).filter(Hi=>!!Hi.element&&Hi.element===Ae),Yt=c.get(Ae),xt=f.get(Ae),br=zS(0,this._normalizer,0,fe.keyframes,Yt,xt),Fr=this._buildPlayer(fe,br,wt);if(fe.subTimeline&&a&&O.add(Ae),ft){const Hi=new nT(t,m,Ae);Hi.setRealPlayer(Fr),I.push(Hi)}return Fr});I.forEach(fe=>{Ks(this.playersByQueriedElement,fe.element,[]).push(fe),fe.onDone(()=>function cO(n,t,e){let r=n.get(t);if(r){if(r.length){const a=r.indexOf(e);r.splice(a,1)}0==r.length&&n.delete(t)}return r}(this.playersByQueriedElement,fe.element,fe))}),x.forEach(fe=>Fo(fe,tM));const ee=xd(W);return ee.onDestroy(()=>{x.forEach(fe=>Dg(fe,tM)),Vl(E,e.toStyles)}),O.forEach(fe=>{Ks(a,fe,[]).push(ee)}),ee}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new ly(t.duration,t.delay)}}class nT{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new ly,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(a=>kI(t,r,void 0,a))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ks(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function qE(n){return n&&1===n.nodeType}function _M(n,t){const e=n.style.display;return n.style.display=t??"none",e}function yM(n,t,e,r,a){const c=[];e.forEach(E=>c.push(_M(E)));const f=[];r.forEach((E,I)=>{const x=new Map;E.forEach(O=>{const W=t.computeStyle(I,O,a);x.set(O,W),(!W||0==W.length)&&(I[ko]=oO,f.push(I))}),n.set(I,x)});let m=0;return e.forEach(E=>_M(E,c[m++])),f}function vM(n,t){const e=new Map;if(n.forEach(m=>e.set(m,[])),0==t.length)return e;const a=new Set(t),c=new Map;function f(m){if(!m)return 1;let E=c.get(m);if(E)return E;const I=m.parentNode;return E=e.has(I)?I:a.has(I)?1:f(I),c.set(m,E),E}return t.forEach(m=>{const E=f(m);1!==E&&e.get(E).push(m)}),e}function Fo(n,t){n.classList?.add(t)}function Dg(n,t){n.classList?.remove(t)}function hO(n,t,e){xd(e).onDone(()=>n.processLeaveNode(t))}function CM(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof WS?CM(r.players,t):t.push(r)}}function EM(n,t,e){const r=e.get(n);if(!r)return!1;let a=t.get(n);return a?r.forEach(c=>a.add(c)):t.set(n,r),e.delete(n),!0}class KE{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(a,c)=>{},this._transitionEngine=new lO(t,e,r),this._timelineEngine=new eO(t,e,r),this._transitionEngine.onRemovalComplete=(a,c)=>this.onRemovalComplete(a,c)}registerTrigger(t,e,r,a,c){const f=t+"-"+a;let m=this._triggerCache[f];if(!m){const E=[],x=zI(this._driver,c,E,[]);if(E.length)throw function JA(n,t){return new u.vHH(3404,!1)}();m=function YP(n,t,e){return new QP(n,t,e)}(a,x,this._normalizer),this._triggerCache[f]=m}this._transitionEngine.registerTrigger(e,a,m)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,a){this._transitionEngine.insertNode(t,e,r,a)}onRemove(t,e,r,a){this._transitionEngine.removeNode(t,e,a||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,a){if("@"==r.charAt(0)){const[c,f]=ZS(r);this._timelineEngine.command(c,e,f,a)}else this._transitionEngine.trigger(t,e,r,a)}listen(t,e,r,a,c){if("@"==r.charAt(0)){const[f,m]=ZS(r);return this._timelineEngine.listen(f,e,m,c)}return this._transitionEngine.listen(t,e,r,a,c)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let mO=(()=>{class n{constructor(e,r,a){this._element=e,this._startStyles=r,this._endStyles=a,this._state=0;let c=n.initialStylesByElement.get(e);c||n.initialStylesByElement.set(e,c=new Map),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&Vl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Vl(this._element,this._initialStyles),this._endStyles&&(Vl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(pf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pf(this._element,this._endStyles),this._endStyles=null),Vl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function rT(n){let t=null;return n.forEach((e,r)=>{(function _O(n){return"display"===n||"position"===n})(r)&&(t=t||new Map,t.set(r,e))}),t}class wM{constructor(t,e,r,a){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,a)=>{"offset"!==a&&t.set(a,this._finished?r:aM(this.element,a))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class yO{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return QS(t,e)}getParentElement(t){return UI(t)}query(t,e,r){return JS(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,a,c,f=[]){const E={duration:r,delay:a,fill:0==a?"both":"forwards"};c&&(E.easing=c);const I=new Map,x=f.filter(ee=>ee instanceof wM);(function wP(n,t){return 0===n||0===t})(r,a)&&x.forEach(ee=>{ee.currentSnapshot.forEach((fe,Ae)=>I.set(Ae,fe))});let O=function yP(n){return n.length?n[0]instanceof Map?n:n.map(t=>nM(t)):[]}(e).map(ee=>Rd(ee));O=function bP(n,t,e){if(e.size&&t.length){let r=t[0],a=[];if(e.forEach((c,f)=>{r.has(f)||a.push(f),r.set(f,c)}),a.length)for(let c=1;c<t.length;c++){let f=t[c];a.forEach(m=>f.set(m,aM(n,m)))}}return t}(t,O,I);const W=function gO(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=rT(t[0]),t.length>1&&(r=rT(t[t.length-1]))):t instanceof Map&&(e=rT(t)),e||r?new mO(n,e,r):null}(t,O);return new wM(t,O,E,W)}}let vO=(()=>{class n extends BS{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(e)?HS(e):e;return bM(this._renderer,null,r,"register",[a]),new CO(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.FYo),u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class CO extends class PA{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new EO(this._id,t,e||{},this._renderer)}}class EO{constructor(t,e,r,a){this.id=t,this.element=e,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return bM(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function bM(n,t,e,r,a){return n.setProperty(t,`@@${e}:${r}`,a)}const DM="@.disabled";let wO=(()=>{class n{constructor(e,r,a){this.delegate=e,this.engine=r,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(c,f)=>{const m=f?.parentNode(c);m&&f.removeChild(m,c)}}createRenderer(e,r){const c=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let x=this._rendererCache.get(c);return x||(x=new IM("",c,this.engine),this._rendererCache.set(c,x)),x}const f=r.id,m=r.id+"-"+this._currentId;this._currentId++,this.engine.register(m,e);const E=x=>{Array.isArray(x)?x.forEach(E):this.engine.registerTrigger(f,m,e,x.name,x)};return r.data.animation.forEach(E),new bO(this,m,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,a){e>=0&&e<this._microtaskId?this._zone.run(()=>r(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[f,m]=c;f(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.FYo),u.LFG(KE),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class IM{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?a=>e.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,a=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,a)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,a){this.delegate.setAttribute(t,e,r,a)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,a){this.delegate.setStyle(t,e,r,a)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==DM?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class bO extends IM{constructor(t,e,r,a){super(e,r,a),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==DM?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const a=function DO(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let c=e.slice(1),f="";return"@"!=c.charAt(0)&&([c,f]=function IO(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(c)),this.engine.listen(this.namespaceId,a,c,f,m=>{this.factory.scheduleListenerCallback(m._data||-1,r,m)})}return this.delegate.listen(t,e,r)}}const TM=[{provide:BS,useClass:vO},{provide:QI,useFactory:function SO(){return new zP}},{provide:KE,useClass:(()=>{class n extends KE{constructor(e,r,a,c){super(e.body,r,a)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(oe),u.LFG(BI),u.LFG(QI),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})()},{provide:u.FYo,useFactory:function MO(n,t,e){return new wO(n,t,e)},deps:[Ss,KE,u.R0b]}],iT=[{provide:BI,useFactory:()=>new yO},{provide:u.QbO,useValue:"BrowserAnimations"},...TM],SM=[{provide:BI,useClass:XS},{provide:u.QbO,useValue:"NoopAnimations"},...TM];let AO=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?SM:iT}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:iT,imports:[rl]}),n})(),PO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[AA]}),n.\u0275inj=u.cJS({imports:[rl,tv,AO,SA,Us.hO.initializeApp(MA_firebase),YD,sI]}),n})();(0,u.G48)(),nl().bootstrapModule(PO).catch(n=>console.error(n))},5867:(Je,Ee,k)=>{k.d(Ee,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=k(9681);(0,u.registerVersion)("firebase","9.13.0","app")},127:(Je,Ee,k)=>{k.d(Ee,{Z:()=>u.Z});var u=k(3942);u.Z.registerVersion("firebase","9.13.0","app-compat")},1277:(Je,Ee,k)=>{k.r(Ee);var u=k(5861),J=k(3942),R=k(2090),se=k(9681),ie=k(1877),le=k(655),oe=k(4859);const ye=function xe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ze=function Te(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ge=new R.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),We=new ie.Yd("@firebase/auth");function Ke(_,...h){We.logLevel<=ie.in.ERROR&&We.error(`Auth (${se.SDK_VERSION}): ${_}`,...h)}function Ie(_,...h){throw Fe(_,...h)}function me(_,...h){return Fe(_,...h)}function Ce(_,h,g){const v=Object.assign(Object.assign({},Ze()),{[h]:g});return new R.LL("auth","Firebase",v).create(h,{appName:_.name})}function ke(_,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&Ie(_,"argument-error"),Ce(_,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fe(_,...h){if("string"!=typeof _){const g=h[0],v=[...h.slice(1)];return v[0]&&(v[0].appName=_.name),_._errorFactory.create(g,...v)}return ge.create(_,...h)}function U(_,h,...g){if(!_)throw Fe(h,...g)}function pe(_){const h="INTERNAL ASSERTION FAILED: "+_;throw Ke(h),new Error(h)}function z(_,h){_||pe(h)}const Q=new Map;function re(_){z(_ instanceof Function,"Expected a class definition");let h=Q.get(_);return h?(z(h instanceof _,"Instance stored in cache mismatched with class"),h):(h=new _,Q.set(_,h),h)}function Pe(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function et(){return"http:"===Ut()||"https:"===Ut()}function Ut(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class zt{constructor(h,g){this.shortDelay=h,this.longDelay=g,z(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,R.uI)()||(0,R.b$)()}get(){return function St(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(et()||(0,R.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function nn(_,h){z(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class Lt{static initialize(h,g,v){this.fetchImpl=h,g&&(this.headersImpl=g),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void pe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void pe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void pe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Bt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},sr=new zt(3e4,6e4);function Et(_,h){return _.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:_.tenantId}):h}function Zt(_,h,g,v){return vi.apply(this,arguments)}function vi(){return(vi=(0,u.Z)(function*(_,h,g,v,S={}){return Vr(_,S,(0,u.Z)(function*(){let P={},G={};v&&("GET"===h?G=v:P={body:JSON.stringify(v)});const ae=(0,R.xO)(Object.assign({key:_.config.apiKey},G)).slice(1),Re=yield _._getAdditionalHeaders();return Re["Content-Type"]="application/json",_.languageCode&&(Re["X-Firebase-Locale"]=_.languageCode),Lt.fetch()(Ur(_,_.config.apiHost,g,ae),Object.assign({method:h,headers:Re,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function Vr(_,h,g){return or.apply(this,arguments)}function or(){return(or=(0,u.Z)(function*(_,h,g){_._canInitEmulator=!1;const v=Object.assign(Object.assign({},Bt),h);try{const S=new gr(_),P=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const G=yield P.json();if("needConfirmation"in G)throw Dr(_,"account-exists-with-different-credential",G);if(P.ok&&!("errorMessage"in G))return G;{const ae=P.ok?G.errorMessage:G.error.message,[Re,$e]=ae.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Re)throw Dr(_,"credential-already-in-use",G);if("EMAIL_EXISTS"===Re)throw Dr(_,"email-already-in-use",G);if("USER_DISABLED"===Re)throw Dr(_,"user-disabled",G);const lt=v[Re]||Re.toLowerCase().replace(/[_\s]+/g,"-");if($e)throw Ce(_,lt,$e);Ie(_,lt)}}catch(S){if(S instanceof R.ZR)throw S;Ie(_,"network-request-failed")}})).apply(this,arguments)}function ar(_,h,g,v){return ji.apply(this,arguments)}function ji(){return(ji=(0,u.Z)(function*(_,h,g,v,S={}){const P=yield Zt(_,h,g,v,S);return"mfaPendingCredential"in P&&Ie(_,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function Ur(_,h,g,v){const S=`${h}${g}?${v}`;return _.config.emulator?nn(_.config,S):`${_.config.apiScheme}://${S}`}class gr{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,v)=>{this.timer=setTimeout(()=>v(me(this.auth,"network-request-failed")),sr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dr(_,h,g){const v={appName:_.name};g.email&&(v.email=g.email),g.phoneNumber&&(v.phoneNumber=g.phoneNumber);const S=me(_,h,v);return S.customData._tokenResponse=g,S}function je(){return(je=(0,u.Z)(function*(_,h){return Zt(_,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function er(_,h){return $i.apply(this,arguments)}function $i(){return($i=(0,u.Z)(function*(_,h){return Zt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Nn(_,h){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,u.Z)(function*(_,h){return Zt(_,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function ti(_){if(_)try{const h=new Date(Number(_));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function en(){return(en=(0,u.Z)(function*(_,h=!1){const g=(0,R.m9)(_),v=yield g.getIdToken(h),S=Qe(v);U(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const P="object"==typeof S.firebase?S.firebase:void 0,G=P?.sign_in_provider;return{claims:S,token:v,authTime:ti(ot(S.auth_time)),issuedAtTime:ti(ot(S.iat)),expirationTime:ti(ot(S.exp)),signInProvider:G||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function ot(_){return 1e3*Number(_)}function Qe(_){var h;const[g,v,S]=_.split(".");if(void 0===g||void 0===v||void 0===S)return Ke("JWT malformed, contained fewer than 3 sections"),null;try{const P=(0,R.tV)(v);return P?JSON.parse(P):(Ke("Failed to decode base64 JWT payload"),null)}catch(P){return Ke("Caught error parsing JWT payload as JSON",null===(h=P)||void 0===h?void 0:h.toString()),null}}function Bn(_,h){return bn.apply(this,arguments)}function bn(){return(bn=(0,u.Z)(function*(_,h,g=!1){if(g)return h;try{return yield h}catch(v){throw v instanceof R.ZR&&mr(v)&&_.auth.currentUser===_&&(yield _.auth.signOut()),v}})).apply(this,arguments)}function mr({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class gt{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const v=this.getInterval(h);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),v)}iteration(){var h=this;return(0,u.Z)(function*(){var g;try{yield h.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===(null===(g=v)||void 0===g?void 0:g.code)&&h.schedule(!0))}h.schedule()})()}}class Ci{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=ti(this.lastLoginAt),this.creationTime=ti(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ht(_){return Br.apply(this,arguments)}function Br(){return(Br=(0,u.Z)(function*(_){var h;const g=_.auth,v=yield _.getIdToken(),S=yield Bn(_,Nn(g,{idToken:v}));U(S?.users.length,g,"internal-error");const P=S.users[0];_._notifyReloadListener(P);const G=null!==(h=P.providerUserInfo)&&void 0!==h&&h.length?ze(P.providerUserInfo):[],ae=lr(_.providerData,G),lt=!!_.isAnonymous&&!(_.email&&P.passwordHash||ae?.length),it={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:ae,metadata:new Ci(P.createdAt,P.lastLoginAt),isAnonymous:lt};Object.assign(_,it)})).apply(this,arguments)}function kn(){return(kn=(0,u.Z)(function*(_){const h=(0,R.m9)(_);yield Ht(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function lr(_,h){return[..._.filter(v=>!h.some(S=>S.providerId===v.providerId)),...h]}function ze(_){return _.map(h=>{var{providerId:g}=h,v=(0,le._T)(h,["providerId"]);return{providerId:g,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function Ge(){return(Ge=(0,u.Z)(function*(_,h){const g=yield Vr(_,{},(0,u.Z)(function*(){const v=(0,R.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:S,apiKey:P}=_.config,G=Ur(_,S,"/v1/token",`key=${P}`),ae=yield _._getAdditionalHeaders();return ae["Content-Type"]="application/x-www-form-urlencoded",Lt.fetch()(G,{method:"POST",headers:ae,body:v})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class ht{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){U(h.idToken,"internal-error"),U(typeof h.idToken<"u","internal-error"),U(typeof h.refreshToken<"u","internal-error");const g="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function $t(_){const h=Qe(_);return U(h,"internal-error"),U(typeof h.exp<"u","internal-error"),U(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}getToken(h,g=!1){var v=this;return(0,u.Z)(function*(){return U(!v.accessToken||v.refreshToken,h,"user-token-expired"),g||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(h,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var v=this;return(0,u.Z)(function*(){const{accessToken:S,refreshToken:P,expiresIn:G}=yield function we(_,h){return Ge.apply(this,arguments)}(h,g);v.updateTokensAndExpiration(S,P,Number(G))})()}updateTokensAndExpiration(h,g,v){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(h,g){const{refreshToken:v,accessToken:S,expirationTime:P}=g,G=new ht;return v&&(U("string"==typeof v,"internal-error",{appName:h}),G.refreshToken=v),S&&(U("string"==typeof S,"internal-error",{appName:h}),G.accessToken=S),P&&(U("number"==typeof P,"internal-error",{appName:h}),G.expirationTime=P),G}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new ht,this.toJSON())}_performRefresh(){return pe("not implemented")}}function ct(_,h){U("string"==typeof _||typeof _>"u","internal-error",{appName:h})}class bt{constructor(h){var{uid:g,auth:v,stsTokenManager:S}=h,P=(0,le._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=v,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new Ci(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,u.Z)(function*(){const v=yield Bn(g,g.stsTokenManager.getToken(g.auth,h));return U(v,g.auth,"internal-error"),g.accessToken!==v&&(g.accessToken=v,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),v})()}getIdTokenResult(h){return function Pn(_){return en.apply(this,arguments)}(this,h)}reload(){return function jt(_){return kn.apply(this,arguments)}(this)}_assign(h){this!==h&&(U(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new bt(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var v=this;return(0,u.Z)(function*(){let S=!1;h.idToken&&h.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(h),S=!0),g&&(yield Ht(v)),yield v.auth._persistUserIfCurrent(v),S&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var h=this;return(0,u.Z)(function*(){const g=yield h.getIdToken();return yield Bn(h,function Js(_,h){return je.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var v,S,P,G,ae,Re,$e,lt;const it=null!==(v=g.displayName)&&void 0!==v?v:void 0,qt=null!==(S=g.email)&&void 0!==S?S:void 0,Rr=null!==(P=g.phoneNumber)&&void 0!==P?P:void 0,_a=null!==(G=g.photoURL)&&void 0!==G?G:void 0,Bg=null!==(ae=g.tenantId)&&void 0!==ae?ae:void 0,Tc=null!==(Re=g._redirectEventId)&&void 0!==Re?Re:void 0,Yf=null!==($e=g.createdAt)&&void 0!==$e?$e:void 0,Wu=null!==(lt=g.lastLoginAt)&&void 0!==lt?lt:void 0,{uid:Qf,emailVerified:Hg,isAnonymous:ml,providerData:ya,stsTokenManager:ah}=g;U(Qf&&ah,h,"internal-error");const lh=ht.fromJSON(this.name,ah);U("string"==typeof Qf,h,"internal-error"),ct(it,h.name),ct(qt,h.name),U("boolean"==typeof Hg,h,"internal-error"),U("boolean"==typeof ml,h,"internal-error"),ct(Rr,h.name),ct(_a,h.name),ct(Bg,h.name),ct(Tc,h.name),ct(Yf,h.name),ct(Wu,h.name);const bo=new bt({uid:Qf,auth:h,email:qt,emailVerified:Hg,displayName:it,isAnonymous:ml,photoURL:_a,phoneNumber:Rr,tenantId:Bg,stsTokenManager:lh,createdAt:Yf,lastLoginAt:Wu});return ya&&Array.isArray(ya)&&(bo.providerData=ya.map(_l=>Object.assign({},_l))),Tc&&(bo._redirectEventId=Tc),bo}static _fromIdTokenResponse(h,g,v=!1){return(0,u.Z)(function*(){const S=new ht;S.updateFromServerResponse(g);const P=new bt({uid:g.localId,auth:h,stsTokenManager:S,isAnonymous:v});return yield Ht(P),P})()}}const V=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,v){var S=this;return(0,u.Z)(function*(){S.storage[g]=v})()}_get(g){var v=this;return(0,u.Z)(function*(){const S=v.storage[g];return void 0===S?null:S})()}_remove(g){var v=this;return(0,u.Z)(function*(){delete v.storage[g]})()}_addListener(g,v){}_removeListener(g,v){}}return _.type="NONE",_})();function Z(_,h,g){return`firebase:${_}:${h}:${g}`}class _e{constructor(h,g,v){this.persistence=h,this.auth=g,this.userKey=v;const{config:S,name:P}=this.auth;this.fullUserKey=Z(this.userKey,S.apiKey,P),this.fullPersistenceKey=Z("persistence",S.apiKey,P),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,u.Z)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?bt._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,u.Z)(function*(){if(g.persistence===h)return;const v=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,v?g.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,v="authUser"){return(0,u.Z)(function*(){if(!g.length)return new _e(re(V),h,v);const S=(yield Promise.all(g.map(function(){var $e=(0,u.Z)(function*(lt){if(yield lt._isAvailable())return lt});return function(lt){return $e.apply(this,arguments)}}()))).filter($e=>$e);let P=S[0]||re(V);const G=Z(v,h.config.apiKey,h.name);let ae=null;for(const $e of g)try{const lt=yield $e._get(G);if(lt){const it=bt._fromJSON(h,lt);$e!==P&&(ae=it),P=$e;break}}catch{}const Re=S.filter($e=>$e._shouldAllowMigration);return P._shouldAllowMigration&&Re.length?(P=Re[0],ae&&(yield P._set(G,ae.toJSON())),yield Promise.all(g.map(function(){var $e=(0,u.Z)(function*(lt){if(lt!==P)try{yield lt._remove(G)}catch{}});return function(lt){return $e.apply(this,arguments)}}())),new _e(P,h,v)):new _e(P,h,v)})()}}function Y(_){const h=_.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Jt(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Ve(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Ne(h))return"Blackberry";if(Le(h))return"Webos";if(tt(h))return"Safari";if((h.includes("chrome/")||Vt(h))&&!h.includes("edge/"))return"Chrome";if(kt(h))return"Android";{const v=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===v?.length)return v[1]}return"Other"}function Ve(_=(0,R.z$)()){return/firefox\//i.test(_)}function tt(_=(0,R.z$)()){const h=_.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Vt(_=(0,R.z$)()){return/crios\//i.test(_)}function Jt(_=(0,R.z$)()){return/iemobile/i.test(_)}function kt(_=(0,R.z$)()){return/android/i.test(_)}function Ne(_=(0,R.z$)()){return/blackberry/i.test(_)}function Le(_=(0,R.z$)()){return/webos/i.test(_)}function Tt(_=(0,R.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function ms(_=(0,R.z$)()){return Tt(_)||kt(_)||Le(_)||Ne(_)||/windows phone/i.test(_)||Jt(_)}function Wi(_,h=[]){let g;switch(_){case"Browser":g=Y((0,R.z$)());break;case"Worker":g=`${Y((0,R.z$)())}-${_}`;break;default:g=_}const v=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${se.SDK_VERSION}/${v}`}class Xs{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const v=P=>new Promise((G,ae)=>{try{G(h(P))}catch(Re){ae(Re)}});v.onAbort=g,this.queue.push(v);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,u.Z)(function*(){var v;if(g.auth.currentUser===h)return;const S=[];try{for(const P of g.queue)yield P(h),P.onAbort&&S.push(P.onAbort)}catch(P){S.reverse();for(const G of S)try{G()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null===(v=P)||void 0===v?void 0:v.message})}})()}}class Dt{constructor(h,g,v){this.app=h,this.heartbeatServiceProvider=g,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _s(this),this.idTokenSubscription=new _s(this),this.beforeStateQueue=new Xs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ge,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(h,g){var v=this;return g&&(this._popupRedirectResolver=re(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var S,P;if(!v._deleted&&(v.persistenceManager=yield _e.create(v,h),!v._deleted)){if(null!==(S=v._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch{}yield v.initializeCurrentUser(g),v.lastNotifiedUid=(null===(P=v.currentUser)||void 0===P?void 0:P.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,u.Z)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUser(h){var g=this;return(0,u.Z)(function*(){var v;const S=yield g.assertedPersistence.getCurrentUser();let P=S,G=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ae=null===(v=g.redirectUser)||void 0===v?void 0:v._redirectEventId,Re=P?._redirectEventId,$e=yield g.tryRedirectSignIn(h);(!ae||ae===Re)&&$e?.user&&(P=$e.user,G=!0)}if(!P)return g.directlySetCurrentUser(null);if(!P._redirectEventId){if(G)try{yield g.beforeStateQueue.runMiddleware(P)}catch(ae){P=S,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ae))}return P?g.reloadAndSetCurrentUserOrClear(P):g.directlySetCurrentUser(null)}return U(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===P._redirectEventId?g.directlySetCurrentUser(P):g.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(h){var g=this;return(0,u.Z)(function*(){let v=null;try{v=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch{yield g._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,u.Z)(function*(){var v;try{yield Ht(h)}catch(S){if("auth/network-request-failed"!==(null===(v=S)||void 0===v?void 0:v.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Be(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var h=this;return(0,u.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,u.Z)(function*(){const v=h?(0,R.m9)(h):null;return v&&U(v.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(v&&v._clone(g))})()}_updateCurrentUser(h,g=!1){var v=this;return(0,u.Z)(function*(){if(!v._deleted)return h&&U(v.tenantId===h.tenantId,v,"tenant-id-mismatch"),g||(yield v.beforeStateQueue.runMiddleware(h)),v.queue((0,u.Z)(function*(){yield v.directlySetCurrentUser(h),v.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,u.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence(re(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new R.LL("auth","Firebase",h())}onAuthStateChanged(h,g,v){return this.registerStateListener(this.authStateSubscription,h,g,v)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,v){return this.registerStateListener(this.idTokenSubscription,h,g,v)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var v=this;return(0,u.Z)(function*(){const S=yield v.getOrInitRedirectPersistenceManager(g);return null===h?S.removeCurrentUser():S.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const v=h&&re(h)||g._popupRedirectResolver;U(v,g,"argument-error"),g.redirectPersistenceManager=yield _e.create(g,[re(v._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,u.Z)(function*(){var v,S;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(v=g._currentUser)||void 0===v?void 0:v._redirectEventId)===h?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,u.Z)(function*(){if(h===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,v,S){if(this._deleted)return()=>{};const P="function"==typeof g?g:g.next.bind(g),G=this._isInitialized?Promise.resolve():this._initializationPromise;return U(G,this,"internal-error"),G.then(()=>P(this.currentUser)),"function"==typeof g?h.addObserver(g,v,S):h.addObserver(g)}directlySetCurrentUser(h){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Wi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,u.Z)(function*(){var g;const v={"X-Client-Version":h.clientVersion};h.app.options.appId&&(v["X-Firebase-gmpid"]=h.app.options.appId);const S=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return S&&(v["X-Firebase-Client"]=S),v})()}}function ln(_){return(0,R.m9)(_)}class _s{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,R.ne)(g=>this.observer=g)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ni(_){const h=_.indexOf(":");return h<0?"":_.substr(0,h+1)}function Gi(_){if(!_)return null;const h=Number(_);return isNaN(h)?null:h}class Kn{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return pe("not implemented")}_getIdTokenResponse(h){return pe("not implemented")}_linkToIdToken(h,g){return pe("not implemented")}_getReauthenticationResolver(h){return pe("not implemented")}}function xn(_,h){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,u.Z)(function*(_,h){return Zt(_,"POST","/v1/accounts:resetPassword",Et(_,h))})).apply(this,arguments)}function Kt(_,h){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,u.Z)(function*(_,h){return Zt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Hl(_,h){return ys.apply(this,arguments)}function ys(){return(ys=(0,u.Z)(function*(_,h){return Zt(_,"POST","/v1/accounts:update",Et(_,h))})).apply(this,arguments)}function vs(){return(vs=(0,u.Z)(function*(_,h){return ar(_,"POST","/v1/accounts:signInWithPassword",Et(_,h))})).apply(this,arguments)}function Zi(_,h){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,u.Z)(function*(_,h){return Zt(_,"POST","/v1/accounts:sendOobCode",Et(_,h))})).apply(this,arguments)}function jn(_,h){return jl.apply(this,arguments)}function jl(){return(jl=(0,u.Z)(function*(_,h){return Zi(_,h)})).apply(this,arguments)}function $n(_,h){return cr.apply(this,arguments)}function cr(){return(cr=(0,u.Z)(function*(_,h){return Zi(_,h)})).apply(this,arguments)}function Pa(_,h){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,u.Z)(function*(_,h){return Zi(_,h)})).apply(this,arguments)}function $l(_,h){return tr.apply(this,arguments)}function tr(){return(tr=(0,u.Z)(function*(_,h){return Zi(_,h)})).apply(this,arguments)}function iu(){return(iu=(0,u.Z)(function*(_,h){return ar(_,"POST","/v1/accounts:signInWithEmailLink",Et(_,h))})).apply(this,arguments)}function Wl(){return(Wl=(0,u.Z)(function*(_,h){return ar(_,"POST","/v1/accounts:signInWithEmailLink",Et(_,h))})).apply(this,arguments)}class Gl extends Kn{constructor(h,g,v,S=null){super("password",v),this._email=h,this._password=g,this._tenantId=S}static _fromEmailAndPassword(h,g){return new Gl(h,g,"password")}static _fromEmailAndCode(h,g,v=null){return new Gl(h,g,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,u.Z)(function*(){switch(g.signInMethod){case"password":return function Vo(_,h){return vs.apply(this,arguments)}(h,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function kd(_,h){return iu.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:Ie(h,"internal-error")}})()}_linkToIdToken(h,g){var v=this;return(0,u.Z)(function*(){switch(v.signInMethod){case"password":return Kt(h,{idToken:g,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Fd(_,h){return Wl.apply(this,arguments)}(h,{idToken:g,email:v._email,oobCode:v._password});default:Ie(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Ln(_,h){return su.apply(this,arguments)}function su(){return(su=(0,u.Z)(function*(_,h){return ar(_,"POST","/v1/accounts:signInWithIdp",Et(_,h))})).apply(this,arguments)}class Ei extends Kn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new Ei(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):Ie("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:S}=g,P=(0,le._T)(g,["providerId","signInMethod"]);if(!v||!S)return null;const G=new Ei(v,S);return G.idToken=P.idToken||void 0,G.accessToken=P.accessToken||void 0,G.secret=P.secret,G.nonce=P.nonce,G.pendingToken=P.pendingToken||null,G}_getIdTokenResponse(h){return Ln(h,this.buildRequest())}_linkToIdToken(h,g){const v=this.buildRequest();return v.idToken=g,Ln(h,v)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,Ln(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,R.xO)(g)}return h}}function vf(_,h){return ou.apply(this,arguments)}function ou(){return(ou=(0,u.Z)(function*(_,h){return Zt(_,"POST","/v1/accounts:sendVerificationCode",Et(_,h))})).apply(this,arguments)}function qi(){return(qi=(0,u.Z)(function*(_,h){return ar(_,"POST","/v1/accounts:signInWithPhoneNumber",Et(_,h))})).apply(this,arguments)}function au(){return(au=(0,u.Z)(function*(_,h){const g=yield ar(_,"POST","/v1/accounts:signInWithPhoneNumber",Et(_,h));if(g.temporaryProof)throw Dr(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Ef={USER_NOT_FOUND:"user-not-found"};function lu(){return(lu=(0,u.Z)(function*(_,h){return ar(_,"POST","/v1/accounts:signInWithPhoneNumber",Et(_,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Ef)})).apply(this,arguments)}class Ki extends Kn{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new Ki({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new Ki({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function zl(_,h){return qi.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function Cf(_,h){return au.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Ld(_,h){return lu.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:v,verificationCode:S}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:v,code:S}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:v,phoneNumber:S,temporaryProof:P}=h;return v||g||S||P?new Ki({verificationId:g,verificationCode:v,phoneNumber:S,temporaryProof:P}):null}}class Oa{constructor(h){var g,v,S,P,G,ae;const Re=(0,R.zd)((0,R.pd)(h)),$e=null!==(g=Re.apiKey)&&void 0!==g?g:null,lt=null!==(v=Re.oobCode)&&void 0!==v?v:null,it=function cu(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Re.mode)&&void 0!==S?S:null);U($e&&lt&&it,"argument-error"),this.apiKey=$e,this.operation=it,this.code=lt,this.continueUrl=null!==(P=Re.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(G=Re.languageCode)&&void 0!==G?G:null,this.tenantId=null!==(ae=Re.tenantId)&&void 0!==ae?ae:null}static parseLink(h){const g=function uu(_){const h=(0,R.zd)((0,R.pd)(_)).link,g=h?(0,R.zd)((0,R.pd)(h)).deep_link_id:null,v=(0,R.zd)((0,R.pd)(_)).deep_link_id;return(v?(0,R.zd)((0,R.pd)(v)).link:null)||v||g||h||_}(h);try{return new Oa(g)}catch{return null}}}let ri=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,v){return Gl._fromEmailAndPassword(g,v)}static credentialWithLink(g,v){const S=Oa.parseLink(v);return U(S,"argument-error"),Gl._fromEmailAndCode(g,S.code,S.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class wi{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class bi extends wi{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Cs extends bi{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return U("providerId"in g&&"signInMethod"in g,"argument-error"),Ei._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return U(h.idToken||h.accessToken,"argument-error"),Ei._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Cs.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Cs.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:v,oauthTokenSecret:S,pendingToken:P,nonce:G,providerId:ae}=h;if(!v&&!S&&!g&&!P||!ae)return null;try{return new Cs(ae)._credential({idToken:g,accessToken:v,nonce:G,pendingToken:P})}catch{return null}}}let Bo=(()=>{class _ extends bi{constructor(){super("facebook.com")}static credential(g){return Ei._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),xa=(()=>{class _ extends bi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,v){return Ei._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:v})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:S}=g;if(!v&&!S)return null;try{return _.credential(v,S)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Zl=(()=>{class _ extends bi{constructor(){super("github.com")}static credential(g){return Ei._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class eo extends Kn{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return Ln(h,this.buildRequest())}_linkToIdToken(h,g){const v=this.buildRequest();return v.idToken=g,Ln(h,v)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,Ln(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:S,pendingToken:P}=g;return v&&S&&P&&v===S?new eo(v,P):null}static _create(h,g){return new eo(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Tr extends wi{constructor(h){U(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Tr.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Tr.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=eo.fromJSON(h);return U(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:v}=h;if(!g||!v)return null;try{return eo._create(v,g)}catch{return null}}}let yr=(()=>{class _ extends bi{constructor(){super("twitter.com")}static credential(g,v){return Ei._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:v})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:v,oauthTokenSecret:S}=g;if(!v||!S)return null;try{return _.credential(v,S)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function to(_,h){return du.apply(this,arguments)}function du(){return(du=(0,u.Z)(function*(_,h){return ar(_,"POST","/v1/accounts:signUp",Et(_,h))})).apply(this,arguments)}class nr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,v,S=!1){return(0,u.Z)(function*(){const P=yield bt._fromIdTokenResponse(h,v,S),G=Bd(v);return new nr({user:P,providerId:G,_tokenResponse:v,operationType:g})})()}static _forOperation(h,g,v){return(0,u.Z)(function*(){yield h._updateTokensIfNecessary(v,!0);const S=Bd(v);return new nr({user:h,providerId:S,_tokenResponse:v,operationType:g})})()}}function Bd(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function yn(){return(yn=(0,u.Z)(function*(_){var h;const g=ln(_);if(yield g._initializationPromise,null!==(h=g.currentUser)&&void 0!==h&&h.isAnonymous)return new nr({user:g.currentUser,providerId:null,operationType:"signIn"});const v=yield to(g,{returnSecureToken:!0}),S=yield nr._fromIdTokenResponse(g,"signIn",v,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class Ra extends R.ZR{constructor(h,g,v,S){var P;super(g.code,g.message),this.operationType=v,this.user=S,Object.setPrototypeOf(this,Ra.prototype),this.customData={appName:h.name,tenantId:null!==(P=h.tenantId)&&void 0!==P?P:void 0,_serverResponse:g.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(h,g,v,S){return new Ra(h,g,v,S)}}function jd(_,h,g,v){return("reauthenticate"===h?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Ra._fromErrorAndOperation(_,P,h,v):P})}function Sr(_){return new Set(_.map(({providerId:h})=>h).filter(h=>!!h))}function Na(){return(Na=(0,u.Z)(function*(_,h){const g=(0,R.m9)(_);yield Ft(!0,g,h);const{providerUserInfo:v}=yield er(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),S=Sr(v||[]);return g.providerData=g.providerData.filter(P=>S.has(P.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function no(_,h){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,u.Z)(function*(_,h,g=!1){const v=yield Bn(_,h._linkToIdToken(_.auth,yield _.getIdToken()),g);return nr._forOperation(_,"link",v)})).apply(this,arguments)}function Ft(_,h,g){return ka.apply(this,arguments)}function ka(){return(ka=(0,u.Z)(function*(_,h,g){yield Ht(h);const S=!1===_?"provider-already-linked":"no-such-provider";U(Sr(h.providerData).has(g)===_,h.auth,S)})).apply(this,arguments)}function Es(_,h){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,u.Z)(function*(_,h,g=!1){var v;const{auth:S}=_,P="reauthenticate";try{const G=yield Bn(_,jd(S,P,h,_),g);U(G.idToken,S,"internal-error");const ae=Qe(G.idToken);U(ae,S,"internal-error");const{sub:Re}=ae;return U(_.uid===Re,S,"user-mismatch"),nr._forOperation(_,P,G)}catch(G){throw"auth/user-not-found"===(null===(v=G)||void 0===v?void 0:v.code)&&Ie(S,"user-mismatch"),G}})).apply(this,arguments)}function jr(_,h){return La.apply(this,arguments)}function La(){return(La=(0,u.Z)(function*(_,h,g=!1){const v="signIn",S=yield jd(_,v,h),P=yield nr._fromIdTokenResponse(_,v,S);return g||(yield _._updateCurrentUser(P.user)),P})).apply(this,arguments)}function pn(_,h){return mt.apply(this,arguments)}function mt(){return(mt=(0,u.Z)(function*(_,h){return jr(ln(_),h)})).apply(this,arguments)}function Va(_,h){return $d.apply(this,arguments)}function $d(){return($d=(0,u.Z)(function*(_,h){const g=(0,R.m9)(_);return yield Ft(!1,g,h.providerId),no(g,h)})).apply(this,arguments)}function Ua(_,h){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,u.Z)(function*(_,h){return Es((0,R.m9)(_),h)})).apply(this,arguments)}function ql(_,h){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,u.Z)(function*(_,h){return ar(_,"POST","/v1/accounts:signInWithCustomToken",Et(_,h))})).apply(this,arguments)}function Ho(){return(Ho=(0,u.Z)(function*(_,h){const g=ln(_),v=yield ql(g,{token:h,returnSecureToken:!0}),S=yield nr._fromIdTokenResponse(g,"signIn",v);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class be{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?At._fromServerResponse(h,g):Ie(h,"internal-error")}}class At extends be{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new At(g)}}function Ha(_,h,g){var v;U((null===(v=g.url)||void 0===v?void 0:v.length)>0,_,"invalid-continue-uri"),U(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(U(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(U(g.android.packageName.length>0,_,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function vn(){return(vn=(0,u.Z)(function*(_,h,g){const v=(0,R.m9)(_),S={requestType:"PASSWORD_RESET",email:h};g&&Ha(v,S,g),yield $n(v,S)})).apply(this,arguments)}function ro(){return(ro=(0,u.Z)(function*(_,h,g){yield xn((0,R.m9)(_),{oobCode:h,newPassword:g})})).apply(this,arguments)}function jo(){return(jo=(0,u.Z)(function*(_,h){yield Hl((0,R.m9)(_),{oobCode:h})})).apply(this,arguments)}function $o(_,h){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,u.Z)(function*(_,h){const g=(0,R.m9)(_),v=yield xn(g,{oobCode:h}),S=v.requestType;switch(U(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":U(v.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":U(v.mfaInfo,g,"internal-error");default:U(v.email,g,"internal-error")}let P=null;return v.mfaInfo&&(P=be._fromServerResponse(ln(g),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:P},operation:S}})).apply(this,arguments)}function hu(){return(hu=(0,u.Z)(function*(_,h){const{data:g}=yield $o((0,R.m9)(_),h);return g.email})).apply(this,arguments)}function Cn(){return(Cn=(0,u.Z)(function*(_,h,g){const v=ln(_),S=yield to(v,{returnSecureToken:!0,email:h,password:g}),P=yield nr._fromIdTokenResponse(v,"signIn",S);return yield v._updateCurrentUser(P.user),P})).apply(this,arguments)}function ws(){return(ws=(0,u.Z)(function*(_,h,g){const v=(0,R.m9)(_),S={requestType:"EMAIL_SIGNIN",email:h};U(g.handleCodeInApp,v,"argument-error"),g&&Ha(v,S,g),yield Pa(v,S)})).apply(this,arguments)}function Go(){return(Go=(0,u.Z)(function*(_,h,g){const v=(0,R.m9)(_),S=ri.credentialWithLink(h,g||Pe());return U(S._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),pn(v,S)})).apply(this,arguments)}function bf(_,h){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,u.Z)(function*(_,h){return Zt(_,"POST","/v1/accounts:createAuthUri",Et(_,h))})).apply(this,arguments)}function zo(){return(zo=(0,u.Z)(function*(_,h){const v={identifier:h,continueUri:et()?Pe():"http://localhost"},{signinMethods:S}=yield bf((0,R.m9)(_),v);return S||[]})).apply(this,arguments)}function Zo(){return(Zo=(0,u.Z)(function*(_,h){const g=(0,R.m9)(_),S={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};h&&Ha(g.auth,S,h);const{email:P}=yield jn(g.auth,S);P!==_.email&&(yield _.reload())})).apply(this,arguments)}function Ga(){return(Ga=(0,u.Z)(function*(_,h,g){const v=(0,R.m9)(_),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:h};g&&Ha(v.auth,P,g);const{email:G}=yield $l(v.auth,P);G!==_.email&&(yield _.reload())})).apply(this,arguments)}function za(_,h){return nc.apply(this,arguments)}function nc(){return(nc=(0,u.Z)(function*(_,h){return Zt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ic(){return(ic=(0,u.Z)(function*(_,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const v=(0,R.m9)(_),P={idToken:yield v.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},G=yield Bn(v,za(v.auth,P));v.displayName=G.displayName||null,v.photoURL=G.photoUrl||null;const ae=v.providerData.find(({providerId:Re})=>"password"===Re);ae&&(ae.displayName=v.displayName,ae.photoURL=v.photoURL),yield v._updateTokensIfNecessary(G)})).apply(this,arguments)}function Ds(_,h,g){return Za.apply(this,arguments)}function Za(){return(Za=(0,u.Z)(function*(_,h,g){const{auth:v}=_,P={idToken:yield _.getIdToken(),returnSecureToken:!0};h&&(P.email=h),g&&(P.password=g);const G=yield Bn(_,Kt(v,P));yield _._updateTokensIfNecessary(G,!0)})).apply(this,arguments)}class vr{constructor(h,g,v={}){this.isNewUser=h,this.providerId=g,this.profile=v}}class sn extends vr{constructor(h,g,v,S){super(h,g,v),this.username=S}}class sc extends vr{constructor(h,g){super(h,"facebook.com",g)}}class oc extends sn{constructor(h,g){super(h,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class pu extends vr{constructor(h,g){super(h,"google.com",g)}}class ac extends sn{constructor(h,g,v){super(h,"twitter.com",g,v)}}function qa(_){const{user:h,_tokenResponse:g}=_;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Vn(_){var h,g;if(!_)return null;const{providerId:v}=_,S=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},P=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!v&&_?.idToken){const G=null===(g=null===(h=Qe(_.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(G)return new vr(P,"anonymous"!==G&&"custom"!==G?G:null)}if(!v)return null;switch(v){case"facebook.com":return new sc(P,S);case"github.com":return new oc(P,S);case"google.com":return new pu(P,S);case"twitter.com":return new ac(P,S,_.screenName||null);case"custom":case"anonymous":return new vr(P,null);default:return new vr(P,v,S)}}(g)}class Ts{constructor(h,g,v){this.type=h,this.credential=g,this.auth=v}static _fromIdtoken(h,g){return new Ts("enroll",h,g)}static _fromMfaPendingCredential(h){return new Ts("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,v;if(h?.multiFactorSession){if(null!==(g=h.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Ts._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(v=h.multiFactorSession)&&void 0!==v&&v.idToken)return Ts._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Ya{constructor(h,g,v){this.session=h,this.hints=g,this.signInResolver=v}static _fromError(h,g){const v=ln(h),S=g.customData._serverResponse,P=(S.mfaInfo||[]).map(ae=>be._fromServerResponse(v,ae));U(S.mfaPendingCredential,v,"internal-error");const G=Ts._fromMfaPendingCredential(S.mfaPendingCredential);return new Ya(G,P,function(){var ae=(0,u.Z)(function*(Re){const $e=yield Re._process(v,G);delete S.mfaInfo,delete S.mfaPendingCredential;const lt=Object.assign(Object.assign({},S),{idToken:$e.idToken,refreshToken:$e.refreshToken});switch(g.operationType){case"signIn":const it=yield nr._fromIdTokenResponse(v,g.operationType,lt);return yield v._updateCurrentUser(it.user),it;case"reauthenticate":return U(g.user,v,"internal-error"),nr._forOperation(g.user,g.operationType,lt);default:Ie(v,"internal-error")}});return function(Re){return ae.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,u.Z)(function*(){return g.signInResolver(h)})()}}function Qa(_,h){return Zt(_,"POST","/v2/accounts/mfaEnrollment:start",Et(_,h))}class Wd{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(v=>be._fromServerResponse(h.auth,v)))})}static _fromUser(h){return new Wd(h)}getSession(){var h=this;return(0,u.Z)(function*(){return Ts._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,g){var v=this;return(0,u.Z)(function*(){const S=h,P=yield v.getSession(),G=yield Bn(v.user,S._process(v.user.auth,P,g));return yield v.user._updateTokensIfNecessary(G),v.user.reload()})()}unenroll(h){var g=this;return(0,u.Z)(function*(){var v;const S="string"==typeof h?h:h.uid,P=yield g.user.getIdToken(),G=yield Bn(g.user,function yu(_,h){return Zt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Et(_,h))}(g.user.auth,{idToken:P,mfaEnrollmentId:S}));g.enrolledFactors=g.enrolledFactors.filter(({uid:ae})=>ae!==S),yield g.user._updateTokensIfNecessary(G);try{yield g.user.reload()}catch(ae){if("auth/user-token-expired"!==(null===(v=ae)||void 0===v?void 0:v.code))throw ae}})()}}const Ss=new WeakMap,Ms="__sak";class Xa{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Ms,"1"),this.storage.removeItem(Ms),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ko=(()=>{class _ extends Xa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,v)=>this.onStorageEvent(g,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function qo(){const _=(0,R.z$)();return tt(_)||Tt(_)}()&&function rn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ms(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const v of Object.keys(this.listeners)){const S=this.storage.getItem(v),P=this.localCache[v];S!==P&&g(v,P,S)}}onStorageEvent(g,v=!1){if(!g.key)return void this.forAllChangedKeys((ae,Re,$e)=>{this.notifyListeners(ae,$e)});const S=g.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ae=this.storage.getItem(S);if(g.newValue!==ae)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!v)return}const P=()=>{const ae=this.storage.getItem(S);!v&&this.localCache[S]===ae||this.notifyListeners(S,ae)},G=this.storage.getItem(S);!function Fn(){return(0,R.w1)()&&10===document.documentMode}()||G===g.newValue||g.newValue===g.oldValue?P():setTimeout(P,10)}notifyListeners(g,v){this.localCache[g]=v;const S=this.listeners[g];if(S)for(const P of Array.from(S))P(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,v,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:v,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,v){var S=()=>super._set,P=this;return(0,u.Z)(function*(){yield S().call(P,g,v),P.localCache[g]=JSON.stringify(v)})()}_get(g){var v=()=>super._get,S=this;return(0,u.Z)(function*(){const P=yield v().call(S,g);return S.localCache[g]=JSON.stringify(P),P})()}_remove(g){var v=()=>super._remove,S=this;return(0,u.Z)(function*(){yield v().call(S,g),delete S.localCache[g]})()}}return _.type="LOCAL",_})(),si=(()=>{class _ extends Xa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,v){}_removeListener(g,v){}}return _.type="SESSION",_})();let Eu=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const v=this.receivers.find(P=>P.isListeningto(g));if(v)return v;const S=new _(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var v=this;return(0,u.Z)(function*(){const S=g,{eventId:P,eventType:G,data:ae}=S.data,Re=v.handlersMap[G];if(!Re?.size)return;S.ports[0].postMessage({status:"ack",eventId:P,eventType:G});const $e=Array.from(Re).map(function(){var it=(0,u.Z)(function*(qt){return qt(S.origin,ae)});return function(qt){return it.apply(this,arguments)}}()),lt=yield function Qo(_){return Promise.all(_.map(function(){var h=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(v){return{fulfilled:!1,reason:v}}});return function(g){return h.apply(this,arguments)}}()))}($e);S.ports[0].postMessage({status:"done",eventId:P,eventType:G,response:lt})})()}_subscribe(g,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(v)}_unsubscribe(g,v){this.handlersMap[g]&&v&&this.handlersMap[g].delete(v),(!v||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Jo(_="",h=10){let g="";for(let v=0;v<h;v++)g+=Math.floor(10*Math.random());return _+g}class lc{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,v=50){var S=this;return(0,u.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let G,ae;return new Promise((Re,$e)=>{const lt=Jo("",20);P.port1.start();const it=setTimeout(()=>{$e(new Error("unsupported_event"))},v);ae={messageChannel:P,onMessage(qt){const Rr=qt;if(Rr.data.eventId===lt)switch(Rr.data.status){case"ack":clearTimeout(it),G=setTimeout(()=>{$e(new Error("timeout"))},3e3);break;case"done":clearTimeout(G),Re(Rr.data.response);break;default:clearTimeout(it),clearTimeout(G),$e(new Error("invalid_response"))}}},S.handlers.add(ae),P.port1.addEventListener("message",ae.onMessage),S.target.postMessage({eventType:h,eventId:lt,data:g},[P.port2])}).finally(()=>{ae&&S.removeMessageHandler(ae)})})()}}function Dn(){return window}function el(){return typeof Dn().WorkerGlobalScope<"u"&&"function"==typeof Dn().importScripts}function Xo(){return(Xo=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ji="firebaseLocalStorageDb",Xi="firebaseLocalStorage",rl="fbase_key";class Ps{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function ea(_,h){return _.transaction([Xi],h?"readwrite":"readonly").objectStore(Xi)}function ao(){const _=indexedDB.open(Ji,1);return new Promise((h,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const v=_.result;try{v.createObjectStore(Xi,{keyPath:rl})}catch(S){g(S)}}),_.addEventListener("success",(0,u.Z)(function*(){const v=_.result;v.objectStoreNames.contains(Xi)?h(v):(v.close(),yield function bu(){const _=indexedDB.deleteDatabase(Ji);return new Ps(_).toPromise()}(),h(yield ao()))}))})}function Mi(_,h,g){return cc.apply(this,arguments)}function cc(){return(cc=(0,u.Z)(function*(_,h,g){const v=ea(_,!0).put({[rl]:h,value:g});return new Ps(v).toPromise()})).apply(this,arguments)}function ta(){return(ta=(0,u.Z)(function*(_,h){const g=ea(_,!1).get(h),v=yield new Ps(g).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function Os(_,h){const g=ea(_,!0).delete(h);return new Ps(g).toPromise()}const lo=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield ao()),g.db})()}_withRetries(g){var v=this;return(0,u.Z)(function*(){let S=0;for(;;)try{const P=yield v._openDb();return yield g(P)}catch(P){if(S++>3)throw P;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return el()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=Eu._getInstance(function nl(){return el()?self:null}()),g.receiver._subscribe("keyChanged",function(){var v=(0,u.Z)(function*(S,P){return{keyProcessed:(yield g._poll()).includes(P.key)}});return function(S,P){return v.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var v=(0,u.Z)(function*(S,P){return["keyChanged"]});return function(S,P){return v.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var v,S;if(g.activeServiceWorker=yield function As(){return Xo.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new lc(g.activeServiceWorker);const P=yield g.sender._send("ping",{},800);!P||(null===(v=P[0])||void 0===v?void 0:v.fulfilled)&&(null===(S=P[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var v=this;return(0,u.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function tl(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:g},v.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield ao();return yield Mi(g,Ms,"1"),yield Os(g,Ms),!0}catch{}return!1})()}_withPendingWrite(g){var v=this;return(0,u.Z)(function*(){v.pendingWrites++;try{yield g()}finally{v.pendingWrites--}})()}_set(g,v){var S=this;return(0,u.Z)(function*(){return S._withPendingWrite((0,u.Z)(function*(){return yield S._withRetries(P=>Mi(P,g,v)),S.localCache[g]=v,S.notifyServiceWorker(g)}))})()}_get(g){var v=this;return(0,u.Z)(function*(){const S=yield v._withRetries(P=>function il(_,h){return ta.apply(this,arguments)}(P,g));return v.localCache[g]=S,S})()}_remove(g){var v=this;return(0,u.Z)(function*(){return v._withPendingWrite((0,u.Z)(function*(){return yield v._withRetries(S=>Os(S,g)),delete v.localCache[g],v.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const v=yield g._withRetries(G=>{const ae=ea(G,!1).getAll();return new Ps(ae).toPromise()});if(!v)return[];if(0!==g.pendingWrites)return[];const S=[],P=new Set;for(const{fbase_key:G,value:ae}of v)P.add(G),JSON.stringify(g.localCache[G])!==JSON.stringify(ae)&&(g.notifyListeners(G,ae),S.push(G));for(const G of Object.keys(g.localCache))g.localCache[G]&&!P.has(G)&&(g.notifyListeners(G,null),S.push(G));return S})()}notifyListeners(g,v){this.localCache[g]=v;const S=this.listeners[g];if(S)for(const P of Array.from(S))P(v)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function co(_,h){return Zt(_,"POST","/v2/accounts/mfaSignIn:start",Et(_,h))}function es(){return(es=(0,u.Z)(function*(_){return(yield Zt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ho(_){return new Promise((h,g)=>{const v=document.createElement("script");v.setAttribute("src",_),v.onload=h,v.onerror=S=>{const P=me("internal-error");P.customData=S,g(P)},v.type="text/javascript",v.charset="UTF-8",function uo(){var _,h;return null!==(h=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==h?h:document}().appendChild(v)})}function al(_){return`__${_}${Math.floor(1e6*Math.random())}`}const na=1e12;class tn{constructor(h){this.auth=h,this.counter=na,this._widgets=new Map}render(h,g){const v=this.counter;return this._widgets.set(v,new Df(h,this.auth.name,g||{})),this.counter++,v}reset(h){var g;const v=h||na;null===(g=this._widgets.get(v))||void 0===g||g.delete(),this._widgets.delete(v)}getResponse(h){var g;return(null===(g=this._widgets.get(h||na))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,u.Z)(function*(){var v;return null===(v=g._widgets.get(h||na))||void 0===v||v.execute(),""})()}}class Df{constructor(h,g,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof h?document.getElementById(h):h;U(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ig(_){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<_;v++)h.push(g.charAt(Math.floor(Math.random()*g.length)));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const If=al("rcb"),Tg=new zt(3e4,6e4);class Gd{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Dn().grecaptcha)||void 0===h||!h.render)}load(h,g=""){return U(function py(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),h,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Dn().grecaptcha):new Promise((v,S)=>{const P=Dn().setTimeout(()=>{S(me(h,"network-request-failed"))},Tg.get());Dn()[If]=()=>{Dn().clearTimeout(P),delete Dn()[If];const ae=Dn().grecaptcha;if(!ae)return void S(me(h,"internal-error"));const Re=ae.render;ae.render=($e,lt)=>{const it=Re($e,lt);return this.counter++,it},this.hostLanguage=g,v(ae)},ho(`https://www.google.com/recaptcha/api.js??${(0,R.xO)({onload:If,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(P),S(me(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var g;return!(null===(g=Dn().grecaptcha)||void 0===g||!g.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class dc{load(h){return(0,u.Z)(function*(){return new tn(h)})()}clearedOneInstance(){}}const Mg="recaptcha",Ag={theme:"light",type:"image"};class Gn{constructor(h,g=Object.assign({},Ag),v){this.parameters=g,this.type=Mg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ln(v),this.isInvisible="invisible"===this.parameters.size,U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof h?document.getElementById(h):h;U(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new dc:new Gd,this.validateStartingState()}verify(){var h=this;return(0,u.Z)(function*(){h.assertNotDestroyed();const g=yield h.render(),v=h.getAssertedRecaptcha();return v.getResponse(g)||new Promise(P=>{const G=ae=>{!ae||(h.tokenChangeListeners.delete(G),P(ae))};h.tokenChangeListeners.add(G),h.isInvisible&&v.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(v=>v(g)),"function"==typeof h)h(g);else if("string"==typeof h){const v=Dn()[h];"function"==typeof v&&v(g)}}}assertNotDestroyed(){U(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,u.Z)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const v=document.createElement("div");g.appendChild(v),g=v}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,u.Z)(function*(){U(et()&&!el(),h.auth,"internal-error"),yield function cn(){let _=null;return new Promise(h=>{"complete"!==document.readyState?(_=()=>h(),window.addEventListener("load",_)):h()}).catch(h=>{throw _&&window.removeEventListener("load",_),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function Cr(_){return es.apply(this,arguments)}(h.auth);U(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ar{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=Ki._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function Pr(){return(Pr=(0,u.Z)(function*(_,h,g){const v=ln(_),S=yield ts(v,h,(0,R.m9)(g));return new Ar(S,P=>pn(v,P))})).apply(this,arguments)}function Wr(){return(Wr=(0,u.Z)(function*(_,h,g){const v=(0,R.m9)(_);yield Ft(!1,v,"phone");const S=yield ts(v.auth,h,(0,R.m9)(g));return new Ar(S,P=>Va(v,P))})).apply(this,arguments)}function dr(){return(dr=(0,u.Z)(function*(_,h,g){const v=(0,R.m9)(_),S=yield ts(v.auth,h,(0,R.m9)(g));return new Ar(S,P=>Ua(v,P))})).apply(this,arguments)}function ts(_,h,g){return ll.apply(this,arguments)}function ll(){return(ll=(0,u.Z)(function*(_,h,g){var v;const S=yield g.verify();try{let P;if(U("string"==typeof S,_,"argument-error"),U(g.type===Mg,_,"argument-error"),P="string"==typeof h?{phoneNumber:h}:h,"session"in P){const G=P.session;if("phoneNumber"in P)return U("enroll"===G.type,_,"internal-error"),(yield Qa(_,{idToken:G.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{U("signin"===G.type,_,"internal-error");const ae=(null===(v=P.multiFactorHint)||void 0===v?void 0:v.uid)||P.multiFactorUid;return U(ae,_,"missing-multi-factor-info"),(yield co(_,{mfaPendingCredential:G.credential,mfaEnrollmentId:ae,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:G}=yield vf(_,{phoneNumber:P.phoneNumber,recaptchaToken:S});return G}}finally{g._reset()}})).apply(this,arguments)}function hc(){return(hc=(0,u.Z)(function*(_,h){yield no((0,R.m9)(_),h)})).apply(this,arguments)}let ia=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=ln(g)}verifyPhoneNumber(g,v){return ts(this.auth,g,(0,R.m9)(v))}static credential(g,v){return Ki._fromVerification(g,v)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:v,temporaryProof:S}=g;return v&&S?Ki._fromTokenResponse(v,S):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function po(_,h){return h?re(h):(U(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Pi extends Kn{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Ln(h,this._buildIdpRequest())}_linkToIdToken(h,g){return Ln(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return Ln(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function st(_){return jr(_.auth,new Pi(_),_.bypassAuthState)}function sa(_){const{auth:h,user:g}=_;return U(g,h,"internal-error"),Es(g,new Pi(_),_.bypassAuthState)}function ns(_){return oa.apply(this,arguments)}function oa(){return(oa=(0,u.Z)(function*(_){const{auth:h,user:g}=_;return U(g,h,"internal-error"),no(g,new Pi(_),_.bypassAuthState)})).apply(this,arguments)}class go{constructor(h,g,v,S,P=!1){this.auth=h,this.resolver=v,this.user=S,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,u.Z)(function*(v,S){h.pendingPromise={resolve:v,reject:S};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(P){h.reject(P)}});return function(v,S){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,u.Z)(function*(){const{urlResponse:v,sessionId:S,postBody:P,tenantId:G,error:ae,type:Re}=h;if(ae)return void g.reject(ae);const $e={auth:g.auth,requestUri:v,sessionId:S,tenantId:G||void 0,postBody:P||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Re)($e))}catch(lt){g.reject(lt)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return st;case"linkViaPopup":case"linkViaRedirect":return ns;case"reauthViaPopup":case"reauthViaRedirect":return sa;default:Ie(this.auth,"internal-error")}}resolve(h){z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const In=new zt(2e3,1e4);function mo(){return(mo=(0,u.Z)(function*(_,h,g){const v=ln(_);ke(_,h,wi);const S=po(v,g);return new rs(v,"signInViaPopup",h,S).executeNotNull()})).apply(this,arguments)}function pc(){return(pc=(0,u.Z)(function*(_,h,g){const v=(0,R.m9)(_);ke(v.auth,h,wi);const S=po(v.auth,g);return new rs(v.auth,"reauthViaPopup",h,S,v).executeNotNull()})).apply(this,arguments)}function aa(){return(aa=(0,u.Z)(function*(_,h,g){const v=(0,R.m9)(_);ke(v.auth,h,wi);const S=po(v.auth,g);return new rs(v.auth,"linkViaPopup",h,S,v).executeNotNull()})).apply(this,arguments)}let rs=(()=>{class _ extends go{constructor(g,v,S,P,G){super(g,v,P,G),this.provider=S,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const v=yield g.execute();return U(v,g.auth,"internal-error"),v})()}onExecution(){var g=this;return(0,u.Z)(function*(){z(1===g.filter.length,"Popup operations only handle one event");const v=Jo();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],v),g.authWindow.associatedEvent=v,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(me(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var v,S;this.pollId=null!==(S=null===(v=this.authWindow)||void 0===v?void 0:v.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,In.get())};g()}}return _.currentPopupAction=null,_})();const Gr=new Map;class gc extends go{constructor(h,g,v=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,v),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,u.Z)(function*(){let v=Gr.get(g.auth._key());if(!v){try{const P=(yield function _o(_,h){return Er.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;v=()=>Promise.resolve(P)}catch(S){v=()=>Promise.reject(S)}Gr.set(g.auth._key(),v)}return g.bypassAuthState||Gr.set(g.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,v=this;return(0,u.Z)(function*(){if("signInViaRedirect"===h.type)return g().call(v,h);if("unknown"!==h.type){if(h.eventId){const S=yield v.auth._redirectUserForId(h.eventId);if(S)return v.user=S,g().call(v,h);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Er(){return(Er=(0,u.Z)(function*(_,h){const g=Tn(h),v=Ri(_);if(!(yield v._isAvailable()))return!1;const S="true"===(yield v._get(g));return yield v._remove(g),S})).apply(this,arguments)}function xi(_,h){return oi.apply(this,arguments)}function oi(){return(oi=(0,u.Z)(function*(_,h){return Ri(_)._set(Tn(h),"true")})).apply(this,arguments)}function is(_,h){Gr.set(_._key(),h)}function Ri(_){return re(_._redirectPersistence)}function Tn(_){return Z("pendingRedirect",_.config.apiKey,_.name)}function b(){return(b=(0,u.Z)(function*(_,h,g){const v=ln(_);ke(_,h,wi);const S=po(v,g);return yield xi(S,v),S._openRedirect(v,h,"signInViaRedirect")})).apply(this,arguments)}function L(){return(L=(0,u.Z)(function*(_,h,g){const v=(0,R.m9)(_);ke(v.auth,h,wi);const S=po(v.auth,g);yield xi(S,v.auth);const P=yield rt(v);return S._openRedirect(v.auth,h,"reauthViaRedirect",P)})).apply(this,arguments)}function ve(){return(ve=(0,u.Z)(function*(_,h,g){const v=(0,R.m9)(_);ke(v.auth,h,wi);const S=po(v.auth,g);yield Ft(!1,v,h.providerId),yield xi(S,v.auth);const P=yield rt(v);return S._openRedirect(v.auth,h,"linkViaRedirect",P)})).apply(this,arguments)}function qe(){return(qe=(0,u.Z)(function*(_,h){return yield ln(_)._initializationPromise,ut(_,h,!1)})).apply(this,arguments)}function ut(_,h){return vt.apply(this,arguments)}function vt(){return(vt=(0,u.Z)(function*(_,h,g=!1){const v=ln(_),S=po(v,h),G=yield new gc(v,S,g).execute();return G&&!g&&(delete G.user._redirectEventId,yield v._persistUserIfCurrent(G.user),yield v._setRedirectUser(null,h)),G})).apply(this,arguments)}function rt(_){return dn.apply(this,arguments)}function dn(){return(dn=(0,u.Z)(function*(_){const h=Jo(`${_.uid}:::`);return _._redirectEventId=h,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),h})).apply(this,arguments)}class yo{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(h,v)&&(g=!0,this.sendToConsumer(h,v),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function ai(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yt(_);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var v;if(h.error&&!yt(h)){const S=(null===(v=h.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";g.onError(me(this.auth,S))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const v=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&v}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ss(h))}saveEventToCache(h){this.cachedEventUids.add(ss(h)),this.lastProcessedEventTime=Date.now()}}function ss(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(h=>h).join("-")}function yt({type:_,error:h}){return"unknown"===_&&"auth/no-auth-event"===h?.code}function os(_){return Or.apply(this,arguments)}function Or(){return(Or=(0,u.Z)(function*(_,h={}){return Zt(_,"GET","/v1/projects",h)})).apply(this,arguments)}const vo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rs=/^https?/;function Zd(){return(Zd=(0,u.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:h}=yield os(_);for(const g of h)try{if(Mf(g))return}catch{}Ie(_,"unauthorized-domain")})).apply(this,arguments)}function Mf(_){const h=Pe(),{protocol:g,hostname:v}=new URL(h);if(_.startsWith("chrome-extension://")){const G=new URL(_);return""===G.hostname&&""===v?"chrome-extension:"===g&&_.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&G.hostname===v}if(!Rs.test(g))return!1;if(vo.test(_))return v===_;const S=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(v)}const Af=new zt(3e4,6e4);function Pg(){const _=Dn().___jsl;if(_?.H)for(const h of Object.keys(_.H))if(_.H[h].r=_.H[h].r||[],_.H[h].L=_.H[h].L||[],_.H[h].r=[..._.H[h].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let li=null;function qd(_){return li=li||function Un(_){return new Promise((h,g)=>{var v,S,P;function G(){Pg(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Pg(),g(me(_,"network-request-failed"))},timeout:Af.get()})}if(null!==(S=null===(v=Dn().gapi)||void 0===v?void 0:v.iframes)&&void 0!==S&&S.Iframe)h(gapi.iframes.getContext());else{if(null===(P=Dn().gapi)||void 0===P||!P.load){const ae=al("iframefcb");return Dn()[ae]=()=>{gapi.load?G():g(me(_,"network-request-failed"))},ho(`https://apis.google.com/js/api.js?onload=${ae}`).catch(Re=>g(Re))}G()}}).catch(h=>{throw li=null,h})}(_),li}const Pf=new zt(5e3,15e3),Og={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Of(_){const h=_.config;U(h.authDomain,_,"auth-domain-config-required");const g=h.emulator?nn(h,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,v={apiKey:h.apiKey,appName:_.name,v:se.SDK_VERSION},S=Yd.get(_.config.apiHost);S&&(v.eid=S);const P=_._getFrameworks();return P.length&&(v.fw=P.join(",")),`${g}?${(0,R.xO)(v).slice(1)}`}function la(){return la=(0,u.Z)(function*(_){const h=yield qd(_),g=Dn().gapi;return U(g,_,"internal-error"),h.open({where:document.body,url:Of(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Og,dontclear:!0},v=>new Promise(function(){var S=(0,u.Z)(function*(P,G){yield v.restyle({setHideOnLeave:!1});const ae=me(_,"network-request-failed"),Re=Dn().setTimeout(()=>{G(ae)},Pf.get());function $e(){Dn().clearTimeout(Re),P(v)}v.ping($e).then($e,()=>{G(ae)})});return function(P,G){return S.apply(this,arguments)}}()))}),la.apply(this,arguments)}const Du={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class mc{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Su(_,h,g,v,S,P){U(_.config.authDomain,_,"auth-domain-config-required"),U(_.config.apiKey,_,"invalid-api-key");const G={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:v,v:se.SDK_VERSION,eventId:S};if(h instanceof wi){h.setDefaultLanguage(_.languageCode),G.providerId=h.providerId||"",(0,R.xb)(h.getCustomParameters())||(G.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Re,$e]of Object.entries(P||{}))G[Re]=$e}if(h instanceof bi){const Re=h.getScopes().filter($e=>""!==$e);Re.length>0&&(G.scopes=Re.join(","))}_.tenantId&&(G.tid=_.tenantId);const ae=G;for(const Re of Object.keys(ae))void 0===ae[Re]&&delete ae[Re];return`${function Mu({config:_}){return _.emulator?nn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,R.xO)(ae).slice(1)}`}const ua="webStorageSupport";class ci extends class xg{constructor(h){this.factorId=h}_process(h,g,v){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,v);case"signin":return this._finalizeSignIn(h,g.credential);default:return pe("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new ci(h)}_finalizeEnroll(h,g,v){return function Ja(_,h){return Zt(_,"POST","/v2/accounts/mfaEnrollment:finalize",Et(_,h))}(h,{idToken:g,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function ol(_,h){return Zt(_,"POST","/v2/accounts/mfaSignIn:finalize",Et(_,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Co=(()=>{class _{constructor(){}static assertion(g){return ci._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var Jd="@firebase/auth",kf="0.20.11";class my{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(v=>{var S;h((null===(S=v)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);!g||(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function da(){return window}function ha(){return(ha=(0,u.Z)(function*(_,h,g){var v;const{BuildInfo:S}=da();z(h.sessionId,"AuthEvent did not contain a session ID");const P=yield fa(h.sessionId),G={};return Tt()?G.ibi=S.packageName:kt()?G.apn=S.packageName:Ie(_,"operation-not-supported-in-this-environment"),S.displayName&&(G.appDisplayName=S.displayName),G.sessionId=P,Su(_,g,h.type,void 0,null!==(v=h.eventId)&&void 0!==v?v:void 0,G)})).apply(this,arguments)}function ul(){return(ul=(0,u.Z)(function*(_){const{BuildInfo:h}=da(),g={};Tt()?g.iosBundleId=h.packageName:kt()?g.androidPackageName=h.packageName:Ie(_,"operation-not-supported-in-this-environment"),yield os(_,g)})).apply(this,arguments)}function Vf(){return(Vf=(0,u.Z)(function*(_,h,g){const{cordova:v}=da();let S=()=>{};try{yield new Promise((P,G)=>{let ae=null;function Re(){var it;P();const qt=null===(it=v.plugins.browsertab)||void 0===it?void 0:it.close;"function"==typeof qt&&qt(),"function"==typeof g?.close&&g.close()}function $e(){ae||(ae=window.setTimeout(()=>{G(me(_,"redirect-cancelled-by-user"))},2e3))}function lt(){"visible"===document?.visibilityState&&$e()}h.addPassiveListener(Re),document.addEventListener("resume",$e,!1),kt()&&document.addEventListener("visibilitychange",lt,!1),S=()=>{h.removePassiveListener(Re),document.removeEventListener("resume",$e,!1),document.removeEventListener("visibilitychange",lt,!1),ae&&window.clearTimeout(ae)}})}finally{S()}})).apply(this,arguments)}function fa(_){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,u.Z)(function*(_){const h=vc(_),g=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(g)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function vc(_){if(z(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const h=new ArrayBuffer(_.length),g=new Uint8Array(h);for(let v=0;v<_.length;v++)g[v]=_.charCodeAt(v);return g}(0,R.Pz)("authIdTokenMaxAge"),function yy(_){(0,se._registerComponent)(new oe.wA("auth",(h,{options:g})=>{const v=h.getProvider("app").getImmediate(),S=h.getProvider("heartbeat"),{apiKey:P,authDomain:G}=v.options;return((ae,Re)=>{U(P&&!P.includes(":"),"invalid-api-key",{appName:ae.name}),U(!G?.includes(":"),"argument-error",{appName:ae.name});const $e={apiKey:P,authDomain:G,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wi(_)},lt=new Dt(ae,Re,$e);return function Oe(_,h){const g=h?.persistence||[],v=(Array.isArray(g)?g:[g]).map(re);h?.errorMap&&_._updateErrorMap(h.errorMap),_._initializeWithPersistence(v,h?.popupRedirectResolver)}(lt,g),lt})(v,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,v)=>{h.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new oe.wA("auth-internal",h=>{const g=ln(h.getProvider("auth").getImmediate());return new my(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(Jd,kf,function _y(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,se.registerVersion)(Jd,kf,"esm2017")}("Browser");class eh extends yo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(h)),super.onEvent(h)}initialized(){var h=this;return(0,u.Z)(function*(){yield h.initPromise})()}}function Bf(_){return th.apply(this,arguments)}function th(){return(th=(0,u.Z)(function*(_){const h=yield Cc()._get(Ls(_));return h&&(yield Cc()._remove(Ls(_))),h})).apply(this,arguments)}function Au(){const _=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const v=Math.floor(Math.random()*h.length);_.push(h.charAt(v))}return _.join("")}function Cc(){return re(Ko)}function Ls(_){return Z("authEvent",_.config.apiKey,_.name)}function Pu(_){if(!_?.includes("?"))return{};const[h,...g]=_.split("?");return(0,R.zd)(g.join("?"))}function xu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:me("no-auth-event")}}function Nu(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function hl(_=(0,R.z$)()){return!("file:"!==Nu()&&"ionic:"!==Nu()&&"capacitor:"!==Nu()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function zf(){try{const _=self.localStorage,h=Jo();if(_)return _.setItem(h,"1"),_.removeItem(h),!function Gf(_=(0,R.z$)()){return function $f(){return(0,R.w1)()&&11===document?.documentMode}()||function Wf(_=(0,R.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,R.hl)()}catch{return ku()&&(0,R.hl)()}return!1}function ku(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Fu(){return(function wy(){return"http:"===Nu()||"https:"===Nu()}()||(0,R.ru)()||hl())&&!function rh(){return(0,R.b$)()||(0,R.UG)()}()&&zf()&&!ku()}function Ec(){return hl()&&typeof document<"u"}function Lu(){return(Lu=(0,u.Z)(function*(){return!!Ec()&&new Promise(_=>{const h=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),_(!0)})})})).apply(this,arguments)}const hr={LOCAL:"local",NONE:"none",SESSION:"session"},xr=U,Zr="persistence";function fl(_){return pl.apply(this,arguments)}function pl(){return(pl=(0,u.Z)(function*(_){yield _._initializationPromise;const h=bc(),g=Z(Zr,_.config.apiKey,_.name);h&&h.setItem(g,_._getPersistence())})).apply(this,arguments)}function bc(){var _;try{return(null===(_=function wc(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const Vu=U;class rr{constructor(){this.browserResolver=re(class Nf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=si,this._completeRedirectFn=ut,this._overrideRedirectResult=is}_openPopup(h,g,v,S){var P=this;return(0,u.Z)(function*(){var G;z(null===(G=P.eventManagers[h._key()])||void 0===G?void 0:G.manager,"_initialize() not called before _openPopup()");const ae=Su(h,g,v,Pe(),S);return function ks(_,h,g,v=500,S=600){const P=Math.max((window.screen.availHeight-S)/2,0).toString(),G=Math.max((window.screen.availWidth-v)/2,0).toString();let ae="";const Re=Object.assign(Object.assign({},Du),{width:v.toString(),height:S.toString(),top:P,left:G}),$e=(0,R.z$)().toLowerCase();g&&(ae=Vt($e)?"_blank":g),Ve($e)&&(h=h||"http://localhost",Re.scrollbars="yes");const lt=Object.entries(Re).reduce((qt,[Rr,_a])=>`${qt}${Rr}=${_a},`,"");if(function _r(_=(0,R.z$)()){var h;return Tt(_)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}($e)&&"_self"!==ae)return function Rf(_,h){const g=document.createElement("a");g.href=_,g.target=h;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(v)}(h||"",ae),new mc(null);const it=window.open(h||"",ae,lt);U(it,_,"popup-blocked");try{it.focus()}catch{}return new mc(it)}(h,ae,Jo())})()}_openRedirect(h,g,v,S){var P=this;return(0,u.Z)(function*(){return yield P._originValidation(h),function $r(_){Dn().location.href=_}(Su(h,g,v,Pe(),S)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:S,promise:P}=this.eventManagers[g];return S?Promise.resolve(S):(z(P,"If manager is not set, promise should be"),P)}const v=this.initAndGetManager(h);return this.eventManagers[g]={promise:v},v.catch(()=>{delete this.eventManagers[g]}),v}initAndGetManager(h){var g=this;return(0,u.Z)(function*(){const v=yield function xf(_){return la.apply(this,arguments)}(h),S=new yo(h);return v.register("authEvent",P=>(U(P?.authEvent,h,"invalid-auth-event"),{status:S.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:S},g.iframes[h._key()]=v,S})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(ua,{type:ua},S=>{var P;const G=null===(P=S?.[0])||void 0===P?void 0:P[ua];void 0!==G&&g(!!G),Ie(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function zr(_){return Zd.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return ms()||tt()||Tt()}}),this.cordovaResolver=re(class Ou{constructor(){this._redirectPersistence=si,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ut,this._overrideRedirectResult=is}_initialize(h){var g=this;return(0,u.Z)(function*(){const v=h._key();let S=g.eventManagers.get(v);return S||(S=new eh(h),g.eventManagers.set(v,S),g.attachCallbackListeners(h,S)),S})()}_openPopup(h){Ie(h,"operation-not-supported-in-this-environment")}_openRedirect(h,g,v,S){var P=this;return(0,u.Z)(function*(){!function Ey(_){var h,g,v,S,P,G,ae,Re,$e,lt;const it=da();U("function"==typeof(null===(h=it?.universalLinks)||void 0===h?void 0:h.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),U(typeof(null===(g=it?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),U("function"==typeof(null===(P=null===(S=null===(v=it?.cordova)||void 0===v?void 0:v.plugins)||void 0===S?void 0:S.browsertab)||void 0===P?void 0:P.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(Re=null===(ae=null===(G=it?.cordova)||void 0===G?void 0:G.plugins)||void 0===ae?void 0:ae.browsertab)||void 0===Re?void 0:Re.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(lt=null===($e=it?.cordova)||void 0===$e?void 0:$e.InAppBrowser)||void 0===lt?void 0:lt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const G=yield P._initialize(h);yield G.initialized(),G.resetRedirect(),function Yn(){Gr.clear()}(),yield P._originValidation(h);const ae=function Uf(_,h,g=null){return{type:h,eventId:g,urlResponse:null,sessionId:Au(),postBody:null,tenantId:_.tenantId,error:me(_,"no-auth-event")}}(h,v,S);yield function dl(_,h){return Cc()._set(Ls(_),h)}(h,ae);const Re=yield function ui(_,h,g){return ha.apply(this,arguments)}(h,ae,g),$e=yield function Ng(_){const{cordova:h}=da();return new Promise(g=>{h.plugins.browsertab.isAvailable(v=>{let S=null;v?h.plugins.browsertab.openUrl(_):S=h.InAppBrowser.open(_,function Hn(_=(0,R.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(S)})})}(Re);return function Cy(_,h,g){return Vf.apply(this,arguments)}(h,G,$e)})()}_isIframeWebStorageSupported(h,g){throw new Error("Method not implemented.")}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Eo(_){return ul.apply(this,arguments)}(h)),this.originValidationPromises[g]}attachCallbackListeners(h,g){const{universalLinks:v,handleOpenURL:S,BuildInfo:P}=da(),G=setTimeout((0,u.Z)(function*(){yield Bf(h),g.onEvent(xu())}),500),ae=function(){var lt=(0,u.Z)(function*(it){clearTimeout(G);const qt=yield Bf(h);let Rr=null;qt&&it?.url&&(Rr=function nh(_,h){var g,v;const S=function Sn(_){const h=Pu(_),g=h.link?decodeURIComponent(h.link):void 0,v=Pu(g).link,S=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Pu(S).link||S||v||g||_}(h);if(S.includes("/__/auth/callback")){const P=Pu(S),G=P.firebaseError?function Fg(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(P.firebaseError)):null,ae=null===(v=null===(g=G?.code)||void 0===g?void 0:g.split("auth/"))||void 0===v?void 0:v[1],Re=ae?me(ae):null;return Re?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Re,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:S,postBody:null}}return null}(qt,it.url)),g.onEvent(Rr||xu())});return function(qt){return lt.apply(this,arguments)}}();typeof v<"u"&&"function"==typeof v.subscribe&&v.subscribe(null,ae);const Re=S,$e=`${P.packageName.toLowerCase()}://`;da().handleOpenURL=function(){var lt=(0,u.Z)(function*(it){if(it.toLowerCase().startsWith($e)&&ae({url:it}),"function"==typeof Re)try{Re(it)}catch(qt){console.error(qt)}});return function(it){return lt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=si,this._completeRedirectFn=ut,this._overrideRedirectResult=is}_initialize(h){var g=this;return(0,u.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,g,v,S){var P=this;return(0,u.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(h,g,v,S)})()}_openRedirect(h,g,v,S){var P=this;return(0,u.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(h,g,v,S)})()}_isIframeWebStorageSupported(h,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,g)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Ec()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Vu(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,u.Z)(function*(){if(h.underlyingResolver)return;const g=yield function by(){return Lu.apply(this,arguments)}();h.underlyingResolver=g?h.cordovaResolver:h.browserResolver})()}}function Uu(_){return _.unwrap()}function qf(_){return Ic(_)}function Ic(_){const{_tokenResponse:h}=_ instanceof R.ZR?_.customData:_;if(!h)return null;if(!(_ instanceof R.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return ia.credentialFromResult(_);const g=h.providerId;if(!g||"password"===g)return null;let v;switch(g){case"google.com":v=xa;break;case"facebook.com":v=Bo;break;case"github.com":v=Zl;break;case"twitter.com":v=yr;break;default:const{oauthIdToken:S,oauthAccessToken:P,oauthTokenSecret:G,pendingToken:ae,nonce:Re}=h;return P||G||S||ae?ae?g.startsWith("saml.")?eo._create(g,ae):Ei._fromParams({providerId:g,signInMethod:g,pendingToken:ae,idToken:S,accessToken:P}):new Cs(g).credential({idToken:S,accessToken:P,rawNonce:Re}):null}return _ instanceof R.ZR?v.credentialFromError(_):v.credentialFromResult(_)}function zn(_,h){return h.catch(g=>{throw g instanceof R.ZR&&function ih(_,h){var g,v;const S=null===(g=h.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null===(v=h)||void 0===v?void 0:v.code))h.resolver=new Vg(_,function En(_,h){var g;const v=(0,R.m9)(_),S=h;return U(h.customData.operationType,v,"argument-error"),U(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,v,"argument-error"),Ya._fromError(v,S)}(_,h));else if(S){const P=Ic(h),G=h;P&&(G.credential=P,G.tenantId=S.tenantId||void 0,G.email=S.email||void 0,G.phoneNumber=S.phoneNumber||void 0)}}(_,g),g}).then(g=>{const S=g.user;return{operationType:g.operationType,credential:qf(g),additionalUserInfo:qa(g),user:Ni.getOrCreate(S)}})}function ma(_,h){return sh.apply(this,arguments)}function sh(){return(sh=(0,u.Z)(function*(_,h){const g=yield h;return{verificationId:g.verificationId,confirm:v=>zn(_,g.confirm(v))}})).apply(this,arguments)}class Vg{constructor(h,g){this.resolver=g,this.auth=function Dc(_){return _.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return zn(Uu(this.auth),this.resolver.resolveSignIn(h))}}class Ni{constructor(h){this._delegate=h,this.multiFactor=function oo(_){const h=(0,R.m9)(_);return Ss.has(h)||Ss.set(h,Wd._fromUser(h)),Ss.get(h)}(h)}static getOrCreate(h){return Ni.USER_MAP.has(h)||Ni.USER_MAP.set(h,new Ni(h)),Ni.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var g=this;return(0,u.Z)(function*(){return zn(g.auth,Va(g._delegate,h))})()}linkWithPhoneNumber(h,g){var v=this;return(0,u.Z)(function*(){return ma(v.auth,function un(_,h,g){return Wr.apply(this,arguments)}(v._delegate,h,g))})()}linkWithPopup(h){var g=this;return(0,u.Z)(function*(){return zn(g.auth,function cl(_,h,g){return aa.apply(this,arguments)}(g._delegate,h,rr))})()}linkWithRedirect(h){var g=this;return(0,u.Z)(function*(){return yield fl(ln(g.auth)),function K(_,h,g){return function te(_,h,g){return ve.apply(this,arguments)}(_,h,g)}(g._delegate,h,rr)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var g=this;return(0,u.Z)(function*(){return zn(g.auth,Ua(g._delegate,h))})()}reauthenticateWithPhoneNumber(h,g){return ma(this.auth,function ra(_,h,g){return dr.apply(this,arguments)}(this._delegate,h,g))}reauthenticateWithPopup(h){return zn(this.auth,function Sf(_,h,g){return pc.apply(this,arguments)}(this._delegate,h,rr))}reauthenticateWithRedirect(h){var g=this;return(0,u.Z)(function*(){return yield fl(ln(g.auth)),function D(_,h,g){return function M(_,h,g){return L.apply(this,arguments)}(_,h,g)}(g._delegate,h,rr)})()}sendEmailVerification(h){return function ec(_,h){return Zo.apply(this,arguments)}(this._delegate,h)}unlink(h){var g=this;return(0,u.Z)(function*(){return yield function ur(_,h){return Na.apply(this,arguments)}(g._delegate,h),g})()}updateEmail(h){return function fu(_,h){return Ds((0,R.m9)(_),h,null)}(this._delegate,h)}updatePassword(h){return function bs(_,h){return Ds((0,R.m9)(_),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function Tf(_,h){return hc.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function rc(_,h){return ic.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,g){return function tc(_,h,g){return Ga.apply(this,arguments)}(this._delegate,h,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ni.USER_MAP=new WeakMap;const wo=U;let oh=(()=>{class _{constructor(g,v){if(this.app=g,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=g.options;wo(S,"invalid-api-key",{appName:g.name}),wo(S,"invalid-api-key",{appName:g.name});const P=typeof window<"u"?rr:void 0;this._delegate=v.initialize({options:{persistence:Kf(S,g.name),popupRedirectResolver:P}}),this._delegate._updateErrorMap(ye),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ni.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,v){!function Ma(_,h,g){const v=ln(_);U(v._canInitEmulator,v,"emulator-config-failed"),U(/^https?:\/\//.test(h),v,"invalid-emulator-scheme");const S=!!g?.disableWarnings,P=ni(h),{host:G,port:ae}=function On(_){const h=ni(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(h.length));if(!g)return{host:"",port:null};const v=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(v);if(S){const P=S[1];return{host:P,port:Gi(v.substr(P.length+1))}}{const[P,G]=v.split(":");return{host:P,port:Gi(G)}}}(h);v.config.emulator={url:`${P}//${G}${null===ae?"":`:${ae}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:G,port:ae,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function zi(){function _(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,v)}applyActionCode(g){return function Mr(_,h){return jo.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return $o(this._delegate,g)}confirmPasswordReset(g,v){return function $a(_,h,g){return ro.apply(this,arguments)}(this._delegate,g,v)}createUserWithEmailAndPassword(g,v){var S=this;return(0,u.Z)(function*(){return zn(S._delegate,function Wo(_,h,g){return Cn.apply(this,arguments)}(S._delegate,g,v))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Wa(_,h){return zo.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Si(_,h){return"EMAIL_SIGNIN"===Oa.parseLink(h)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,u.Z)(function*(){wo(Fu(),g._delegate,"operation-not-supported-in-this-environment");const v=yield function Me(_,h){return qe.apply(this,arguments)}(g._delegate,rr);return v?zn(g._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function pa(_,h){ln(_)._logFramework(h)}(this._delegate,g)}onAuthStateChanged(g,v,S){const{next:P,error:G,complete:ae}=Bu(g,v,S);return this._delegate.onAuthStateChanged(P,G,ae)}onIdTokenChanged(g,v,S){const{next:P,error:G,complete:ae}=Bu(g,v,S);return this._delegate.onIdTokenChanged(P,G,ae)}sendSignInLinkToEmail(g,v){return function Jl(_,h,g){return ws.apply(this,arguments)}(this._delegate,g,v)}sendPasswordResetEmail(g,v){return function ja(_,h,g){return vn.apply(this,arguments)}(this._delegate,g,v||void 0)}setPersistence(g){var v=this;return(0,u.Z)(function*(){let S;switch(function Zf(_,h){xr(Object.values(hr).includes(h),_,"invalid-persistence-type"),(0,R.b$)()?xr(h!==hr.SESSION,_,"unsupported-persistence-type"):(0,R.UG)()?xr(h===hr.NONE,_,"unsupported-persistence-type"):ku()?xr(h===hr.NONE||h===hr.LOCAL&&(0,R.hl)(),_,"unsupported-persistence-type"):xr(h===hr.NONE||zf(),_,"unsupported-persistence-type")}(v._delegate,g),g){case hr.SESSION:S=si;break;case hr.LOCAL:S=(yield re(lo)._isAvailable())?lo:Ko;break;case hr.NONE:S=V;break;default:return Ie("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return zn(this._delegate,function Hd(_){return yn.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return zn(this._delegate,pn(this._delegate,g))}signInWithCustomToken(g){return zn(this._delegate,function Kl(_,h){return Ho.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,v){return zn(this._delegate,function ii(_,h,g){return pn((0,R.m9)(_),ri.credential(h,g))}(this._delegate,g,v))}signInWithEmailLink(g,v){return zn(this._delegate,function wf(_,h,g){return Go.apply(this,arguments)}(this._delegate,g,v))}signInWithPhoneNumber(g,v){return ma(this._delegate,function Xe(_,h,g){return Pr.apply(this,arguments)}(this._delegate,g,v))}signInWithPopup(g){var v=this;return(0,u.Z)(function*(){return wo(Fu(),v._delegate,"operation-not-supported-in-this-environment"),zn(v._delegate,function fc(_,h,g){return mo.apply(this,arguments)}(v._delegate,g,rr))})()}signInWithRedirect(g){var v=this;return(0,u.Z)(function*(){return wo(Fu(),v._delegate,"operation-not-supported-in-this-environment"),yield fl(v._delegate),function on(_,h,g){return function zd(_,h,g){return b.apply(this,arguments)}(_,h,g)}(v._delegate,g,rr)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Ql(_,h){return hu.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=hr,_})();function Bu(_,h,g){let v=_;"function"!=typeof _&&({next:v,error:h,complete:g}=_);const S=v;return{next:G=>S(G&&Ni.getOrCreate(G)),error:h,complete:g}}function Kf(_,h){const g=function ga(_,h){const g=bc();if(!g)return[];const v=Z(Zr,_,h);switch(g.getItem(v)){case hr.NONE:return[V];case hr.LOCAL:return[lo,si];case hr.SESSION:return[si];default:return[]}}(_,h);if(typeof self<"u"&&!g.includes(lo)&&g.push(lo),typeof window<"u")for(const v of[Ko,si])g.includes(v)||g.push(v);return g.includes(V)||g.push(V),g}class Hu{constructor(){this.providerId="phone",this._delegate=new ia(Uu(J.Z.auth()))}static credential(h,g){return ia.credential(h,g)}verifyPhoneNumber(h,g){return this._delegate.verifyPhoneNumber(h,g)}unwrap(){return this._delegate}}Hu.PHONE_SIGN_IN_METHOD=ia.PHONE_SIGN_IN_METHOD,Hu.PROVIDER_ID=ia.PROVIDER_ID;const ju=U;class $u{constructor(h,g,v=J.Z.app()){var S;ju(null===(S=v.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new Gn(h,g,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ug(_){_.INTERNAL.registerComponent(new oe.wA("auth-compat",h=>{const g=h.getProvider("app-compat").getImmediate(),v=h.getProvider("auth");return new oh(g,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ri,FacebookAuthProvider:Bo,GithubAuthProvider:Zl,GoogleAuthProvider:xa,OAuthProvider:Cs,SAMLAuthProvider:Tr,PhoneAuthProvider:Hu,PhoneMultiFactorGenerator:Co,RecaptchaVerifier:$u,TwitterAuthProvider:yr,Auth:oh,AuthCredential:Kn,Error:R.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.24")}(J.Z)},9751:(Je,Ee,k)=>{k.d(Ee,{y:()=>ce});var u=k(930),J=k(727),R=k(8822),se=k(9635),ie=k(2416),le=k(576),oe=k(2806);let ce=(()=>{class q{constructor(Te){Te&&(this._subscribe=Te)}lift(Te){const ye=new q;return ye.source=this,ye.operator=Te,ye}subscribe(Te,ye,Ze){const ge=function H(q){return q&&q instanceof u.Lv||function B(q){return q&&(0,le.m)(q.next)&&(0,le.m)(q.error)&&(0,le.m)(q.complete)}(q)&&(0,J.Nn)(q)}(Te)?Te:new u.Hp(Te,ye,Ze);return(0,oe.x)(()=>{const{operator:he,source:We}=this;ge.add(he?he.call(ge,We):We?this._subscribe(ge):this._trySubscribe(ge))}),ge}_trySubscribe(Te){try{return this._subscribe(Te)}catch(ye){Te.error(ye)}}forEach(Te,ye){return new(ye=ue(ye))((Ze,ge)=>{const he=new u.Hp({next:We=>{try{Te(We)}catch(Ke){ge(Ke),he.unsubscribe()}},error:ge,complete:Ze});this.subscribe(he)})}_subscribe(Te){var ye;return null===(ye=this.source)||void 0===ye?void 0:ye.subscribe(Te)}[R.L](){return this}pipe(...Te){return(0,se.U)(Te)(this)}toPromise(Te){return new(Te=ue(Te))((ye,Ze)=>{let ge;this.subscribe(he=>ge=he,he=>Ze(he),()=>ye(ge))})}}return q.create=xe=>new q(xe),q})();function ue(q){var xe;return null!==(xe=q??ie.v.Promise)&&void 0!==xe?xe:Promise}},7579:(Je,Ee,k)=>{k.d(Ee,{x:()=>oe});var u=k(9751),J=k(727);const se=(0,k(3888).d)(ue=>function(){ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=k(8737),le=k(2806);let oe=(()=>{class ue extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const q=new ce(this,this);return q.operator=H,q}_throwIfClosed(){if(this.closed)throw new se}next(H){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const q of this.currentObservers)q.next(H)}})}error(H){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:q}=this;for(;q.length;)q.shift().error(H)}})}complete(){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:q,isStopped:xe,observers:Te}=this;return q||xe?J.Lc:(this.currentObservers=null,Te.push(H),new J.w0(()=>{this.currentObservers=null,(0,ie.P)(Te,H)}))}_checkFinalizedStatuses(H){const{hasError:q,thrownError:xe,isStopped:Te}=this;q?H.error(xe):Te&&H.complete()}asObservable(){const H=new u.y;return H.source=this,H}}return ue.create=(B,H)=>new ce(B,H),ue})();class ce extends oe{constructor(B,H){super(),this.destination=B,this.source=H}next(B){var H,q;null===(q=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===q||q.call(H,B)}error(B){var H,q;null===(q=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===q||q.call(H,B)}complete(){var B,H;null===(H=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===H||H.call(B)}_subscribe(B){var H,q;return null!==(q=null===(H=this.source)||void 0===H?void 0:H.subscribe(B))&&void 0!==q?q:J.Lc}}},930:(Je,Ee,k)=>{k.d(Ee,{Hp:()=>Ze,Lv:()=>q});var u=k(576),J=k(727),R=k(2416),se=k(7849),ie=k(5032);const le=ue("C",void 0,void 0);function ue(Ie,me,Ce){return{kind:Ie,value:me,error:Ce}}var B=k(3410),H=k(2806);class q extends J.w0{constructor(me){super(),this.isStopped=!1,me?(this.destination=me,(0,J.Nn)(me)&&me.add(this)):this.destination=Ke}static create(me,Ce,ke){return new Ze(me,Ce,ke)}next(me){this.isStopped?We(function ce(Ie){return ue("N",Ie,void 0)}(me),this):this._next(me)}error(me){this.isStopped?We(function oe(Ie){return ue("E",void 0,Ie)}(me),this):(this.isStopped=!0,this._error(me))}complete(){this.isStopped?We(le,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(me){this.destination.next(me)}_error(me){try{this.destination.error(me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xe=Function.prototype.bind;function Te(Ie,me){return xe.call(Ie,me)}class ye{constructor(me){this.partialObserver=me}next(me){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(me)}catch(ke){ge(ke)}}error(me){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(me)}catch(ke){ge(ke)}else ge(me)}complete(){const{partialObserver:me}=this;if(me.complete)try{me.complete()}catch(Ce){ge(Ce)}}}class Ze extends q{constructor(me,Ce,ke){let Fe;if(super(),(0,u.m)(me)||!me)Fe={next:me??void 0,error:Ce??void 0,complete:ke??void 0};else{let U;this&&R.v.useDeprecatedNextContext?(U=Object.create(me),U.unsubscribe=()=>this.unsubscribe(),Fe={next:me.next&&Te(me.next,U),error:me.error&&Te(me.error,U),complete:me.complete&&Te(me.complete,U)}):Fe=me}this.destination=new ye(Fe)}}function ge(Ie){R.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Ie):(0,se.h)(Ie)}function We(Ie,me){const{onStoppedNotification:Ce}=R.v;Ce&&B.z.setTimeout(()=>Ce(Ie,me))}const Ke={closed:!0,next:ie.Z,error:function he(Ie){throw Ie},complete:ie.Z}},727:(Je,Ee,k)=>{k.d(Ee,{Lc:()=>le,w0:()=>ie,Nn:()=>oe});var u=k(576);const R=(0,k(3888).d)(ue=>function(H){ue(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((q,xe)=>`${xe+1}) ${q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var se=k(8737);class ie{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Te of H)Te.remove(this);else H.remove(this);const{initialTeardown:q}=this;if((0,u.m)(q))try{q()}catch(Te){B=Te instanceof R?Te.errors:[Te]}const{_finalizers:xe}=this;if(xe){this._finalizers=null;for(const Te of xe)try{ce(Te)}catch(ye){B=B??[],ye instanceof R?B=[...B,...ye.errors]:B.push(ye)}}if(B)throw new R(B)}}add(B){var H;if(B&&B!==this)if(this.closed)ce(B);else{if(B instanceof ie){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(B)}}_hasParent(B){const{_parentage:H}=this;return H===B||Array.isArray(H)&&H.includes(B)}_addParent(B){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(B),H):H?[H,B]:B}_removeParent(B){const{_parentage:H}=this;H===B?this._parentage=null:Array.isArray(H)&&(0,se.P)(H,B)}remove(B){const{_finalizers:H}=this;H&&(0,se.P)(H,B),B instanceof ie&&B._removeParent(this)}}ie.EMPTY=(()=>{const ue=new ie;return ue.closed=!0,ue})();const le=ie.EMPTY;function oe(ue){return ue instanceof ie||ue&&"closed"in ue&&(0,u.m)(ue.remove)&&(0,u.m)(ue.add)&&(0,u.m)(ue.unsubscribe)}function ce(ue){(0,u.m)(ue)?ue():ue.unsubscribe()}},2416:(Je,Ee,k)=>{k.d(Ee,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Je,Ee,k)=>{k.d(Ee,{E:()=>J});const J=new(k(9751).y)(ie=>ie.complete())},8996:(Je,Ee,k)=>{k.d(Ee,{D:()=>me});var u=k(8421),J=k(5363),R=k(9468),le=k(9751),ce=k(2202),ue=k(576),B=k(9672);function q(Ce,ke){if(!Ce)throw new Error("Iterable cannot be null");return new le.y(Fe=>{(0,B.f)(Fe,ke,()=>{const U=Ce[Symbol.asyncIterator]();(0,B.f)(Fe,ke,()=>{U.next().then(pe=>{pe.done?Fe.complete():Fe.next(pe.value)})},0,!0)})})}var xe=k(3670),Te=k(8239),ye=k(1144),Ze=k(6495),ge=k(2206),he=k(4532),We=k(3260);function me(Ce,ke){return ke?function Ie(Ce,ke){if(null!=Ce){if((0,xe.c)(Ce))return function se(Ce,ke){return(0,u.Xf)(Ce).pipe((0,R.R)(ke),(0,J.Q)(ke))}(Ce,ke);if((0,ye.z)(Ce))return function oe(Ce,ke){return new le.y(Fe=>{let U=0;return ke.schedule(function(){U===Ce.length?Fe.complete():(Fe.next(Ce[U++]),Fe.closed||this.schedule())})})}(Ce,ke);if((0,Te.t)(Ce))return function ie(Ce,ke){return(0,u.Xf)(Ce).pipe((0,R.R)(ke),(0,J.Q)(ke))}(Ce,ke);if((0,ge.D)(Ce))return q(Ce,ke);if((0,Ze.T)(Ce))return function H(Ce,ke){return new le.y(Fe=>{let U;return(0,B.f)(Fe,ke,()=>{U=Ce[ce.h](),(0,B.f)(Fe,ke,()=>{let pe,z;try{({value:pe,done:z}=U.next())}catch(Q){return void Fe.error(Q)}z?Fe.complete():Fe.next(pe)},0,!0)}),()=>(0,ue.m)(U?.return)&&U.return()})}(Ce,ke);if((0,We.L)(Ce))return function Ke(Ce,ke){return q((0,We.Q)(Ce),ke)}(Ce,ke)}throw(0,he.z)(Ce)}(Ce,ke):(0,u.Xf)(Ce)}},8421:(Je,Ee,k)=>{k.d(Ee,{Xf:()=>xe});var u=k(655),J=k(1144),R=k(8239),se=k(9751),ie=k(3670),le=k(2206),oe=k(4532),ce=k(6495),ue=k(3260),B=k(576),H=k(7849),q=k(8822);function xe(Ie){if(Ie instanceof se.y)return Ie;if(null!=Ie){if((0,ie.c)(Ie))return function Te(Ie){return new se.y(me=>{const Ce=Ie[q.L]();if((0,B.m)(Ce.subscribe))return Ce.subscribe(me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,J.z)(Ie))return function ye(Ie){return new se.y(me=>{for(let Ce=0;Ce<Ie.length&&!me.closed;Ce++)me.next(Ie[Ce]);me.complete()})}(Ie);if((0,R.t)(Ie))return function Ze(Ie){return new se.y(me=>{Ie.then(Ce=>{me.closed||(me.next(Ce),me.complete())},Ce=>me.error(Ce)).then(null,H.h)})}(Ie);if((0,le.D)(Ie))return he(Ie);if((0,ce.T)(Ie))return function ge(Ie){return new se.y(me=>{for(const Ce of Ie)if(me.next(Ce),me.closed)return;me.complete()})}(Ie);if((0,ue.L)(Ie))return function We(Ie){return he((0,ue.Q)(Ie))}(Ie)}throw(0,oe.z)(Ie)}function he(Ie){return new se.y(me=>{(function Ke(Ie,me){var Ce,ke,Fe,U;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,u.KL)(Ie);!(ke=yield Ce.next()).done;)if(me.next(ke.value),me.closed)return}catch(pe){Fe={error:pe}}finally{try{ke&&!ke.done&&(U=Ce.return)&&(yield U.call(Ce))}finally{if(Fe)throw Fe.error}}me.complete()})})(Ie,me).catch(Ce=>me.error(Ce))})}},6451:(Je,Ee,k)=>{k.d(Ee,{T:()=>le});var u=k(8189),J=k(8421),R=k(515),se=k(7669),ie=k(8996);function le(...oe){const ce=(0,se.yG)(oe),ue=(0,se._6)(oe,1/0),B=oe;return B.length?1===B.length?(0,J.Xf)(B[0]):(0,u.J)(ue)((0,ie.D)(B,ce)):R.E}},5403:(Je,Ee,k)=>{k.d(Ee,{x:()=>J});var u=k(930);function J(se,ie,le,oe,ce){return new R(se,ie,le,oe,ce)}class R extends u.Lv{constructor(ie,le,oe,ce,ue,B){super(ie),this.onFinalize=ue,this.shouldUnsubscribe=B,this._next=le?function(H){try{le(H)}catch(q){ie.error(q)}}:super._next,this._error=ce?function(H){try{ce(H)}catch(q){ie.error(q)}finally{this.unsubscribe()}}:super._error,this._complete=oe?function(){try{oe()}catch(H){ie.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:le}=this;super.unsubscribe(),!le&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},4004:(Je,Ee,k)=>{k.d(Ee,{U:()=>R});var u=k(4482),J=k(5403);function R(se,ie){return(0,u.e)((le,oe)=>{let ce=0;le.subscribe((0,J.x)(oe,ue=>{oe.next(se.call(ie,ue,ce++))}))})}},8189:(Je,Ee,k)=>{k.d(Ee,{J:()=>R});var u=k(5577),J=k(4671);function R(se=1/0){return(0,u.z)(J.y,se)}},5577:(Je,Ee,k)=>{k.d(Ee,{z:()=>ce});var u=k(4004),J=k(8421),R=k(4482),se=k(9672),ie=k(5403),oe=k(576);function ce(ue,B,H=1/0){return(0,oe.m)(B)?ce((q,xe)=>(0,u.U)((Te,ye)=>B(q,Te,xe,ye))((0,J.Xf)(ue(q,xe))),H):("number"==typeof B&&(H=B),(0,R.e)((q,xe)=>function le(ue,B,H,q,xe,Te,ye,Ze){const ge=[];let he=0,We=0,Ke=!1;const Ie=()=>{Ke&&!ge.length&&!he&&B.complete()},me=ke=>he<q?Ce(ke):ge.push(ke),Ce=ke=>{Te&&B.next(ke),he++;let Fe=!1;(0,J.Xf)(H(ke,We++)).subscribe((0,ie.x)(B,U=>{xe?.(U),Te?me(U):B.next(U)},()=>{Fe=!0},void 0,()=>{if(Fe)try{for(he--;ge.length&&he<q;){const U=ge.shift();ye?(0,se.f)(B,ye,()=>Ce(U)):Ce(U)}Ie()}catch(U){B.error(U)}}))};return ue.subscribe((0,ie.x)(B,me,()=>{Ke=!0,Ie()})),()=>{Ze?.()}}(q,xe,ue,H)))}},5363:(Je,Ee,k)=>{k.d(Ee,{Q:()=>se});var u=k(9672),J=k(4482),R=k(5403);function se(ie,le=0){return(0,J.e)((oe,ce)=>{oe.subscribe((0,R.x)(ce,ue=>(0,u.f)(ce,ie,()=>ce.next(ue),le),()=>(0,u.f)(ce,ie,()=>ce.complete(),le),ue=>(0,u.f)(ce,ie,()=>ce.error(ue),le)))})}},3099:(Je,Ee,k)=>{k.d(Ee,{B:()=>ie});var u=k(8421),J=k(7579),R=k(930),se=k(4482);function ie(oe={}){const{connector:ce=(()=>new J.x),resetOnError:ue=!0,resetOnComplete:B=!0,resetOnRefCountZero:H=!0}=oe;return q=>{let xe,Te,ye,Ze=0,ge=!1,he=!1;const We=()=>{Te?.unsubscribe(),Te=void 0},Ke=()=>{We(),xe=ye=void 0,ge=he=!1},Ie=()=>{const me=xe;Ke(),me?.unsubscribe()};return(0,se.e)((me,Ce)=>{Ze++,!he&&!ge&&We();const ke=ye=ye??ce();Ce.add(()=>{Ze--,0===Ze&&!he&&!ge&&(Te=le(Ie,H))}),ke.subscribe(Ce),!xe&&Ze>0&&(xe=new R.Hp({next:Fe=>ke.next(Fe),error:Fe=>{he=!0,We(),Te=le(Ke,ue,Fe),ke.error(Fe)},complete:()=>{ge=!0,We(),Te=le(Ke,B),ke.complete()}}),(0,u.Xf)(me).subscribe(xe))})(q)}}function le(oe,ce,...ue){if(!0===ce)return void oe();if(!1===ce)return;const B=new R.Hp({next:()=>{B.unsubscribe(),oe()}});return ce(...ue).subscribe(B)}},9468:(Je,Ee,k)=>{k.d(Ee,{R:()=>J});var u=k(4482);function J(R,se=0){return(0,u.e)((ie,le)=>{le.add(R.schedule(()=>ie.subscribe(le),se))})}},8505:(Je,Ee,k)=>{k.d(Ee,{b:()=>ie});var u=k(576),J=k(4482),R=k(5403),se=k(4671);function ie(le,oe,ce){const ue=(0,u.m)(le)||oe||ce?{next:le,error:oe,complete:ce}:le;return ue?(0,J.e)((B,H)=>{var q;null===(q=ue.subscribe)||void 0===q||q.call(ue);let xe=!0;B.subscribe((0,R.x)(H,Te=>{var ye;null===(ye=ue.next)||void 0===ye||ye.call(ue,Te),H.next(Te)},()=>{var Te;xe=!1,null===(Te=ue.complete)||void 0===Te||Te.call(ue),H.complete()},Te=>{var ye;xe=!1,null===(ye=ue.error)||void 0===ye||ye.call(ue,Te),H.error(Te)},()=>{var Te,ye;xe&&(null===(Te=ue.unsubscribe)||void 0===Te||Te.call(ue)),null===(ye=ue.finalize)||void 0===ye||ye.call(ue)}))}):se.y}},4408:(Je,Ee,k)=>{k.d(Ee,{o:()=>ie});var u=k(727);class J extends u.w0{constructor(oe,ce){super()}schedule(oe,ce=0){return this}}const R={setInterval(le,oe,...ce){const{delegate:ue}=R;return ue?.setInterval?ue.setInterval(le,oe,...ce):setInterval(le,oe,...ce)},clearInterval(le){const{delegate:oe}=R;return(oe?.clearInterval||clearInterval)(le)},delegate:void 0};var se=k(8737);class ie extends J{constructor(oe,ce){super(oe,ce),this.scheduler=oe,this.work=ce,this.pending=!1}schedule(oe,ce=0){var ue;if(this.closed)return this;this.state=oe;const B=this.id,H=this.scheduler;return null!=B&&(this.id=this.recycleAsyncId(H,B,ce)),this.pending=!0,this.delay=ce,this.id=null!==(ue=this.id)&&void 0!==ue?ue:this.requestAsyncId(H,this.id,ce),this}requestAsyncId(oe,ce,ue=0){return R.setInterval(oe.flush.bind(oe,this),ue)}recycleAsyncId(oe,ce,ue=0){if(null!=ue&&this.delay===ue&&!1===this.pending)return ce;null!=ce&&R.clearInterval(ce)}execute(oe,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(oe,ce);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(oe,ce){let B,ue=!1;try{this.work(oe)}catch(H){ue=!0,B=H||new Error("Scheduled action threw falsy error")}if(ue)return this.unsubscribe(),B}unsubscribe(){if(!this.closed){const{id:oe,scheduler:ce}=this,{actions:ue}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(ue,this),null!=oe&&(this.id=this.recycleAsyncId(ce,oe,null)),this.delay=null,super.unsubscribe()}}}},7565:(Je,Ee,k)=>{k.d(Ee,{v:()=>R});var u=k(6063);class J{constructor(ie,le=J.now){this.schedulerActionCtor=ie,this.now=le}schedule(ie,le=0,oe){return new this.schedulerActionCtor(this,ie).schedule(oe,le)}}J.now=u.l.now;class R extends J{constructor(ie,le=J.now){super(ie,le),this.actions=[],this._active=!1}flush(ie){const{actions:le}=this;if(this._active)return void le.push(ie);let oe;this._active=!0;do{if(oe=ie.execute(ie.state,ie.delay))break}while(ie=le.shift());if(this._active=!1,oe){for(;ie=le.shift();)ie.unsubscribe();throw oe}}}},4986:(Je,Ee,k)=>{k.d(Ee,{z:()=>R});var u=k(4408);const R=new(k(7565).v)(u.o)},6063:(Je,Ee,k)=>{k.d(Ee,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(Je,Ee,k)=>{k.d(Ee,{z:()=>u});const u={setTimeout(J,R,...se){const{delegate:ie}=u;return ie?.setTimeout?ie.setTimeout(J,R,...se):setTimeout(J,R,...se)},clearTimeout(J){const{delegate:R}=u;return(R?.clearTimeout||clearTimeout)(J)},delegate:void 0}},2202:(Je,Ee,k)=>{k.d(Ee,{h:()=>J});const J=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Je,Ee,k)=>{k.d(Ee,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Je,Ee,k)=>{k.d(Ee,{_6:()=>le,jO:()=>se,yG:()=>ie});var u=k(576);function R(oe){return oe[oe.length-1]}function se(oe){return(0,u.m)(R(oe))?oe.pop():void 0}function ie(oe){return function J(oe){return oe&&(0,u.m)(oe.schedule)}(R(oe))?oe.pop():void 0}function le(oe,ce){return"number"==typeof R(oe)?oe.pop():ce}},8737:(Je,Ee,k)=>{function u(J,R){if(J){const se=J.indexOf(R);0<=se&&J.splice(se,1)}}k.d(Ee,{P:()=>u})},3888:(Je,Ee,k)=>{function u(J){const se=J(ie=>{Error.call(ie),ie.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}k.d(Ee,{d:()=>u})},2806:(Je,Ee,k)=>{k.d(Ee,{O:()=>se,x:()=>R});var u=k(2416);let J=null;function R(ie){if(u.v.useDeprecatedSynchronousErrorHandling){const le=!J;if(le&&(J={errorThrown:!1,error:null}),ie(),le){const{errorThrown:oe,error:ce}=J;if(J=null,oe)throw ce}}else ie()}function se(ie){u.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=ie)}},9672:(Je,Ee,k)=>{function u(J,R,se,ie=0,le=!1){const oe=R.schedule(function(){se(),le?J.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(J.add(oe),!le)return oe}k.d(Ee,{f:()=>u})},4671:(Je,Ee,k)=>{function u(J){return J}k.d(Ee,{y:()=>u})},1144:(Je,Ee,k)=>{k.d(Ee,{z:()=>u});const u=J=>J&&"number"==typeof J.length&&"function"!=typeof J},2206:(Je,Ee,k)=>{k.d(Ee,{D:()=>J});var u=k(576);function J(R){return Symbol.asyncIterator&&(0,u.m)(R?.[Symbol.asyncIterator])}},576:(Je,Ee,k)=>{function u(J){return"function"==typeof J}k.d(Ee,{m:()=>u})},3670:(Je,Ee,k)=>{k.d(Ee,{c:()=>R});var u=k(8822),J=k(576);function R(se){return(0,J.m)(se[u.L])}},6495:(Je,Ee,k)=>{k.d(Ee,{T:()=>R});var u=k(2202),J=k(576);function R(se){return(0,J.m)(se?.[u.h])}},8239:(Je,Ee,k)=>{k.d(Ee,{t:()=>J});var u=k(576);function J(R){return(0,u.m)(R?.then)}},3260:(Je,Ee,k)=>{k.d(Ee,{L:()=>se,Q:()=>R});var u=k(655),J=k(576);function R(ie){return(0,u.FC)(this,arguments,function*(){const oe=ie.getReader();try{for(;;){const{value:ce,done:ue}=yield(0,u.qq)(oe.read());if(ue)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(ce)}}finally{oe.releaseLock()}})}function se(ie){return(0,J.m)(ie?.getReader)}},4482:(Je,Ee,k)=>{k.d(Ee,{A:()=>J,e:()=>R});var u=k(576);function J(se){return(0,u.m)(se?.lift)}function R(se){return ie=>{if(J(ie))return ie.lift(function(le){try{return se(le,this)}catch(oe){this.error(oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Je,Ee,k)=>{function u(){}k.d(Ee,{Z:()=>u})},9635:(Je,Ee,k)=>{k.d(Ee,{U:()=>R,z:()=>J});var u=k(4671);function J(...se){return R(se)}function R(se){return 0===se.length?u.y:1===se.length?se[0]:function(le){return se.reduce((oe,ce)=>ce(oe),le)}}},7849:(Je,Ee,k)=>{k.d(Ee,{h:()=>R});var u=k(2416),J=k(3410);function R(se){J.z.setTimeout(()=>{const{onUnhandledError:ie}=u.v;if(!ie)throw se;ie(se)})}},4532:(Je,Ee,k)=>{function u(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ee,{z:()=>u})},655:(Je,Ee,k)=>{function se(z,Q){var re={};for(var ne in z)Object.prototype.hasOwnProperty.call(z,ne)&&Q.indexOf(ne)<0&&(re[ne]=z[ne]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var Oe=0;for(ne=Object.getOwnPropertySymbols(z);Oe<ne.length;Oe++)Q.indexOf(ne[Oe])<0&&Object.prototype.propertyIsEnumerable.call(z,ne[Oe])&&(re[ne[Oe]]=z[ne[Oe]])}return re}function ce(z,Q,re,ne){return new(re||(re=Promise))(function(Pe,et){function Ut(zt){try{Be(ne.next(zt))}catch(nn){et(nn)}}function St(zt){try{Be(ne.throw(zt))}catch(nn){et(nn)}}function Be(zt){zt.done?Pe(zt.value):function Oe(Pe){return Pe instanceof re?Pe:new re(function(et){et(Pe)})}(zt.value).then(Ut,St)}Be((ne=ne.apply(z,Q||[])).next())})}function ge(z){return this instanceof ge?(this.v=z,this):new ge(z)}function he(z,Q,re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,ne=re.apply(z,Q||[]),Pe=[];return Oe={},et("next"),et("throw"),et("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe;function et(Lt){ne[Lt]&&(Oe[Lt]=function(Bt){return new Promise(function(sr,Et){Pe.push([Lt,Bt,sr,Et])>1||Ut(Lt,Bt)})})}function Ut(Lt,Bt){try{!function St(Lt){Lt.value instanceof ge?Promise.resolve(Lt.value.v).then(Be,zt):nn(Pe[0][2],Lt)}(ne[Lt](Bt))}catch(sr){nn(Pe[0][3],sr)}}function Be(Lt){Ut("next",Lt)}function zt(Lt){Ut("throw",Lt)}function nn(Lt,Bt){Lt(Bt),Pe.shift(),Pe.length&&Ut(Pe[0][0],Pe[0][1])}}function Ke(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var re,Q=z[Symbol.asyncIterator];return Q?Q.call(z):(z=function q(z){var Q="function"==typeof Symbol&&Symbol.iterator,re=Q&&z[Q],ne=0;if(re)return re.call(z);if(z&&"number"==typeof z.length)return{next:function(){return z&&ne>=z.length&&(z=void 0),{value:z&&z[ne++],done:!z}}};throw new TypeError(Q?"Object is not iterable.":"Symbol.iterator is not defined.")}(z),re={},ne("next"),ne("throw"),ne("return"),re[Symbol.asyncIterator]=function(){return this},re);function ne(Pe){re[Pe]=z[Pe]&&function(et){return new Promise(function(Ut,St){!function Oe(Pe,et,Ut,St){Promise.resolve(St).then(function(Be){Pe({value:Be,done:Ut})},et)}(Ut,St,(et=z[Pe](et)).done,et.value)})}}}k.d(Ee,{FC:()=>he,KL:()=>Ke,_T:()=>se,mG:()=>ce,qq:()=>ge})},4650:(Je,Ee,k)=>{k.d(Ee,{$8M:()=>ol,$Z:()=>_h,AFp:()=>hg,ALo:()=>y0,AaK:()=>ce,CHM:()=>Ha,CRH:()=>Td,CZH:()=>dg,CqO:()=>Np,D6c:()=>vE,EJc:()=>R_,EpF:()=>Li,F4k:()=>Rp,FYo:()=>S,FiY:()=>Me,G48:()=>dE,GfV:()=>Re,Gpc:()=>H,JOm:()=>Do,KtG:()=>ja,LFG:()=>on,LSH:()=>Ou,Lbi:()=>z0,Lck:()=>rg,MMx:()=>ig,NdJ:()=>cd,O4$:()=>sc,OlP:()=>tn,Oqu:()=>Qm,PXZ:()=>B_,Q6J:()=>ad,QGY:()=>Ph,QP$:()=>Vt,QbO:()=>ND,Qsj:()=>P,R0b:()=>Xr,RDi:()=>Of,Rgc:()=>Xh,SBq:()=>h,Sil:()=>Pd,Suo:()=>_i,TTD:()=>bi,TgZ:()=>ld,X6Q:()=>uE,XFs:()=>je,Xpm:()=>we,Xts:()=>rh,Y36:()=>Ju,YKP:()=>Yr,YNc:()=>Vm,Yjl:()=>_e,Yz7:()=>Bt,Z0I:()=>vi,ZZ4:()=>ey,_Bn:()=>ng,_UZ:()=>Bm,_Vd:()=>gl,_c5:()=>lI,_uU:()=>Ym,aQg:()=>ty,c2e:()=>kD,cJS:()=>Et,cg1:()=>jp,dDg:()=>tE,dqk:()=>$t,eFA:()=>oE,ekj:()=>zm,eoX:()=>HD,f3M:()=>b,g9A:()=>x_,h0i:()=>Gc,hGG:()=>tS,hij:()=>Fh,iGM:()=>Ta,ifc:()=>Qe,ip1:()=>Md,jDz:()=>Nl,kL8:()=>$p,kcU:()=>pu,lG2:()=>Z,lqb:()=>rr,lri:()=>V_,n5z:()=>Ai,oAB:()=>bt,oxw:()=>qv,q4F:()=>$e,qLn:()=>ch,qOj:()=>Rm,qZA:()=>xp,rWj:()=>U_,s9C:()=>dd,sBO:()=>q_,sIi:()=>Th,s_b:()=>y_,soG:()=>Ad,tb:()=>pg,tp0:()=>ut,uIk:()=>Lm,vHH:()=>ye,vpe:()=>zs,wAp:()=>at,xi3:()=>v0,xp6:()=>Jy,z2F:()=>j_,zSh:()=>fl,zs3:()=>Ac});var u=k(7579),J=k(727),R=k(9751),se=k(6451),ie=k(3099);function le(i){for(let s in i)if(i[s]===le)return s;throw Error("Could not find renamed property on target object.")}function oe(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function ce(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ce).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function ue(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const B=le({__forward_ref__:le});function H(i){return i.__forward_ref__=H,i.toString=function(){return ce(this())},i}function q(i){return xe(i)?i():i}function xe(i){return"function"==typeof i&&i.hasOwnProperty(B)&&i.__forward_ref__===H}class ye extends Error{constructor(s,o){super(function Ze(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}(s,o)),this.code=s}}function ge(i){return"string"==typeof i?i:null==i?"":String(i)}function me(i,s){throw new ye(-201,!1)}function St(i,s){null==i&&function Be(i,s,o,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${o} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function Bt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Et(i){return{providers:i.providers||[],imports:i.imports||[]}}function Zt(i){return Vr(i,Ur)||Vr(i,Dr)}function vi(i){return null!==Zt(i)}function Vr(i,s){return i.hasOwnProperty(s)?i[s]:null}function ji(i){return i&&(i.hasOwnProperty(gr)||i.hasOwnProperty(Js))?i[gr]:null}const Ur=le({\u0275prov:le}),gr=le({\u0275inj:le}),Dr=le({ngInjectableDef:le}),Js=le({ngInjectorDef:le});var je=(()=>((je=je||{})[je.Default=0]="Default",je[je.Host=1]="Host",je[je.Self=2]="Self",je[je.SkipSelf=4]="SkipSelf",je[je.Optional=8]="Optional",je))();let er;function Nn(i){const s=er;return er=i,s}function Ir(i,s,o){const l=Zt(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&je.Optional?null:void 0!==s?s:void me(ce(i))}function _n(i){return{toString:i}.toString()}var Pn=(()=>((Pn=Pn||{})[Pn.OnPush=0]="OnPush",Pn[Pn.Default=1]="Default",Pn))(),Qe=(()=>{return(i=Qe||(Qe={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Qe;var i})();const $t=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),mr={},gt=[],Ci=le({\u0275cmp:le}),Ht=le({\u0275dir:le}),Br=le({\u0275pipe:le}),jt=le({\u0275mod:le}),kn=le({\u0275fac:le}),lr=le({__NG_ELEMENT_ID__:le});let ze=0;function we(i){return _n(()=>{const o=!0===i.standalone,l={},d={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Pn.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||gt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Qe.Emulated,id:"c"+ze++,styles:i.styles||gt,_:null,setInput:null,schemas:i.schemas||null,tView:null},p=i.dependencies,y=i.features;return d.inputs=V(i.inputs,l),d.outputs=V(i.outputs),y&&y.forEach(C=>C(d)),d.directiveDefs=p?()=>("function"==typeof p?p():p).map(ht).filter(ct):null,d.pipeDefs=p?()=>("function"==typeof p?p():p).map(tt).filter(ct):null,d})}function ht(i){return Y(i)||Ve(i)}function ct(i){return null!==i}function bt(i){return _n(()=>({type:i.type,bootstrap:i.bootstrap||gt,declarations:i.declarations||gt,imports:i.imports||gt,exports:i.exports||gt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function V(i,s){if(null==i)return mr;const o={};for(const l in i)if(i.hasOwnProperty(l)){let d=i[l],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),o[d]=l,s&&(s[d]=p)}return o}const Z=we;function _e(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Y(i){return i[Ci]||null}function Ve(i){return i[Ht]||null}function tt(i){return i[Br]||null}function Vt(i){const s=Y(i)||Ve(i)||tt(i);return null!==s&&s.standalone}function Jt(i,s){const o=i[jt]||null;if(!o&&!0===s)throw new Error(`Type ${ce(i)} does not have '\u0275mod' property.`);return o}function $n(i){return Array.isArray(i)&&"object"==typeof i[1]}function cr(i){return Array.isArray(i)&&!0===i[1]}function Pa(i){return 0!=(8&i.flags)}function Uo(i){return 2==(2&i.flags)}function $l(i){return 1==(1&i.flags)}function tr(i){return null!==i.template}function kd(i){return 0!=(256&i[2])}function ri(i,s){return i.hasOwnProperty(kn)?i[kn]:null}class wi{constructor(s,o,l){this.previousValue=s,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function bi(){return Cs}function Cs(i){return i.type.prototype.ngOnChanges&&(i.setInput=xa),Bo}function Bo(){const i=Ud(this),s=i?.current;if(s){const o=i.previous;if(o===mr)i.previous=s;else for(let l in s)o[l]=s[l];i.current=null,this.ngOnChanges(s)}}function xa(i,s,o,l){const d=Ud(i)||function eo(i,s){return i[Zl]=s}(i,{previous:mr,current:null}),p=d.current||(d.current={}),y=d.previous,C=this.declaredInputs[o],w=y[C];p[C]=new wi(w&&w.currentValue,s,y===mr),i[l]=s}bi.ngInherit=!0;const Zl="__ngSimpleChanges__";function Ud(i){return i[Zl]||null}function yn(i){for(;Array.isArray(i);)i=i[0];return i}function Sr(i,s){return yn(s[i])}function ur(i,s){return yn(s[i.index])}function no(i,s){return i.data[s]}function Ft(i,s){const o=s[i];return $n(o)?o:o[0]}function Es(i){return 64==(64&i[2])}function jr(i,s){return null==s?null:i[s]}function La(i){i[18]=0}function pn(i,s){i[5]+=s;let o=i,l=i[3];for(;null!==l&&(1===s&&1===o[5]||-1===s&&0===o[5]);)l[5]+=s,o=l,l=l[3]}const mt={lFrame:rc(null),bindingsEnabled:!0};function Ti(){return mt.bindingsEnabled}function be(){return mt.lFrame.lView}function At(){return mt.lFrame.tView}function Ha(i){return mt.lFrame.contextLView=i,i[8]}function ja(i){return mt.lFrame.contextLView=null,i}function vn(){let i=$a();for(;null!==i&&64===i.type;)i=i.parent;return i}function $a(){return mt.lFrame.currentTNode}function Mr(i,s){const o=mt.lFrame;o.currentTNode=i,o.isParent=s}function jo(){return mt.lFrame.isParent}function ws(){return mt.lFrame.bindingIndex++}function bf(i,s){const o=mt.lFrame;o.bindingIndex=o.bindingRootIndex=i,Wa(s)}function Wa(i){mt.lFrame.currentDirectiveIndex=i}function ec(){return mt.lFrame.currentQueryIndex}function Zo(i){mt.lFrame.currentQueryIndex=i}function tc(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Ga(i,s,o){if(o&je.SkipSelf){let d=s,p=i;for(;!(d=d.parent,null!==d||o&je.Host||(d=tc(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;s=d,i=p}const l=mt.lFrame=nc();return l.currentTNode=s,l.lView=i,!0}function za(i){const s=nc(),o=i[1];mt.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function nc(){const i=mt.lFrame,s=null===i?null:i.child;return null===s?rc(i):s}function rc(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function ic(){const i=mt.lFrame;return mt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const fu=ic;function bs(){const i=ic();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Vn(){return mt.lFrame.selectedIndex}function vr(i){mt.lFrame.selectedIndex=i}function sn(){const i=mt.lFrame;return no(i.tView,i.selectedIndex)}function sc(){mt.lFrame.currentNamespace="svg"}function pu(){!function ac(){mt.lFrame.currentNamespace=null}()}function Ka(i,s){for(let o=s.directiveStart,l=s.directiveEnd;o<l;o++){const p=i.data[o].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:C,ngAfterViewInit:w,ngAfterViewChecked:T,ngOnDestroy:A}=p;y&&(i.contentHooks||(i.contentHooks=[])).push(-o,y),C&&((i.contentHooks||(i.contentHooks=[])).push(o,C),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(o,C)),w&&(i.viewHooks||(i.viewHooks=[])).push(-o,w),T&&((i.viewHooks||(i.viewHooks=[])).push(o,T),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(o,T)),null!=A&&(i.destroyHooks||(i.destroyHooks=[])).push(o,A)}}function Is(i,s,o){so(i,s,3,o)}function io(i,s,o,l){(3&i[2])===o&&so(i,s,o,l)}function mu(i,s){let o=i[2];(3&o)===s&&(o&=2047,o+=1,i[2]=o)}function so(i,s,o,l){const p=l??-1,y=s.length-1;let C=0;for(let w=void 0!==l?65535&i[18]:0;w<y;w++)if("number"==typeof s[w+1]){if(C=s[w],null!=l&&C>=l)break}else s[w]<0&&(i[18]+=65536),(C<p||-1==p)&&(_u(i,o,s,w),i[18]=(4294901760&i[18])+w+2),w++}function _u(i,s,o,l){const d=o[l]<0,p=o[l+1],C=i[d?-o[l]:o[l]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{p.call(C)}finally{}}}else try{p.call(C)}finally{}}class Qi{constructor(s,o,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function oo(i,s,o){let l=0;for(;l<o.length;){const d=o[l];if("number"==typeof d){if(0!==d)break;l++;const p=o[l++],y=o[l++],C=o[l++];i.setAttribute(s,y,C,p)}else{const p=d,y=o[++l];Xa(p)?i.setProperty(s,p,y):i.setAttribute(s,p,y),l++}}return l}function Ms(i){return 3===i||4===i||6===i}function Xa(i){return 64===i.charCodeAt(0)}function qo(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let l=0;l<s.length;l++){const d=s[l];"number"==typeof d?o=d:0===o||vu(i,o,d,null,-1===o||2===o?s[++l]:null)}}return i}function vu(i,s,o,l,d){let p=0,y=i.length;if(-1===s)y=-1;else for(;p<i.length;){const C=i[p++];if("number"==typeof C){if(C===s){y=-1;break}if(C>s){y=p-1;break}}}for(;p<i.length;){const C=i[p];if("number"==typeof C)break;if(C===o){if(null===l)return void(null!==d&&(i[p+1]=d));if(l===i[p+1])return void(i[p+2]=d)}p++,null!==l&&p++,null!==d&&p++}-1!==y&&(i.splice(y,0,s),p=y+1),i.splice(p++,0,o),null!==l&&i.splice(p++,0,l),null!==d&&i.splice(p++,0,d)}function Cu(i){return-1!==i}function Wn(i){return 32767&i}function Yo(i,s){let o=function Ko(i){return i>>16}(i),l=s;for(;o>0;)l=l[15],o--;return l}let si=!0;function Qo(i){const s=si;return si=i,s}let Dn=0;const $r={};function As(i,s){const o=tl(i,s);if(-1!==o)return o;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,Xo(l.data,i),Xo(s,null),Xo(l.blueprint,null));const d=nl(i,s),p=i.injectorIndex;if(Cu(d)){const y=Wn(d),C=Yo(d,s),w=C[1].data;for(let T=0;T<8;T++)s[p+T]=C[y+T]|w[y+T]}return s[p+8]=d,p}function Xo(i,s){i.push(0,0,0,0,0,0,0,0,s)}function tl(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function nl(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,l=null,d=s;for(;null!==d;){if(l=co(d),null===l)return-1;if(o++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function Ji(i,s,o){!function el(i,s,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(lr)&&(l=o[lr]),null==l&&(l=o[lr]=Dn++);const d=255&l;s.data[i+(d>>5)]|=1<<d}(i,s,o)}function Xi(i,s,o){if(o&je.Optional||void 0!==i)return i;me()}function rl(i,s,o,l){if(o&je.Optional&&void 0===l&&(l=null),0==(o&(je.Self|je.Host))){const d=i[9],p=Nn(void 0);try{return d?d.get(s,l,o&je.Optional):Ir(s,l,o&je.Optional)}finally{Nn(p)}}return Xi(l,0,o)}function Ps(i,s,o,l=je.Default,d){if(null!==i){if(1024&s[2]){const y=function lo(i,s,o,l,d){let p=i,y=s;for(;null!==p&&null!==y&&1024&y[2]&&!(256&y[2]);){const C=ea(p,y,o,l|je.Self,$r);if(C!==$r)return C;let w=p.parent;if(!w){const T=y[21];if(T){const A=T.get(o,$r,l);if(A!==$r)return A}w=co(y),y=y[15]}p=w}return d}(i,s,o,l,$r);if(y!==$r)return y}const p=ea(i,s,o,l,$r);if(p!==$r)return p}return rl(s,o,l,d)}function ea(i,s,o,l,d){const p=function cc(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(lr)?i[lr]:void 0;return"number"==typeof s?s>=0?255&s:uc:s}(o);if("function"==typeof p){if(!Ga(s,i,l))return l&je.Host?Xi(d,0,l):rl(s,o,l,d);try{const y=p(l);if(null!=y||l&je.Optional)return y;me()}finally{fu()}}else if("number"==typeof p){let y=null,C=tl(i,s),w=-1,T=l&je.Host?s[16][6]:null;for((-1===C||l&je.SkipSelf)&&(w=-1===C?nl(i,s):s[C+8],-1!==w&&ta(l,!1)?(y=s[1],C=Wn(w),s=Yo(w,s)):C=-1);-1!==C;){const A=s[1];if(il(p,C,A.data)){const N=bu(C,s,o,y,l,T);if(N!==$r)return N}w=s[C+8],-1!==w&&ta(l,s[1].data[C+8]===T)&&il(p,C,s)?(y=A,C=Wn(w),s=Yo(w,s)):C=-1}}return d}function bu(i,s,o,l,d,p){const y=s[1],C=y.data[i+8],A=ao(C,y,o,null==l?Uo(C)&&si:l!=y&&0!=(3&C.type),d&je.Host&&p===C);return null!==A?Mi(s,y,A,C):$r}function ao(i,s,o,l,d){const p=i.providerIndexes,y=s.data,C=1048575&p,w=i.directiveStart,A=p>>20,$=d?C+A:i.directiveEnd;for(let X=l?C:C+A;X<$;X++){const de=y[X];if(X<w&&o===de||X>=w&&de.type===o)return X}if(d){const X=y[w];if(X&&tr(X)&&X.type===o)return w}return null}function Mi(i,s,o,l){let d=i[o];const p=s.data;if(function Ts(i){return i instanceof Qi}(d)){const y=d;y.resolving&&function We(i,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new ye(-200,`Circular dependency in DI detected for ${i}${o}`)}(function he(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ge(i)}(p[o]));const C=Qo(y.canSeeViewProviders);y.resolving=!0;const w=y.injectImpl?Nn(y.injectImpl):null;Ga(i,l,je.Default);try{d=i[o]=y.factory(void 0,p,i,l),s.firstCreatePass&&o>=l.directiveStart&&function gu(i,s,o){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:p}=s.type.prototype;if(l){const y=Cs(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(i,y),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,y)}d&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-i,d),p&&((o.preOrderHooks||(o.preOrderHooks=[])).push(i,p),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,p))}(o,p[o],s)}finally{null!==w&&Nn(w),Qo(C),y.resolving=!1,fu()}}return d}function il(i,s,o){return!!(o[s+(i>>5)]&1<<i)}function ta(i,s){return!(i&je.Self||i&je.Host&&s)}class Os{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,l){return Ps(this._tNode,this._lView,s,l,o)}}function uc(){return new Os(vn(),be())}function Ai(i){return _n(()=>{const s=i.prototype.constructor,o=s[kn]||sl(s),l=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==l;){const p=d[kn]||sl(d);if(p&&p!==o)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function sl(i){return xe(i)?()=>{const s=sl(q(i));return s&&s()}:ri(i)}function co(i){const s=i[1],o=s.type;return 2===o?s.declTNode:1===o?i[6]:null}function ol(i){return function wu(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const l=o.length;let d=0;for(;d<l;){const p=o[d];if(Ms(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<l&&"string"==typeof o[d];)d++;else{if(p===s)return o[d+1];d+=2}}}return null}(vn(),i)}const es="__parameters__";function fo(i,s,o){return _n(()=>{const l=function al(i){return function(...o){if(i){const l=i(...o);for(const d in l)this[d]=l[d]}}}(s);function d(...p){if(this instanceof d)return l.apply(this,p),this;const y=new d(...p);return C.annotation=y,C;function C(w,T,A){const N=w.hasOwnProperty(es)?w[es]:Object.defineProperty(w,es,{value:[]})[es];for(;N.length<=A;)N.push(null);return(N[A]=N[A]||[]).push(y),w}}return o&&(d.prototype=Object.create(o.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class tn{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Bt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function un(i,s){void 0===s&&(s=i);for(let o=0;o<i.length;o++){let l=i[o];Array.isArray(l)?(s===i&&(s=i.slice(0,o)),un(l,s)):s!==i&&s.push(l)}return s}function Wr(i,s){i.forEach(o=>Array.isArray(o)?Wr(o,s):s(o))}function ra(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function dr(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function st(i,s,o){let l=ns(i,s);return l>=0?i[1|l]=o:(l=~l,function hc(i,s,o,l){let d=i.length;if(d==s)i.push(o,l);else if(1===d)i.push(l,i[0]),i[0]=o;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=o,i[s+1]=l}}(i,l,s,o)),l}function sa(i,s){const o=ns(i,s);if(o>=0)return i[1|o]}function ns(i,s){return function go(i,s,o){let l=0,d=i.length>>o;for(;d!==l;){const p=l+(d-l>>1),y=i[p<<o];if(s===y)return p<<o;y>s?d=p:l=p+1}return~(d<<o)}(i,s,1)}const Gr={},gc="__NG_DI_FLAG__",_o="ngTempTokenPath",xi=/\n/gm,Yn="__source";let is;function Ri(i){const s=is;return is=i,s}function Tn(i,s=je.Default){if(void 0===is)throw new ye(-203,!1);return null===is?Ir(i,void 0,s):is.get(i,s&je.Optional?null:void 0,s)}function on(i,s=je.Default){return(function $i(){return er}()||Tn)(q(i),s)}function b(i,s=je.Default){return"number"!=typeof s&&(s=0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)),on(i,s)}function D(i){const s=[];for(let o=0;o<i.length;o++){const l=q(i[o]);if(Array.isArray(l)){if(0===l.length)throw new ye(900,!1);let d,p=je.Default;for(let y=0;y<l.length;y++){const C=l[y],w=L(C);"number"==typeof w?-1===w?d=C.token:p|=w:d=C}s.push(on(d,p))}else s.push(on(l))}return s}function M(i,s){return i[gc]=s,i.prototype[gc]=s,i}function L(i){return i[gc]}const Me=M(fo("Optional"),8),ut=M(fo("SkipSelf"),4);let Yd;function Of(i){Yd=i}class Su{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ci(i){return i instanceof Su?i.changingThisBreaksApplicationSecurity:i}const da=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Sn=(()=>((Sn=Sn||{})[Sn.NONE=0]="NONE",Sn[Sn.HTML=1]="HTML",Sn[Sn.STYLE=2]="STYLE",Sn[Sn.SCRIPT=3]="SCRIPT",Sn[Sn.URL=4]="URL",Sn[Sn.RESOURCE_URL=5]="RESOURCE_URL",Sn))();function Ou(i){const s=function hl(){const i=be();return i&&i[12]}();return s?s.sanitize(Sn.URL,i)||"":function Co(i,s){const o=function Jd(i){return i instanceof Su&&i.getTypeName()||null}(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}(i,"URL")?ci(i):function yc(i){return(i=String(i)).match(da)?i:"unsafe:"+i}(ge(i))}const rh=new tn("ENVIRONMENT_INITIALIZER"),$f=new tn("INJECTOR",-1),Wf=new tn("INJECTOR_DEF_TYPES");class Gf{get(s,o=Gr){if(o===Gr){const l=new Error(`NullInjectorError: No provider for ${ce(s)}!`);throw l.name="NullInjectorError",l}return o}}function zf(...i){return{\u0275providers:ku(0,i)}}function ku(i,...s){const o=[],l=new Set;let d;return Wr(s,p=>{const y=p;Ec(y,o,[],l)&&(d||(d=[]),d.push(y))}),void 0!==d&&Fu(d,o),o}function Fu(i,s){for(let o=0;o<i.length;o++){const{providers:d}=i[o];Wr(d,p=>{s.push(p)})}}function Ec(i,s,o,l){if(!(i=q(i)))return!1;let d=null,p=ji(i);const y=!p&&Y(i);if(p||y){if(y&&!y.standalone)return!1;d=i}else{const w=i.ngModule;if(p=ji(w),!p)return!1;d=w}const C=l.has(d);if(y){if(C)return!1;if(l.add(d),y.dependencies){const w="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const T of w)Ec(T,s,o,l)}}else{if(!p)return!1;{if(null!=p.imports&&!C){let T;l.add(d);try{Wr(p.imports,A=>{Ec(A,s,o,l)&&(T||(T=[]),T.push(A))})}finally{}void 0!==T&&Fu(T,s)}if(!C){const T=ri(d)||(()=>new d);s.push({provide:d,useFactory:T,deps:gt},{provide:Wf,useValue:d,multi:!0},{provide:rh,useValue:()=>on(d),multi:!0})}const w=p.providers;null==w||C||Wr(w,A=>{s.push(A)})}}return d!==i&&void 0!==i.providers}const Lu=le({provide:String,useValue:le});function wc(i){return null!==i&&"object"==typeof i&&Lu in i}function Zr(i){return"function"==typeof i}const fl=new tn("Set Injector scope."),pl={},ga={};let bc;function Vu(){return void 0===bc&&(bc=new Gf),bc}class rr{}class Uu extends rr{constructor(s,o,l,d){super(),this.parent=o,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wo(s,y=>this.processProvider(y)),this.records.set($f,zn(void 0,this)),d.has("environment")&&this.records.set(rr,zn(void 0,this));const p=this.records.get(fl);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Wf.multi,gt,je.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const o=Ri(this),l=Nn(void 0);try{return s()}finally{Ri(o),Nn(l)}}get(s,o=Gr,l=je.Default){this.assertNotDestroyed();const d=Ri(this),p=Nn(void 0);try{if(!(l&je.SkipSelf)){let C=this.records.get(s);if(void 0===C){const w=function Vg(i){return"function"==typeof i||"object"==typeof i&&i instanceof tn}(s)&&Zt(s);C=w&&this.injectableDefInScope(w)?zn(Dc(s),pl):null,this.records.set(s,C)}if(null!=C)return this.hydrate(s,C)}return(l&je.Self?Vu():this.parent).get(s,o=l&je.Optional&&o===Gr?null:o)}catch(y){if("NullInjectorError"===y.name){if((y[_o]=y[_o]||[]).unshift(ce(s)),d)throw y;return function K(i,s,o,l){const d=i[_o];throw s[Yn]&&d.unshift(s[Yn]),i.message=function te(i,s,o,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=ce(s);if(Array.isArray(s))d=s.map(ce).join(" -> ");else if("object"==typeof s){let p=[];for(let y in s)if(s.hasOwnProperty(y)){let C=s[y];p.push(y+":"+("string"==typeof C?JSON.stringify(C):ce(C)))}d=`{${p.join(", ")}}`}return`${o}${l?"("+l+")":""}[${d}]: ${i.replace(xi,"\n  ")}`}("\n"+i.message,d,o,l),i.ngTokenPath=d,i[_o]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{Nn(p),Ri(d)}}resolveInjectorInitializers(){const s=Ri(this),o=Nn(void 0);try{const l=this.get(rh.multi,gt,je.Self);for(const d of l)d()}finally{Ri(s),Nn(o)}}toString(){const s=[],o=this.records;for(const l of o.keys())s.push(ce(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ye(205,!1)}processProvider(s){let o=Zr(s=q(s))?s:q(s&&s.provide);const l=function ih(i){return wc(i)?zn(void 0,i.useValue):zn(Ic(i),pl)}(s);if(Zr(s)||!0!==s.multi)this.records.get(o);else{let d=this.records.get(o);d||(d=zn(void 0,pl,!0),d.factory=()=>D(d.multi),this.records.set(o,d)),o=s,d.multi.push(s)}this.records.set(o,l)}hydrate(s,o){return o.value===pl&&(o.value=ga,o.value=o.factory()),"object"==typeof o.value&&o.value&&function sh(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=q(s.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Dc(i){const s=Zt(i),o=null!==s?s.factory:ri(i);if(null!==o)return o;if(i instanceof tn)throw new ye(204,!1);if(i instanceof Function)return function qf(i){const s=i.length;if(s>0)throw function ts(i,s){const o=[];for(let l=0;l<i;l++)o.push(s);return o}(s,"?"),new ye(204,!1);const o=function or(i){const s=i&&(i[Ur]||i[Dr]);if(s){const o=function ar(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new ye(204,!1)}function Ic(i,s,o){let l;if(Zr(i)){const d=q(i);return ri(d)||Dc(d)}if(wc(i))l=()=>q(i.useValue);else if(function xr(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...D(i.deps||[]));else if(function hr(i){return!(!i||!i.useExisting)}(i))l=()=>on(q(i.useExisting));else{const d=q(i&&(i.useClass||i.provide));if(!function ma(i){return!!i.deps}(i))return ri(d)||Dc(d);l=()=>new d(...D(i.deps))}return l}function zn(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function Ni(i){return!!i.\u0275providers}function wo(i,s){for(const o of i)Array.isArray(o)?wo(o,s):Ni(o)?wo(o.\u0275providers,s):s(o)}class Bu{}class $u{resolveComponentFactory(s){throw function Kf(i){const s=Error(`No component factory found for ${ce(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let gl=(()=>{class i{}return i.NULL=new $u,i})();function Ug(){return _(vn(),be())}function _(i,s){return new h(ur(i,s))}let h=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=Ug,i})();function g(i){return i instanceof h?i.nativeElement:i}class S{}let P=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function G(){const i=be(),o=Ft(vn().index,i);return($n(o)?o:i)[11]}(),i})(),ae=(()=>{class i{}return i.\u0275prov=Bt({token:i,providedIn:"root",factory:()=>null}),i})();class Re{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const $e=new Re("14.2.8"),lt={};function $g(i){return i.ngOriginalError}class ch{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s);this._console.error("ERROR",s),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&$g(s);for(;o&&$g(o);)o=$g(o);return o||null}}const Wg=new Map;let rw=0;const tp="__ngContext__";function fr(i,s){$n(s)?(i[tp]=s[20],function sw(i){Wg.set(i[20],i)}(s)):i[tp]=s}function va(i){return i instanceof Function?i():i}var Do=(()=>((Do=Do||{})[Do.Important=1]="Important",Do[Do.DashCase=2]="DashCase",Do))();function Kg(i,s){return undefined(i,s)}function Zu(i){const s=i[3];return cr(s)?s[3]:s}function ip(i){return Ny(i[13])}function sp(i){return Ny(i[4])}function Ny(i){for(;null!==i&&!cr(i);)i=i[4];return i}function qu(i,s,o,l,d){if(null!=l){let p,y=!1;cr(l)?p=l:$n(l)&&(y=!0,l=l[0]);const C=yn(l);0===i&&null!==o?null==d?Hy(s,o,C):Io(s,o,C,d||null,!0):1===i&&null!==o?Io(s,o,C,d||null,!0):2===i?function vw(i,s,o){const l=lp(i,s);l&&function yw(i,s,o,l){i.removeChild(s,o,l)}(i,l,s,o)}(s,C,y):3===i&&s.destroyNode(C),null!=p&&function hT(i,s,o,l,d){const p=o[7];p!==yn(o)&&qu(s,i,l,p,d);for(let C=10;C<o.length;C++){const w=o[C];Sc(w[1],w,i,s,l,p)}}(s,i,p,o,d)}}function op(i,s,o){return i.createElement(s,o)}function Vy(i,s){const o=i[9],l=o.indexOf(s),d=s[3];512&s[2]&&(s[2]&=-513,pn(d,-1)),o.splice(l,1)}function Xg(i,s){if(i.length<=10)return;const o=10+s,l=i[o];if(l){const d=l[17];null!==d&&d!==i&&Vy(d,l),s>0&&(i[o-1][4]=l[4]);const p=dr(i,10+s);!function Jg(i,s){Sc(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const y=p[19];null!==y&&y.detachView(p[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function hh(i,s){if(!(128&s[2])){const o=s[11];o.destroyNode&&Sc(i,s,o,3,null,null),function uT(i){let s=i[13];if(!s)return ap(i[1],i);for(;s;){let o=null;if($n(s))o=s[13];else{const l=s[10];l&&(o=l)}if(!o){for(;s&&!s[4]&&s!==i;)$n(s)&&ap(s[1],s),s=s[3];null===s&&(s=i),$n(s)&&ap(s[1],s),o=s&&s[4]}s=o}}(s)}}function ap(i,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function tm(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let l=0;l<o.length;l+=2){const d=s[o[l]];if(!(d instanceof Qi)){const p=o[l+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const C=d[p[y]],w=p[y+1];try{w.call(C)}finally{}}else try{p.call(d)}finally{}}}}(i,s),function em(i,s){const o=i.cleanup,l=s[7];let d=-1;if(null!==o)for(let p=0;p<o.length-1;p+=2)if("string"==typeof o[p]){const y=o[p+1],C="function"==typeof y?y(s):yn(s[y]),w=l[d=o[p+2]],T=o[p+3];"boolean"==typeof T?C.removeEventListener(o[p],w,T):T>=0?l[d=T]():l[d=-T].unsubscribe(),p+=2}else{const y=l[d=o[p+1]];o[p].call(y)}if(null!==l){for(let p=d+1;p<l.length;p++)(0,l[p])();s[7]=null}}(i,s),1===s[1].type&&s[11].destroy();const o=s[17];if(null!==o&&cr(s[3])){o!==s[3]&&Vy(o,s);const l=s[19];null!==l&&l.detachView(i)}!function ow(i){Wg.delete(i[20])}(s)}}function Uy(i,s,o){return function By(i,s,o){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return o[0];if(2&l.flags){const d=i.data[l.directiveStart].encapsulation;if(d===Qe.None||d===Qe.Emulated)return null}return ur(l,o)}(i,s.parent,o)}function Io(i,s,o,l,d){i.insertBefore(s,o,l,d)}function Hy(i,s,o){i.appendChild(s,o)}function jy(i,s,o,l,d){null!==l?Io(i,s,o,l,d):Hy(i,s,o)}function lp(i,s){return i.parentNode(s)}let nm=function Wy(i,s,o){return 40&i.type?ur(i,o):null};function up(i,s,o,l){const d=Uy(i,l,s),p=s[11],C=function pr(i,s,o){return nm(i,s,o)}(l.parent||s[6],l,s);if(null!=d)if(Array.isArray(o))for(let w=0;w<o.length;w++)jy(p,d,o[w],C,!1);else jy(p,d,o,C,!1)}function dp(i,s){if(null!==s){const o=s.type;if(3&o)return ur(s,i);if(4&o)return Gy(-1,i[s.index]);if(8&o){const l=s.child;if(null!==l)return dp(i,l);{const d=i[s.index];return cr(d)?Gy(-1,d):yn(d)}}if(32&o)return Kg(s,i)()||yn(i[s.index]);{const l=rm(i,s);return null!==l?Array.isArray(l)?l[0]:dp(Zu(i[16]),l):dp(i,s.next)}}return null}function rm(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Gy(i,s){const o=10+i+1;if(o<s.length){const l=s[o],d=l[1].firstChild;if(null!==d)return dp(l,d)}return s[7]}function im(i,s,o,l,d,p,y){for(;null!=o;){const C=l[o.index],w=o.type;if(y&&0===s&&(C&&fr(yn(C),l),o.flags|=4),64!=(64&o.flags))if(8&w)im(i,s,o.child,l,d,p,!1),qu(s,i,d,C,p);else if(32&w){const T=Kg(o,l);let A;for(;A=T();)qu(s,i,d,A,p);qu(s,i,d,C,p)}else 16&w?ph(i,s,l,o,d,p):qu(s,i,d,C,p);o=y?o.projectionNext:o.next}}function Sc(i,s,o,l,d,p){im(o,l,i.firstChild,s,d,p,!1)}function ph(i,s,o,l,d,p){const y=o[16],w=y[6].projection[l.projection];if(Array.isArray(w))for(let T=0;T<w.length;T++)qu(s,i,d,w[T],p);else im(i,s,w,y[3],d,p,!0)}function Mc(i,s,o){i.setAttribute(s,"style",o)}function gh(i,s,o){""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o)}function Cw(i,s,o){let l=i.length;for(;;){const d=i.indexOf(s,o);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const p=s.length;if(d+p===l||i.charCodeAt(d+p)<=32)return d}o=d+1}}const sm="ng-template";function om(i,s,o){let l=0;for(;l<i.length;){let d=i[l++];if(o&&"class"===d){if(d=i[l],-1!==Cw(d.toLowerCase(),s,0))return!0}else if(1===d){for(;l<i.length&&"string"==typeof(d=i[l++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function qy(i){return 4===i.type&&i.value!==sm}function ww(i,s,o){return s===(4!==i.type||o?i.value:sm)}function bw(i,s,o){let l=4;const d=i.attrs||[],p=function fT(i){for(let s=0;s<i.length;s++)if(Ms(i[s]))return s;return i.length}(d);let y=!1;for(let C=0;C<s.length;C++){const w=s[C];if("number"!=typeof w){if(!y)if(4&l){if(l=2|1&l,""!==w&&!ww(i,w,o)||""===w&&1===s.length){if(ls(l))return!1;y=!0}}else{const T=8&l?w:s[++C];if(8&l&&null!==i.attrs){if(!om(i.attrs,T,o)){if(ls(l))return!1;y=!0}continue}const N=Dw(8&l?"class":w,d,qy(i),o);if(-1===N){if(ls(l))return!1;y=!0;continue}if(""!==T){let $;$=N>p?"":d[N+1].toLowerCase();const X=8&l?$:null;if(X&&-1!==Cw(X,T,0)||2&l&&T!==$){if(ls(l))return!1;y=!0}}}}else{if(!y&&!ls(l)&&!ls(w))return!1;if(y&&ls(w))continue;y=!1,l=w|1&l}}return ls(l)||y}function ls(i){return 0==(1&i)}function Dw(i,s,o,l){if(null===s)return-1;let d=0;if(l||!o){let p=!1;for(;d<s.length;){const y=s[d];if(y===i)return d;if(3===y||6===y)p=!0;else{if(1===y||2===y){let C=s[++d];for(;"string"==typeof C;)C=s[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=p?1:2}return-1}return function Ky(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const l=i[o];if("number"==typeof l)return-1;if(l===s)return o;o++}return-1}(s,i)}function Iw(i,s,o=!1){for(let l=0;l<s.length;l++)if(bw(i,s[l],o))return!0;return!1}function Yy(i,s){return i?":not("+s.trim()+")":s}function Qy(i){let s=i[0],o=1,l=2,d="",p=!1;for(;o<i.length;){let y=i[o];if("string"==typeof y)if(2&l){const C=i[++o];d+="["+y+(C.length>0?'="'+C+'"':"")+"]"}else 8&l?d+="."+y:4&l&&(d+=" "+y);else""!==d&&!ls(y)&&(s+=Yy(p,d),d=""),l=y,p=p||!ls(l);o++}return""!==d&&(s+=Yy(p,d)),s}const It={};function Jy(i){Xy(At(),be(),Vn()+i,!1)}function Xy(i,s,o,l){if(!l)if(3==(3&s[2])){const p=i.preOrderCheckHooks;null!==p&&Is(s,p,o)}else{const p=i.preOrderHooks;null!==p&&io(s,p,0,o)}vr(o)}function nv(i,s=null,o=null,l){const d=rv(i,s,o,l);return d.resolveInjectorInitializers(),d}function rv(i,s=null,o=null,l,d=new Set){const p=[o||gt,zf(i)];return l=l||("object"==typeof i?void 0:ce(i)),new Uu(p,s||Vu(),l||null,d)}let Ac=(()=>{class i{static create(o,l){if(Array.isArray(o))return nv({name:""},l,o,"");{const d=o.name??"";return nv({name:d},o.parent,o.providers,d)}}}return i.THROW_IF_NOT_FOUND=Gr,i.NULL=new Gf,i.\u0275prov=Bt({token:i,providedIn:"any",factory:()=>on($f)}),i.__NG_ELEMENT_ID__=-1,i})();function Ju(i,s=je.Default){const o=be();return null===o?on(i,s):Ps(vn(),o,q(i),s)}function _h(){throw new Error("invalid")}function cs(i,s){return i<<17|s<<2}function Xn(i){return i>>17&32767}function Nc(i){return 2|i}function Bs(i){return(131068&i)>>2}function gp(i,s){return-131069&i|s<<2}function mp(i){return 1|i}function Ev(i,s){const o=i.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const d=o[l],p=o[l+1];if(-1!==p){const y=i.data[p];Zo(d),y.contentQueries(2,s[p],p)}}}function bh(i,s,o,l,d,p,y,C,w,T,A){const N=s.blueprint.slice();return N[0]=d,N[2]=76|l,(null!==A||i&&1024&i[2])&&(N[2]|=1024),La(N),N[3]=N[15]=i,N[8]=o,N[10]=y||i&&i[10],N[11]=C||i&&i[11],N[12]=w||i&&i[12]||null,N[9]=T||i&&i[9]||null,N[6]=p,N[20]=function iw(){return rw++}(),N[21]=A,N[16]=2==s.type?i[16]:N,N}function ed(i,s,o,l,d){let p=i.data[s];if(null===p)p=function Em(i,s,o,l,d){const p=$a(),y=jo(),w=i.data[s]=function Iv(i,s,o,l,d,p){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,o,s,l,d);return null===i.firstChild&&(i.firstChild=w),null!==p&&(y?null==p.child&&null!==w.parent&&(p.child=w):null===p.next&&(p.next=w)),w}(i,s,o,l,d),function wf(){return mt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=o,p.value=l,p.attrs=d;const y=function ro(){const i=mt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Mr(p,!0),p}function td(i,s,o,l){if(0===o)return-1;const d=s.length;for(let p=0;p<o;p++)s.push(l),i.blueprint.push(l),i.data.push(null);return d}function So(i,s,o){za(s);try{const l=i.viewQuery;null!==l&&Ip(1,l,o);const d=i.template;null!==d&&bv(i,s,d,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Ev(i,s),i.staticViewQueries&&Ip(2,i.viewQuery,o);const p=i.components;null!==p&&function wv(i,s){for(let o=0;o<s.length;o++)Jw(i,s[o])}(s,p)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,bs()}}function nd(i,s,o,l){const d=s[2];if(128!=(128&d)){za(s);try{La(s),function Jl(i){return mt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&bv(i,s,o,2,l);const y=3==(3&d);if(y){const T=i.preOrderCheckHooks;null!==T&&Is(s,T,null)}else{const T=i.preOrderHooks;null!==T&&io(s,T,0,null),mu(s,0)}if(function us(i){for(let s=ip(i);null!==s;s=sp(s)){if(!s[2])continue;const o=s[9];for(let l=0;l<o.length;l++){const d=o[l],p=d[3];0==(512&d[2])&&pn(p,1),d[2]|=512}}}(s),function Mm(i){for(let s=ip(i);null!==s;s=sp(s))for(let o=10;o<s.length;o++){const l=s[o],d=l[1];Es(l)&&nd(d,l,d.template,l[8])}}(s),null!==i.contentQueries&&Ev(i,s),y){const T=i.contentCheckHooks;null!==T&&Is(s,T)}else{const T=i.contentHooks;null!==T&&io(s,T,1),mu(s,1)}!function $w(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const d=o[l];if(d<0)vr(~d);else{const p=d,y=o[++l],C=o[++l];bf(y,p),C(2,s[p])}}}finally{vr(-1)}}(i,s);const C=i.components;null!==C&&function Ww(i,s){for(let o=0;o<s.length;o++)Qw(i,s[o])}(s,C);const w=i.viewQuery;if(null!==w&&Ip(2,w,l),y){const T=i.viewCheckHooks;null!==T&&Is(s,T)}else{const T=i.viewHooks;null!==T&&io(s,T,2),mu(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,pn(s[3],-1))}finally{bs()}}}function bv(i,s,o,l,d){const p=Vn(),y=2&l;try{vr(-1),y&&s.length>22&&Xy(i,s,22,!1),o(l,d)}finally{vr(p)}}function rd(i,s,o){!Ti()||(function wp(i,s,o,l){const d=o.directiveStart,p=o.directiveEnd;i.firstCreatePass||As(o,s),fr(l,s);const y=o.initialInputs;for(let C=d;C<p;C++){const w=i.data[C],T=tr(w);T&&Yw(s,o,w);const A=Mi(s,i,C,o);fr(A,s),null!==y&&Mn(0,C-d,A,w,0,y),T&&(Ft(o.index,s)[8]=A)}}(i,s,o,ur(o,s)),128==(128&o.flags)&&function Av(i,s,o){const l=o.directiveStart,d=o.directiveEnd,p=o.index,y=function Xl(){return mt.lFrame.currentDirectiveIndex}();try{vr(p);for(let C=l;C<d;C++){const w=i.data[C],T=s[C];Wa(C),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&Sm(w,T)}}finally{vr(-1),Wa(y)}}(i,s,o))}function wl(i,s,o=ur){const l=s.localNames;if(null!==l){let d=s.index+1;for(let p=0;p<l.length;p+=2){const y=l[p+1],C=-1===y?o(s,i):i[y];i[d++]=C}}}function wm(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=bm(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function bm(i,s,o,l,d,p,y,C,w,T){const A=22+l,N=A+d,$=function Gw(i,s){const o=[];for(let l=0;l<s;l++)o.push(l<i?null:It);return o}(A,N),X="function"==typeof T?T():T;return $[1]={type:i,blueprint:$,template:o,queries:null,viewQuery:C,declTNode:s,data:$.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:w,consts:X,incompleteFirstPass:!1}}function Cp(i,s,o,l){const d=xv(s);null===o?d.push(l):(d.push(o),i.firstCreatePass&&Rv(i).push(l,d.length-1))}function Tv(i,s,o){for(let l in i)if(i.hasOwnProperty(l)){const d=i[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(s,d):o[l]=[s,d]}return o}function Dm(i,s){const l=s.directiveEnd,d=i.data,p=s.attrs,y=[];let C=null,w=null;for(let T=s.directiveStart;T<l;T++){const A=d[T],N=A.inputs,$=null===p||qy(s)?null:Nt(N,p);y.push($),C=Tv(N,T,C),w=Tv(A.outputs,T,w)}null!==C&&(C.hasOwnProperty("class")&&(s.flags|=16),C.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=C,s.outputs=w}function di(i,s,o,l,d,p,y,C){const w=ur(s,o);let A,T=s.inputs;!C&&null!=T&&(A=T[l])?(Ot(i,o,A,l,d),Uo(s)&&Im(o,s.index)):3&s.type&&(l=function Zw(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),d=null!=y?y(d,s.value||"",l):d,p.setProperty(w,l,d))}function Im(i,s){const o=Ft(s,i);16&o[2]||(o[2]|=32)}function Ep(i,s,o,l){let d=!1;if(Ti()){const p=function Xt(i,s,o){const l=i.directiveRegistry;let d=null;if(l)for(let p=0;p<l.length;p++){const y=l[p];Iw(o,y.selectors,!1)&&(d||(d=[]),Ji(As(o,s),i,y.type),tr(y)?(Wt(i,o),d.unshift(y)):d.push(y))}return d}(i,s,o),y=null===l?null:{"":-1};if(null!==p){d=!0,an(o,i.data.length,p.length);for(let A=0;A<p.length;A++){const N=p[A];N.providersResolver&&N.providersResolver(N)}let C=!1,w=!1,T=td(i,s,p.length,null);for(let A=0;A<p.length;A++){const N=p[A];o.mergedAttrs=qo(o.mergedAttrs,N.hostAttrs),bp(i,o,s,T,N),bl(T,N,y),null!==N.contentQueries&&(o.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(o.flags|=128);const $=N.type.prototype;!C&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(o.index),C=!0),!w&&($.ngOnChanges||$.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(o.index),w=!0),T++}Dm(i,o)}y&&function Rt(i,s,o){if(s){const l=i.localNames=[];for(let d=0;d<s.length;d+=2){const p=o[s[d+1]];if(null==p)throw new ye(-301,!1);l.push(s[d],p)}}}(o,l,y)}return o.mergedAttrs=qo(o.mergedAttrs,o.attrs),d}function Tm(i,s,o,l,d,p){const y=p.hostBindings;if(y){let C=i.hostBindingOpCodes;null===C&&(C=i.hostBindingOpCodes=[]);const w=~s.index;(function Mv(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(C)!=w&&C.push(w),C.push(l,d,y)}}function Sm(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Wt(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function bl(i,s,o){if(o){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)o[s.exportAs[l]]=i;tr(s)&&(o[""]=i)}}function an(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}function bp(i,s,o,l,d){i.data[l]=d;const p=d.factory||(d.factory=ri(d.type)),y=new Qi(p,tr(d),Ju);i.blueprint[l]=y,o[l]=y,Tm(i,s,0,l,td(i,o,d.hostVars,It),d)}function Yw(i,s,o){const l=ur(s,i),d=wm(o),p=i[10],y=Mo(i,bh(i,d,null,o.onPush?32:16,l,s,p,p.createRenderer(l,o),null,null,null));i[s.index]=y}function hi(i,s,o,l,d,p){const y=ur(i,s);!function Dp(i,s,o,l,d,p,y){if(null==p)i.removeAttribute(s,d,o);else{const C=null==y?ge(p):y(p,l||"",d);i.setAttribute(s,d,C,o)}}(s[11],y,p,i.value,o,l,d)}function Mn(i,s,o,l,d,p){const y=p[s];if(null!==y){const C=l.setInput;for(let w=0;w<y.length;){const T=y[w++],A=y[w++],N=y[w++];null!==C?l.setInput(o,N,T,A):o[A]=N}}}function Nt(i,s){let o=null,l=0;for(;l<s.length;){const d=s[l];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===o&&(o=[]),o.push(d,i[d],s[l+1])),l+=2}else l+=2;else l+=4}return o}function Pv(i,s,o,l){return new Array(i,!0,!1,s,null,0,l,o,null,null)}function Qw(i,s){const o=Ft(s,i);if(Es(o)){const l=o[1];48&o[2]?nd(l,o,l.template,o[8]):o[5]>0&&Am(o)}}function Am(i){for(let l=ip(i);null!==l;l=sp(l))for(let d=10;d<l.length;d++){const p=l[d];if(Es(p))if(512&p[2]){const y=p[1];nd(y,p,y.template,p[8])}else p[5]>0&&Am(p)}const o=i[1].components;if(null!==o)for(let l=0;l<o.length;l++){const d=Ft(o[l],i);Es(d)&&d[5]>0&&Am(d)}}function Jw(i,s){const o=Ft(s,i),l=o[1];(function Ov(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(l,o),So(l,o,o[8])}function Mo(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Dh(i){for(;i;){i[2]|=32;const s=Zu(i);if(kd(i)&&!s)return i;i=s}return null}function Dl(i,s,o,l=!0){const d=s[10];d.begin&&d.begin();try{nd(i,s,i.template,o)}catch(y){throw l&&Il(s,y),y}finally{d.end&&d.end()}}function Ip(i,s,o){Zo(0),s(i,o)}function xv(i){return i[7]||(i[7]=[])}function Rv(i){return i.cleanup||(i.cleanup=[])}function Il(i,s){const o=i[9],l=o?o.get(ch,null):null;l&&l.handleError(s)}function Ot(i,s,o,l,d){for(let p=0;p<o.length;){const y=o[p++],C=o[p++],w=s[y],T=i.data[y];null!==T.setInput?T.setInput(w,d,l,C):w[C]=d}}function kc(i,s,o){let l=o?i.styles:null,d=o?i.classes:null,p=0;if(null!==s)for(let y=0;y<s.length;y++){const C=s[y];"number"==typeof C?p=C:1==p?d=ue(d,C):2==p&&(l=ue(l,C+": "+s[++y]+";"))}o?i.styles=l:i.stylesWithoutHost=l,o?i.classes=d:i.classesWithoutHost=d}function Ih(i,s,o,l,d=!1){for(;null!==o;){const p=s[o.index];if(null!==p&&l.push(yn(p)),cr(p))for(let C=10;C<p.length;C++){const w=p[C],T=w[1].firstChild;null!==T&&Ih(w[1],w,T,l)}const y=o.type;if(8&y)Ih(i,s,o.child,l);else if(32&y){const C=Kg(o,s);let w;for(;w=C();)l.push(w)}else if(16&y){const C=rm(s,o);if(Array.isArray(C))l.push(...C);else{const w=Zu(s[16]);Ih(w[1],w,C,l,!0)}}o=d?o.projectionNext:o.next}return l}class pi{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return Ih(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(cr(s)){const o=s[8],l=o?o.indexOf(this):-1;l>-1&&(Xg(s,l),dr(o,l))}this._attachedToViewContainer=!1}hh(this._lView[1],this._lView)}onDestroy(s){Cp(this._lView[1],this._lView,null,s)}markForCheck(){Dh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Dl(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ye(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ly(i,s){Sc(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new ye(902,!1);this._appRef=s}}class Tp extends pi{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Dl(s[1],s,s[8],!1)}checkNoChanges(){}get context(){return null}}class ki extends gl{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=Y(s);return new Fc(o,this.ngModule)}}function Nv(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}class Xw{constructor(s,o){this.injector=s,this.parentInjector=o}get(s,o,l){const d=this.injector.get(s,lt,l);return d!==lt||o===lt?d:this.parentInjector.get(s,o,l)}}class Fc extends Bu{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function Sw(i){return i.map(Qy).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return Nv(this.componentDef.inputs)}get outputs(){return Nv(this.componentDef.outputs)}create(s,o,l,d){let p=(d=d||this.ngModule)instanceof rr?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new Xw(s,p):s,C=y.get(S,null);if(null===C)throw new ye(407,!1);const w=y.get(ae,null),T=C.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",N=l?function zw(i,s,o){return i.selectRootElement(s,o===Qe.ShadowDom)}(T,l,this.componentDef.encapsulation):op(C.createRenderer(null,this.componentDef),A,function gi(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(A)),$=this.componentDef.onPush?288:272,X=bm(0,null,null,1,0,null,null,null,null,null),de=bh(null,X,null,$,null,null,C,T,w,y,null);let Se,Ue;za(de);try{const Ye=function Fv(i,s,o,l,d,p){const y=o[1];o[22]=i;const w=ed(y,22,2,"#host",null),T=w.mergedAttrs=s.hostAttrs;null!==T&&(kc(w,T,!0),null!==i&&(oo(d,i,T),null!==w.classes&&gh(d,i,w.classes),null!==w.styles&&Mc(d,i,w.styles)));const A=l.createRenderer(i,s),N=bh(o,wm(s),null,s.onPush?32:16,o[22],w,l,A,p||null,null,null);return y.firstCreatePass&&(Ji(As(w,o),y,s.type),Wt(y,w),an(w,o.length,1)),Mo(o,N),o[22]=N}(N,this.componentDef,de,C,T);if(N)if(l)oo(T,N,["ng-version",$e.full]);else{const{attrs:dt,classes:De}=function Mw(i){const s=[],o=[];let l=1,d=2;for(;l<i.length;){let p=i[l];if("string"==typeof p)2===d?""!==p&&s.push(p,i[++l]):8===d&&o.push(p);else{if(!ls(d))break;d=p}l++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);dt&&oo(T,N,dt),De&&De.length>0&&gh(T,N,De.join(" "))}if(Ue=no(X,22),void 0!==o){const dt=Ue.projection=[];for(let De=0;De<this.ngContentSelectors.length;De++){const _t=o[De];dt.push(null!=_t?Array.from(_t):null)}}Se=function id(i,s,o,l){const d=o[1],p=function Kw(i,s,o){const l=vn();i.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),bp(i,l,s,td(i,s,1,null),o),Dm(i,l));const d=Mi(s,i,l.directiveStart,l);fr(d,s);const p=ur(l,s);return p&&fr(p,s),d}(d,o,s);if(i[8]=o[8]=p,null!==l)for(const C of l)C(p,s);if(s.contentQueries){const C=vn();s.contentQueries(1,p,C.directiveStart)}const y=vn();return!d.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(vr(y.index),Tm(o[1],y,0,y.directiveStart,y.directiveEnd,s),Sm(s,p)),p}(Ye,this.componentDef,de,[Lv]),So(X,de,null)}finally{bs()}return new kv(this.componentType,Se,_(Ue,de),de,Ue)}}class kv extends class oh{}{constructor(s,o,l,d,p){super(),this.location=l,this._rootLView=d,this._tNode=p,this.instance=o,this.hostView=this.changeDetectorRef=new Tp(d),this.componentType=s}setInput(s,o){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[s])){const p=this._rootLView;Ot(p[1],p,d,s,o),Im(p,this._tNode.index)}}get injector(){return new Os(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Lv(){const i=vn();Ka(be()[1],i)}function Rm(i){let s=function xm(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const l=[i];for(;s;){let d;if(tr(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new ye(903,!1);d=s.\u0275dir}if(d){if(o){l.push(d);const y=i;y.inputs=Nm(i.inputs),y.declaredInputs=Nm(i.declaredInputs),y.outputs=Nm(i.outputs);const C=d.hostBindings;C&&rb(i,C);const w=d.viewQuery,T=d.contentQueries;if(w&&gn(i,w),T&&nb(i,T),oe(i.inputs,d.inputs),oe(i.declaredInputs,d.declaredInputs),oe(i.outputs,d.outputs),tr(d)&&d.data.animation){const A=i.data;A.animation=(A.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let y=0;y<p.length;y++){const C=p[y];C&&C.ngInherit&&C(i),C===Rm&&(o=!1)}}s=Object.getPrototypeOf(s)}!function tb(i){let s=0,o=null;for(let l=i.length-1;l>=0;l--){const d=i[l];d.hostVars=s+=d.hostVars,d.hostAttrs=qo(d.hostAttrs,o=qo(o,d.hostAttrs))}}(l)}function Nm(i){return i===mr?{}:i===gt?[]:i}function gn(i,s){const o=i.viewQuery;i.viewQuery=o?(l,d)=>{s(l,d),o(l,d)}:s}function nb(i,s){const o=i.contentQueries;i.contentQueries=o?(l,d,p)=>{s(l,d,p),o(l,d,p)}:s}function rb(i,s){const o=i.hostBindings;i.hostBindings=o?(l,d)=>{s(l,d),o(l,d)}:s}let hs=null;function Hs(){if(!hs){const i=$t.Symbol;if(i&&i.iterator)hs=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const l=s[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(hs=l)}}}return hs}function Th(i){return!!wn(i)&&(Array.isArray(i)||!(i instanceof Map)&&Hs()in i)}function wn(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Zn(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function Lm(i,s,o,l){const d=be();return Zn(d,ws(),s)&&(At(),hi(sn(),d,i,s,o,l)),Lm}function Uc(i,s,o,l){return Zn(i,ws(),o)?s+ge(o)+l:It}function Vm(i,s,o,l,d,p,y,C){const w=be(),T=At(),A=i+22,N=T.firstCreatePass?function Wv(i,s,o,l,d,p,y,C,w){const T=s.consts,A=ed(s,i,4,y||null,jr(T,C));Ep(s,o,A,jr(T,w)),Ka(s,A);const N=A.tViews=bm(2,A,l,d,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T);return null!==s.queries&&(s.queries.template(s,A),N.queries=s.queries.embeddedTView(A)),A}(A,T,w,s,o,l,d,p,y):T.data[A];Mr(N,!1);const $=w[11].createComment("");up(T,w,$,N),fr($,w),Mo(w,w[A]=Pv($,w,$,N)),$l(N)&&rd(T,w,N),null!=y&&wl(w,N,C)}function ad(i,s,o){const l=be();return Zn(l,ws(),s)&&di(At(),sn(),l,i,s,l[11],o,!1),ad}function Sl(i,s,o,l,d){const y=d?"class":"style";Ot(i,o,s.inputs[y],y,l)}function ld(i,s,o,l){const d=be(),p=At(),y=22+i,C=d[11],w=d[y]=op(C,s,function qa(){return mt.lFrame.currentNamespace}()),T=p.firstCreatePass?function Um(i,s,o,l,d,p,y){const C=s.consts,T=ed(s,i,2,d,jr(C,p));return Ep(s,o,T,jr(C,y)),null!==T.attrs&&kc(T,T.attrs,!1),null!==T.mergedAttrs&&kc(T,T.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,T),T}(y,p,d,0,s,o,l):p.data[y];Mr(T,!0);const A=T.mergedAttrs;null!==A&&oo(C,w,A);const N=T.classes;null!==N&&gh(C,w,N);const $=T.styles;return null!==$&&Mc(C,w,$),64!=(64&T.flags)&&up(p,d,w,T),0===function Ua(){return mt.lFrame.elementDepthCount}()&&fr(w,d),function Ba(){mt.lFrame.elementDepthCount++}(),$l(T)&&(rd(p,d,T),function Dv(i,s,o){if(Pa(s)){const d=s.directiveEnd;for(let p=s.directiveStart;p<d;p++){const y=i.data[p];y.contentQueries&&y.contentQueries(1,o[p],p)}}}(p,T,d)),null!==l&&wl(d,T),ld}function xp(){let i=vn();jo()?function $o(){mt.lFrame.isParent=!1}():(i=i.parent,Mr(i,!1));const s=i;!function ql(){mt.lFrame.elementDepthCount--}();const o=At();return o.firstCreatePass&&(Ka(o,i),Pa(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Ja(i){return 0!=(16&i.flags)}(s)&&Sl(o,s,be(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function yu(i){return 0!=(32&i.flags)}(s)&&Sl(o,s,be(),s.stylesWithoutHost,!1),xp}function Bm(i,s,o,l){return ld(i,s,o,l),xp(),Bm}function Li(){return be()}function Ph(i){return!!i&&"function"==typeof i.then}function Rp(i){return!!i&&"function"==typeof i.subscribe}const Np=Rp;function cd(i,s,o,l){const d=be(),p=At(),y=vn();return function jc(i,s,o,l,d,p,y,C){const w=$l(l),A=i.firstCreatePass&&Rv(i),N=s[8],$=xv(s);let X=!0;if(3&l.type||C){const Ue=ur(l,s),Ye=C?C(Ue):Ue,dt=$.length,De=C?Gt=>C(yn(Gt[l.index])):l.index;let _t=null;if(!C&&w&&(_t=function Hc(i,s,o,l){const d=i.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const y=d[p];if(y===o&&d[p+1]===l){const C=s[7],w=d[p+2];return C.length>w?C[w]:null}"string"==typeof y&&(p+=2)}return null}(i,s,d,l.index)),null!==_t)(_t.__ngLastListenerFn__||_t).__ngNextListenerFn__=p,_t.__ngLastListenerFn__=p,X=!1;else{p=Zv(l,s,N,p,!1);const Gt=o.listen(Ye,d,p);$.push(p,Gt),A&&A.push(d,De,dt,dt+1)}}else p=Zv(l,s,N,p,!1);const de=l.outputs;let Se;if(X&&null!==de&&(Se=de[d])){const Ue=Se.length;if(Ue)for(let Ye=0;Ye<Ue;Ye+=2){const fn=s[Se[Ye]][Se[Ye+1]].subscribe(p),Jc=$.length;$.push(p,fn),A&&A.push(d,l.index,Jc,-(Jc+1))}}}(p,d,d[11],y,i,s,0,l),cd}function wa(i,s,o,l){try{return!1!==o(l)}catch(d){return Il(i,d),!1}}function Zv(i,s,o,l,d){return function p(y){if(y===Function)return l;Dh(2&i.flags?Ft(i.index,s):s);let w=wa(s,0,l,y),T=p.__ngNextListenerFn__;for(;T;)w=wa(s,0,T,y)&&w,T=T.__ngNextListenerFn__;return d&&!1===w&&(y.preventDefault(),y.returnValue=!1),w}}function qv(i=1){return function Ds(i){return(mt.lFrame.contextLView=function Za(i,s){for(;i>0;)s=s[15],i--;return s}(i,mt.lFrame.contextLView))[8]}(i)}function dd(i,s,o){return $c(i,"",s,"",o),dd}function $c(i,s,o,l,d){const p=be(),y=Uc(p,s,o,l);return y!==It&&di(At(),sn(),p,i,y,p[11],d,!1),$c}function Al(i,s,o,l,d){const p=i[o+1],y=null===s;let C=l?Xn(p):Bs(p),w=!1;for(;0!==C&&(!1===w||y);){const A=i[C+1];Jv(i[C],s)&&(w=!0,i[C+1]=l?mp(A):Nc(A)),C=l?Xn(A):Bs(A)}w&&(i[o+1]=l?Nc(p):mp(p))}function Jv(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&ns(i,s)>=0}function zm(i,s){return function Ui(i,s,o,l){const d=be(),p=At(),y=function Si(i){const s=mt.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}(2);p.firstUpdatePass&&function sC(i,s,o,l){const d=i.data;if(null===d[o+1]){const p=d[Vn()],y=function Nh(i,s){return s>=i.expandoStartIndex}(i,o);(function Vp(i,s){return 0!=(i.flags&(s?16:32))})(p,l)&&null===s&&!y&&(s=!1),s=function Zm(i,s,o,l){const d=function zo(i){const s=mt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let p=l?s.residualClasses:s.residualStyles;if(null===d)0===(l?s.classBindings:s.styleBindings)&&(o=gd(o=qm(null,i,s,o,l),s.attrs,l),p=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==d)if(o=qm(d,i,s,o,l),null===p){let w=function oC(i,s,o){const l=o?s.classBindings:s.styleBindings;if(0!==Bs(l))return i[Xn(l)]}(i,s,l);void 0!==w&&Array.isArray(w)&&(w=qm(null,i,s,w[1],l),w=gd(w,s.attrs,l),function aC(i,s,o,l){i[Xn(o?s.classBindings:s.styleBindings)]=l}(i,s,l,w))}else p=function fb(i,s,o){let l;const d=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<d;p++)l=gd(l,i[p].hostAttrs,o);return gd(l,s.attrs,o)}(i,s,l)}return void 0!==p&&(l?s.residualClasses=p:s.residualStyles=p),o}(d,p,s,l),function Qv(i,s,o,l,d,p){let y=p?s.classBindings:s.styleBindings,C=Xn(y),w=Bs(y);i[l]=o;let A,T=!1;if(Array.isArray(o)){const N=o;A=N[1],(null===A||ns(N,A)>0)&&(T=!0)}else A=o;if(d)if(0!==w){const $=Xn(i[C+1]);i[l+1]=cs($,C),0!==$&&(i[$+1]=gp(i[$+1],l)),i[C+1]=function Nw(i,s){return 131071&i|s<<17}(i[C+1],l)}else i[l+1]=cs(C,0),0!==C&&(i[C+1]=gp(i[C+1],l)),C=l;else i[l+1]=cs(w,0),0===C?C=l:i[w+1]=gp(i[w+1],l),w=l;T&&(i[l+1]=Nc(i[l+1])),Al(i,A,l,!0),Al(i,A,l,!1),function Wm(i,s,o,l,d){const p=d?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof s&&ns(p,s)>=0&&(o[l+1]=mp(o[l+1]))}(s,A,i,l,p),y=cs(C,w),p?s.classBindings=y:s.styleBindings=y}(d,p,s,o,y,l)}}(p,i,y,l),s!==It&&Zn(d,y,s)&&function cC(i,s,o,l,d,p,y,C){if(!(3&s.type))return;const w=i.data,T=w[C+1];kh(function ir(i){return 1==(1&i)}(T)?uC(w,s,o,d,Bs(T),y):void 0)||(kh(p)||function vl(i){return 2==(2&i)}(T)&&(p=uC(w,null,o,d,C,y)),function Zy(i,s,o,l,d){if(s)d?i.addClass(o,l):i.removeClass(o,l);else{let p=-1===l.indexOf("-")?void 0:Do.DashCase;null==d?i.removeStyle(o,l,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=Do.Important),i.setStyle(o,l,d,p))}}(l,y,Sr(Vn(),o),d,p))}(p,p.data[Vn()],d,d[11],i,d[y+1]=function Lp(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=ce(ci(i)))),i}(s,o),l,y)}(i,s,null,!0),zm}function qm(i,s,o,l,d){let p=null;const y=o.directiveEnd;let C=o.directiveStylingLast;for(-1===C?C=o.directiveStart:C++;C<y&&(p=s[C],l=gd(l,p.hostAttrs,d),p!==i);)C++;return null!==i&&(o.directiveStylingLast=C),l}function gd(i,s,o){const l=o?1:2;let d=-1;if(null!==s)for(let p=0;p<s.length;p++){const y=s[p];"number"==typeof y?d=y:d===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),st(i,y,!!o||s[++p]))}return void 0===i?null:i}function uC(i,s,o,l,d,p){const y=null===s;let C;for(;d>0;){const w=i[d],T=Array.isArray(w),A=T?w[1]:w,N=null===A;let $=o[d+1];$===It&&($=N?gt:void 0);let X=N?sa($,l):A===l?$:void 0;if(T&&!kh(X)&&(X=sa(w,l)),kh(X)&&(C=X,y))return C;const de=i[d+1];d=y?Xn(de):Bs(de)}if(null!==s){let w=p?s.residualClasses:s.residualStyles;null!=w&&(C=sa(w,l))}return C}function kh(i){return void 0!==i}function Ym(i,s=""){const o=be(),l=At(),d=i+22,p=l.firstCreatePass?ed(l,d,1,s,null):l.data[d],y=o[d]=function Qg(i,s){return i.createText(s)}(o[11],s);up(l,o,y,p),Mr(p,!1)}function Qm(i){return Fh("",i,""),Qm}function Fh(i,s,o){const l=be(),d=Uc(l,i,s,o);return d!==It&&function ds(i,s,o){const l=Sr(s,i);!function ky(i,s,o){i.setValue(s,o)}(i[11],l,o)}(l,Vn(),d),Fh}const $s=void 0;var bb=["en",[["a","p"],["AM","PM"],$s],[["AM","PM"],$s,$s],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$s,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$s,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$s,"{1} 'at' {0}",$s],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function wb(i){const o=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let md={};function jp(i){const s=function PC(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=Uh(s);if(o)return o;const l=s.split("-")[0];if(o=Uh(l),o)return o;if("en"===l)return bb;throw new ye(701,!1)}function $p(i){return jp(i)[at.PluralCase]}function Uh(i){return i in md||(md[i]=$t.ng&&$t.ng.common&&$t.ng.common.locales&&$t.ng.common.locales[i]),md[i]}var at=(()=>((at=at||{})[at.LocaleId=0]="LocaleId",at[at.DayPeriodsFormat=1]="DayPeriodsFormat",at[at.DayPeriodsStandalone=2]="DayPeriodsStandalone",at[at.DaysFormat=3]="DaysFormat",at[at.DaysStandalone=4]="DaysStandalone",at[at.MonthsFormat=5]="MonthsFormat",at[at.MonthsStandalone=6]="MonthsStandalone",at[at.Eras=7]="Eras",at[at.FirstDayOfWeek=8]="FirstDayOfWeek",at[at.WeekendRange=9]="WeekendRange",at[at.DateFormat=10]="DateFormat",at[at.TimeFormat=11]="TimeFormat",at[at.DateTimeFormat=12]="DateTimeFormat",at[at.NumberSymbols=13]="NumberSymbols",at[at.NumberFormats=14]="NumberFormats",at[at.CurrencyCode=15]="CurrencyCode",at[at.CurrencySymbol=16]="CurrencySymbol",at[at.CurrencyName=17]="CurrencyName",at[at.Currencies=18]="Currencies",at[at.Directionality=19]="Directionality",at[at.PluralCase=20]="PluralCase",at[at.ExtraData=21]="ExtraData",at))();const No="en-US";let vd=No;function Zh(i,s,o,l,d){if(i=q(i),Array.isArray(i))for(let p=0;p<i.length;p++)Zh(i[p],s,o,l,d);else{const p=At(),y=be();let C=Zr(i)?i:q(i.provide),w=Ic(i);const T=vn(),A=1048575&T.providerIndexes,N=T.directiveStart,$=T.providerIndexes>>20;if(Zr(i)||!i.multi){const X=new Qi(w,d,Ju),de=p_(C,s,d?A:A+$,N);-1===de?(Ji(As(T,y),p,C),qh(p,i,s.length),s.push(C),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),o.push(X),y.push(X)):(o[de]=X,y[de]=X)}else{const X=p_(C,s,A+$,N),de=p_(C,s,A,A+$),Se=X>=0&&o[X],Ue=de>=0&&o[de];if(d&&!Ue||!d&&!Se){Ji(As(T,y),p,C);const Ye=function t0(i,s,o,l,d){const p=new Qi(i,o,Ju);return p.multi=[],p.index=s,p.componentProviders=0,e0(p,d,l&&!o),p}(d?jb:g_,o.length,d,l,w);!d&&Ue&&(o[de].providerFactory=Ye),qh(p,i,s.length,0),s.push(C),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),o.push(Ye),y.push(Ye)}else qh(p,i,X>-1?X:de,e0(o[d?de:X],w,!d&&l));!d&&l&&Ue&&o[de].componentProviders++}}}function qh(i,s,o,l){const d=Zr(s),p=function Zf(i){return!!i.useClass}(s);if(d||p){const w=(p?q(s.useClass):s).prototype.ngOnDestroy;if(w){const T=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const A=T.indexOf(o);-1===A?T.push(o,[l,w]):T[A+1].push(l,w)}else T.push(o,w)}}}function e0(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function p_(i,s,o,l){for(let d=o;d<l;d++)if(s[d]===i)return d;return-1}function g_(i,s,o,l){return tg(this.multi,[])}function jb(i,s,o,l){const d=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,C=Mi(o,o[1],this.providerFactory.index,l);p=C.slice(0,y),tg(d,p);for(let w=y;w<C.length;w++)p.push(C[w])}else p=[],tg(d,p);return p}function tg(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function ng(i,s=[]){return o=>{o.providersResolver=(l,d)=>function eg(i,s,o){const l=At();if(l.firstCreatePass){const d=tr(i);Zh(o,l.data,l.blueprint,d,!0),Zh(s,l.data,l.blueprint,d,!1)}}(l,d?d(i):i,s)}}class Gc{}class Yr{}function rg(i,s){return new Kh(i,s??null)}class Kh extends Gc{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ki(this);const l=Jt(s);this._bootstrapComponents=va(l.bootstrap),this._r3Injector=rv(s,o,[{provide:Gc,useValue:this},{provide:gl,useValue:this.componentFactoryResolver}],ce(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class mi extends Yr{constructor(s){super(),this.moduleType=s}create(s){return new Kh(this.moduleType,s)}}class Zc extends Gc{constructor(s,o,l){super(),this.componentFactoryResolver=new ki(this),this.instance=null;const d=new Uu([...s,{provide:Gc,useValue:this},{provide:gl,useValue:this.componentFactoryResolver}],o||Vu(),l,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function ig(i,s,o=null){return new Zc(i,s,o).injector}let n0=(()=>{class i{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const l=ku(0,o.type),d=l.length>0?ig([l],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,d)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=Bt({token:i,providedIn:"environment",factory:()=>new i(on(rr))}),i})();function Nl(i){i.getStandaloneInjector=s=>s.get(n0).getOrCreateStandaloneInjector(i)}function p0(i,s,o,l,d,p,y){const C=s+o;return function Ea(i,s,o,l){const d=Zn(i,s,o);return Zn(i,s+1,l)||d}(i,C,d,p)?function Ao(i,s,o){return i[s]=o}(i,C+2,y?l.call(y,d,p):l(d,p)):function Jh(i,s){const o=i[s];return o===It?void 0:o}(i,C+2)}function y0(i,s){const o=At();let l;const d=i+22;o.firstCreatePass?(l=function nD(i,s){if(s)for(let o=s.length-1;o>=0;o--){const l=s[o];if(i===l.name)return l}}(s,o.pipeRegistry),o.data[d]=l,l.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(d,l.onDestroy)):l=o.data[d];const p=l.factory||(l.factory=ri(l.type)),y=Nn(Ju);try{const C=Qo(!1),w=p();return Qo(C),function Op(i,s,o,l){o>=i.data.length&&(i.data[o]=null,i.blueprint[o]=null),s[o]=l}(o,be(),d,w),w}finally{Nn(y)}}function v0(i,s,o,l){const d=i+22,p=be(),y=function Ii(i,s){return i[s]}(p,d);return function qc(i,s){return i[1].data[s].pure}(p,d)?p0(p,function Cn(){const i=mt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}(),s,y.transform,o,l,y):y.transform(o,l)}function m_(i){return s=>{setTimeout(i,void 0,s)}}const zs=class C0 extends u.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,l){let d=s,p=o||(()=>null),y=l;if(s&&"object"==typeof s){const w=s;d=w.next?.bind(w),p=w.error?.bind(w),y=w.complete?.bind(w)}this.__isAsync&&(p=m_(p),d&&(d=m_(d)),y&&(y=m_(y)));const C=super.subscribe({next:d,error:p,complete:y});return s instanceof J.w0&&s.add(C),C}};function oD(){return this._results[Hs()]()}class __{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Hs(),l=__.prototype;l[o]||(l[o]=oD)}get changes(){return this._changes||(this._changes=new zs)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const l=this;l.dirty=!1;const d=un(s);(this._changesDetected=!function Pr(i,s,o){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let d=i[l],p=s[l];if(o&&(d=o(d),p=o(p)),p!==d)return!1}return!0}(l._results,d,o))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Xh=(()=>{class i{}return i.__NG_ELEMENT_ID__=lD,i})();const aD=Xh,E0=class extends aD{constructor(s,o,l){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(s,o){const l=this._declarationTContainer.tViews,d=bh(this._declarationLView,l,s,16,null,l.declTNode,null,null,null,null,o||null);d[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(d[19]=y.createEmbeddedView(l)),So(l,d,s),new pi(d)}};function lD(){return lg(vn(),be())}function lg(i,s){return 4&i.type?new E0(s,i,_(i,s)):null}let y_=(()=>{class i{}return i.__NG_ELEMENT_ID__=w0,i})();function w0(){return I0(vn(),be())}const cD=y_,b0=class extends cD{constructor(s,o,l){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=l}get element(){return _(this._hostTNode,this._hostLView)}get injector(){return new Os(this._hostTNode,this._hostLView)}get parentInjector(){const s=nl(this._hostTNode,this._hostLView);if(Cu(s)){const o=Yo(s,this._hostLView),l=Wn(s);return new Os(o[1].data[l+8],o)}return new Os(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=D0(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,l){let d,p;"number"==typeof l?d=l:null!=l&&(d=l.index,p=l.injector);const y=s.createEmbeddedView(o||{},p);return this.insert(y,d),y}createComponent(s,o,l,d,p){const y=s&&!function Ar(i){return"function"==typeof i}(s);let C;if(y)C=o;else{const N=o||{};C=N.index,l=N.injector,d=N.projectableNodes,p=N.environmentInjector||N.ngModuleRef}const w=y?s:new Fc(Y(s)),T=l||this.parentInjector;if(!p&&null==w.ngModule){const $=(y?T:this.parentInjector).get(rr,null);$&&(p=$)}const A=w.create(T,d,void 0,p);return this.insert(A.hostView,C),A}insert(s,o){const l=s._lView,d=l[1];if(function Fa(i){return cr(i[3])}(l)){const A=this.indexOf(s);if(-1!==A)this.detach(A);else{const N=l[3],$=new b0(N,N[6],N[3]);$.detach($.indexOf(s))}}const p=this._adjustIndex(o),y=this._lContainer;!function mw(i,s,o,l){const d=10+l,p=o.length;l>0&&(o[d-1][4]=s),l<p-10?(s[4]=o[d],ra(o,10+l,s)):(o.push(s),s[4]=null),s[3]=o;const y=s[17];null!==y&&o!==y&&function _w(i,s){const o=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===o?i[9]=[s]:o.push(s)}(y,s);const C=s[19];null!==C&&C.insertView(i),s[2]|=64}(d,l,y,p);const C=Gy(p,y),w=l[11],T=lp(w,y[7]);return null!==T&&function Fy(i,s,o,l,d,p){l[0]=d,l[6]=s,Sc(i,l,o,1,d,p)}(d,y[6],w,l,T,C),s.attachToViewContainerRef(),ra(v_(y),p,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=D0(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),l=Xg(this._lContainer,o);l&&(dr(v_(this._lContainer),o),hh(l[1],l))}detach(s){const o=this._adjustIndex(s,-1),l=Xg(this._lContainer,o);return l&&null!=dr(v_(this._lContainer),o)?new pi(l):null}_adjustIndex(s,o=0){return s??this.length+o}};function D0(i){return i[8]}function v_(i){return i[8]||(i[8]=[])}function I0(i,s){let o;const l=s[i.index];if(cr(l))o=l;else{let d;if(8&i.type)d=yn(l);else{const p=s[11];d=p.createComment("");const y=ur(i,s);Io(p,lp(p,y),d,function $y(i,s){return i.nextSibling(s)}(p,y),!1)}s[i.index]=o=Pv(l,s,d,i),Mo(s,o)}return new b0(o,i,s)}class C_{constructor(s){this.queryList=s,this.matches=null}clone(){return new C_(this.queryList)}setDirty(){this.queryList.setDirty()}}class T0{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const l=null!==s.contentQueries?s.contentQueries[0]:o.length,d=[];for(let p=0;p<l;p++){const y=o.getByIndex(p);d.push(this.queries[y.indexInDeclarationView].clone())}return new T0(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==ef(s,o).matches&&this.queries[o].setDirty()}}class hD{constructor(s,o,l=null){this.predicate=s,this.flags=o,this.read=l}}class E_{constructor(s=[]){this.queries=s}elementStart(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let l=0;l<this.length;l++){const d=null!==o?o.length:0,p=this.getByIndex(l).embeddedTView(s,d);p&&(p.indexInDeclarationView=l,null!==o?o.push(p):o=[p])}return null!==o?new E_(o):null}template(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class w_{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new w_(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const p=l[d];this.matchTNodeWithReadOption(s,o,fD(o,p)),this.matchTNodeWithReadOption(s,o,ao(o,s,p,!1,!1))}else l===Xh?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,ao(o,s,l,!1,!1))}matchTNodeWithReadOption(s,o,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===h||d===y_||d===Xh&&4&o.type)this.addMatch(o.index,-2);else{const p=ao(o,s,d,!1,!1);null!==p&&this.addMatch(o.index,p)}else this.addMatch(o.index,l)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function fD(i,s){const o=i.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===s)return o[l+1];return null}function pD(i,s,o,l){return-1===o?function S0(i,s){return 11&i.type?_(i,s):4&i.type?lg(i,s):null}(s,i):-2===o?function gD(i,s,o){return o===h?_(s,i):o===Xh?lg(s,i):o===y_?I0(s,i):void 0}(i,s,l):Mi(i,i[1],o,s)}function M0(i,s,o,l){const d=s[19].queries[l];if(null===d.matches){const p=i.data,y=o.matches,C=[];for(let w=0;w<y.length;w+=2){const T=y[w];C.push(T<0?null:pD(s,p[T],y[w+1],o.metadata.read))}d.matches=C}return d.matches}function b_(i,s,o,l){const d=i.queries.getByIndex(o),p=d.matches;if(null!==p){const y=M0(i,s,d,o);for(let C=0;C<p.length;C+=2){const w=p[C];if(w>0)l.push(y[C/2]);else{const T=p[C+1],A=s[-w];for(let N=10;N<A.length;N++){const $=A[N];$[17]===$[3]&&b_($[1],$,T,l)}if(null!==A[9]){const N=A[9];for(let $=0;$<N.length;$++){const X=N[$];b_(X[1],X,T,l)}}}}}return l}function Ta(i){const s=be(),o=At(),l=ec();Zo(l+1);const d=ef(o,l);if(i.dirty&&function ka(i){return 4==(4&i[2])}(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const p=d.crossesNgTemplate?b_(o,s,l,[]):M0(o,s,d,l);i.reset(p,g),i.notifyOnChanges()}return!0}return!1}function _i(i,s,o,l){const d=At();if(d.firstCreatePass){const p=vn();(function P0(i,s,o){null===i.queries&&(i.queries=new E_),i.queries.track(new w_(s,o))})(d,new hD(s,o,l),p.index),function _D(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(d,i),2==(2&o)&&(d.staticContentQueries=!0)}!function A0(i,s,o){const l=new __(4==(4&o));Cp(i,s,l,l.destroy),null===s[19]&&(s[19]=new T0),s[19].queries.push(new C_(l))}(d,be(),o)}function Td(){return function mD(i,s){return i[19].queries[s].queryList}(be(),ec())}function ef(i,s){return i.queries.getByIndex(s)}function Sd(...i){}const Md=new tn("Application Initializer");let dg=(()=>{class i{constructor(o){this.appInits=o,this.resolve=Sd,this.reject=Sd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(Ph(p))o.push(p);else if(Np(p)){const y=new Promise((C,w)=>{p.subscribe({complete:C,error:w})});o.push(y)}}Promise.all(o).then(()=>{l()}).catch(d=>{this.reject(d)}),0===o.length&&l(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(on(Md,8))},i.\u0275prov=Bt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const hg=new tn("AppId",{providedIn:"root",factory:function fg(){return`${cf()}${cf()}${cf()}`}});function cf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const x_=new tn("Platform Initializer"),z0=new tn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),pg=new tn("appBootstrapListener"),ND=new tn("AnimationModuleType");let kD=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Bt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Ad=new tn("LocaleId",{providedIn:"root",factory:()=>b(Ad,je.Optional|je.SkipSelf)||function gg(){return typeof $localize<"u"&&$localize.locale||No}()}),R_=new tn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class q0{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}let Pd=(()=>{class i{compileModuleSync(o){return new mi(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),p=va(Jt(o).declarations).reduce((y,C)=>{const w=Y(C);return w&&y.push(new Fc(w)),y},[]);return new q0(l,p)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Bt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const VD=(()=>Promise.resolve(0))();function N_(i){typeof Zone>"u"?VD.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Xr{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zs(!1),this.onMicrotaskEmpty=new zs(!1),this.onStable=new zs(!1),this.onError=new zs(!1),typeof Zone>"u")throw new ye(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&o,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function UD(){let i=$t.requestAnimationFrame,s=$t.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function BD(i){const s=()=>{!function k_(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call($t,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,F_(i),i.isCheckStableRunning=!0,mg(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),F_(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,d,p,y,C)=>{try{return X0(i),o.invokeTask(d,p,y,C)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&s(),L_(i)}},onInvoke:(o,l,d,p,y,C,w)=>{try{return X0(i),o.invoke(d,p,y,C,w)}finally{i.shouldCoalesceRunChangeDetection&&s(),L_(i)}},onHasTask:(o,l,d,p)=>{o.hasTask(d,p),l===d&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,F_(i),mg(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(o,l,d,p)=>(o.handleError(d,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xr.isInAngularZone())throw new ye(909,!1)}static assertNotInAngularZone(){if(Xr.isInAngularZone())throw new ye(909,!1)}run(s,o,l){return this._inner.run(s,o,l)}runTask(s,o,l,d){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+d,s,J0,Sd,Sd);try{return p.runTask(y,o,l)}finally{p.cancelTask(y)}}runGuarded(s,o,l){return this._inner.runGuarded(s,o,l)}runOutsideAngular(s){return this._outer.run(s)}}const J0={};function mg(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function F_(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function X0(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function L_(i){i._nesting--,mg(i)}class eE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zs,this.onMicrotaskEmpty=new zs,this.onStable=new zs,this.onError=new zs}run(s,o,l){return s.apply(o,l)}runGuarded(s,o,l){return s.apply(o,l)}runOutsideAngular(s){return s()}runTask(s,o,l,d){return s.apply(o,l)}}const V_=new tn(""),U_=new tn("");let nE,tE=(()=>{class i{constructor(o,l,d){this._ngZone=o,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,nE||(function jD(i){nE=i}(d),d.addToWindow(l)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xr.assertNotInAngularZone(),N_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())N_(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,d){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:p,updateCb:d})}whenStable(o,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,l,d){return[]}}return i.\u0275fac=function(o){return new(o||i)(on(Xr),on(HD),on(U_))},i.\u0275prov=Bt({token:i,factory:i.\u0275fac}),i})(),HD=(()=>{class i{constructor(){this._applications=new Map}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return nE?.findTestabilityInTree(this,o,l)??null}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Bt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),Yc=null;const _g=new tn("AllowMultipleToken"),rE=new tn("PlatformDestroyListeners");class B_{constructor(s,o){this.name=s,this.token=o}}function oE(i,s,o=[]){const l=`Platform: ${s}`,d=new tn(l);return(p=[])=>{let y=lE();if(!y||y.injector.get(_g,!1)){const C=[...o,...p,{provide:d,useValue:!0}];i?i(C):function H_(i){if(Yc&&!Yc.get(_g,!1))throw new ye(400,!1);Yc=i;const s=i.get($D);(function yg(i){const s=i.get(x_,null);s&&s.forEach(o=>o())})(i)}(function aE(i=[],s){return Ac.create({name:s,providers:[{provide:fl,useValue:"platform"},{provide:rE,useValue:new Set([()=>Yc=null])},...i]})}(C,l))}return function qT(i){const s=lE();if(!s)throw new ye(401,!1);return s}()}}function lE(){return Yc?.get($D)??null}let $D=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const d=function WD(i,s){let o;return o="noop"===i?new eE:("zone.js"===i?void 0:i)||new Xr(s),o}(l?.ngZone,function cE(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(l)),p=[{provide:Xr,useValue:d}];return d.run(()=>{const y=Ac.create({providers:p,parent:this.injector,name:o.moduleType.name}),C=o.create(y),w=C.injector.get(ch,null);if(!w)throw new ye(402,!1);return d.runOutsideAngular(()=>{const T=d.onError.subscribe({next:A=>{w.handleError(A)}});C.onDestroy(()=>{$_(this._modules,C),T.unsubscribe()})}),function GD(i,s,o){try{const l=o();return Ph(l)?l.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(w,d,()=>{const T=C.injector.get(dg);return T.runInitializers(),T.donePromise.then(()=>(function RC(i){St(i,"Expected localeId to be defined"),"string"==typeof i&&(vd=i.toLowerCase().replace(/_/g,"-"))}(C.injector.get(Ad,No)||No),this._moduleDoBootstrap(C),C))})})}bootstrapModule(o,l=[]){const d=zD({},l);return function iE(i,s,o){const l=new mi(o);return Promise.resolve(l)}(0,0,o).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(o){const l=o.injector.get(j_);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!o.instance.ngDoBootstrap)throw new ye(403,!1);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ye(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const o=this._injector.get(rE,null);o&&(o.forEach(l=>l()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(on(Ac))},i.\u0275prov=Bt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function zD(i,s){return Array.isArray(s)?s.reduce(zD,i):{...i,...s}}let j_=(()=>{class i{constructor(o,l,d){this._zone=o,this._injector=l,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new R.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),y=new R.y(C=>{let w;this._zone.runOutsideAngular(()=>{w=this._zone.onStable.subscribe(()=>{Xr.assertNotInAngularZone(),N_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{Xr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{w.unsubscribe(),T.unsubscribe()}});this.isStable=(0,se.T)(p,y.pipe((0,ie.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,l){const d=o instanceof Bu;if(!this._injector.get(dg).done)throw!d&&Vt(o),new ye(405,false);let y;y=d?o:this._injector.get(gl).resolveComponentFactory(o),this.componentTypes.push(y.componentType);const C=function sE(i){return i.isBoundToModule}(y)?void 0:this._injector.get(Gc),T=y.create(Ac.NULL,[],l||y.selector,C),A=T.location.nativeElement,N=T.injector.get(V_,null);return N?.registerApplication(A),T.onDestroy(()=>{this.detachView(T.hostView),$_(this.components,T),N?.unregisterApplication(A)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new ye(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;$_(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(pg,[]).concat(this._bootstrapListeners).forEach(d=>d(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>$_(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new ye(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(o){return new(o||i)(on(Xr),on(rr),on(ch))},i.\u0275prov=Bt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function $_(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}let G_=!0,z_=!1;function uE(){return z_=!0,G_}function dE(){if(z_)throw new Error("Cannot enable prod mode after platform setup.");G_=!1}let q_=(()=>{class i{}return i.__NG_ELEMENT_ID__=YD,i})();function YD(i){return function QD(i,s,o){if(Uo(i)&&!o){const l=Ft(i.index,s);return new pi(l,l)}return 47&i.type?new pi(s[16],s):null}(vn(),be(),16==(16&i))}class pE{constructor(){}supports(s){return Th(s)}create(s){return new sI(s)}}const J_=(i,s)=>s;class sI{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||J_}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,l=this._removalsHead,d=0,p=null;for(;o||l;){const y=!l||o&&o.currentIndex<Fl(l,d,p)?o:l,C=Fl(y,d,p),w=y.currentIndex;if(y===l)d--,l=l._nextRemoved;else if(o=o._next,null==y.previousIndex)d++;else{p||(p=[]);const T=C-d,A=w-d;if(T!=A){for(let $=0;$<T;$++){const X=$<p.length?p[$]:p[$]=0,de=X+$;A<=de&&de<T&&(p[$]=X+1)}p[y.previousIndex]=A-T}}C!==w&&s(y,C,w)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!Th(s))throw new ye(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,p,y,o=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let C=0;C<this.length;C++)p=s[C],y=this._trackByFn(C,p),null!==o&&Object.is(o.trackById,y)?(l&&(o=this._verifyReinsertion(o,p,y,C)),Object.is(o.item,p)||this._addIdentityChange(o,p)):(o=this._mismatch(o,p,y,C),l=!0),o=o._next}else d=0,function ib(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[Hs()]();let l;for(;!(l=o.next()).done;)s(l.value)}}(s,C=>{y=this._trackByFn(d,C),null!==o&&Object.is(o.trackById,y)?(l&&(o=this._verifyReinsertion(o,C,y,d)),Object.is(o.item,C)||this._addIdentityChange(o,C)):(o=this._mismatch(o,C,y,d),l=!0),o=o._next,d++}),this.length=d;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,l,d){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,p,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,p,d)):s=this._addAfter(new gE(o,l),p,d),s}_verifyReinsertion(s,o,l,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?s=this._reinsertAfter(p,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,p=s._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(s,o,l),this._addToMoves(s,l),s}_moveAfter(s,o,l){return this._unlink(s),this._insertAfter(s,o,l),this._addToMoves(s,l),s}_addAfter(s,o,l){return this._insertAfter(s,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,l){const d=null===o?this._itHead:o._next;return s._next=d,s._prev=o,null===d?this._itTail=s:d._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new X_),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,l=s._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new X_),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class gE{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oI{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const o=s._prevDup,l=s._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class X_{constructor(){this.map=new Map}put(s){const o=s.trackById;let l=this.map.get(o);l||(l=new oI,this.map.set(o,l)),l.add(s)}get(s,o){const d=this.map.get(s);return d?d.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Fl(i,s,o){const l=i.previousIndex;if(null===l)return l;let d=0;return o&&l<o.length&&(d=o[l]),l+s+d}class qs{constructor(){}supports(s){return s instanceof Map||wn(s)}create(){return new aI}}class aI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||wn(s)))throw new ye(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,d)=>{if(o&&o.key===d)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const p=this._getOrCreateRecordForKey(d,l);o=this._insertBeforeOrAppend(o,p)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const l=s._prev;return o._next=s,o._prev=l,s._prev=o,l&&(l._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,o);const p=d._prev,y=d._next;return p&&(p._next=y),y&&(y._prev=p),d._next=null,d._prev=null,d}const l=new mE(s);return this._records.set(s,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(l=>o(s[l],l))}}class mE{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function _E(){return new ey([new pE])}let ey=(()=>{class i{constructor(o){this.factories=o}static create(o,l){if(null!=l){const d=l.factories.slice();o=o.concat(d)}return new i(o)}static extend(o){return{provide:i,useFactory:l=>i.create(o,l||_E()),deps:[[i,new ut,new Me]]}}find(o){const l=this.factories.find(d=>d.supports(o));if(null!=l)return l;throw new ye(901,!1)}}return i.\u0275prov=Bt({token:i,providedIn:"root",factory:_E}),i})();function Od(){return new ty([new qs])}let ty=(()=>{class i{constructor(o){this.factories=o}static create(o,l){if(l){const d=l.factories.slice();o=o.concat(d)}return new i(o)}static extend(o){return{provide:i,useFactory:l=>i.create(o,l||Od()),deps:[[i,new ut,new Me]]}}find(o){const l=this.factories.find(d=>d.supports(o));if(l)return l;throw new ye(901,!1)}}return i.\u0275prov=Bt({token:i,providedIn:"root",factory:Od}),i})();const lI=oE(null,"core",[]);let tS=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(on(j_))},i.\u0275mod=bt({type:i}),i.\u0275inj=Et({}),i})();function vE(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},3942:(Je,Ee,k)=>{k.d(Ee,{Z:()=>ye});var u=k(2090),J=k(4859),R=k(9681),se=k(1877);class ie{constructor(ge,he){this._delegate=ge,this.firebase=he,(0,R._addComponent)(ge,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(ge,he=R._DEFAULT_ENTRY_NAME){var We;this._delegate.checkDestroyed();const Ke=this._delegate.container.getProvider(ge);return!Ke.isInitialized()&&"EXPLICIT"===(null===(We=Ke.getComponent())||void 0===We?void 0:We.instantiationMode)&&Ke.initialize(),Ke.getImmediate({identifier:he})}_removeServiceInstance(ge,he=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(he)}_addComponent(ge){(0,R._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,R._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const oe=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function ue(){const Ze=function ce(Ze){const ge={},he={__esModule:!0,initializeApp:function Ie(Fe,U={}){const pe=R.initializeApp(Fe,U);if((0,u.r3)(ge,pe.name))return ge[pe.name];const z=new Ze(pe,he);return ge[pe.name]=z,z},app:Ke,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function Ce(Fe){const U=Fe.name,pe=U.replace("-compat","");if(R._registerComponent(Fe)&&"PUBLIC"===Fe.type){const z=(Q=Ke())=>{if("function"!=typeof Q[pe])throw oe.create("invalid-app-argument",{appName:U});return Q[pe]()};void 0!==Fe.serviceProps&&(0,u.ZB)(z,Fe.serviceProps),he[pe]=z,Ze.prototype[pe]=function(...Q){return this._getService.bind(this,U).apply(this,Fe.multipleInstances?Q:[])}}return"PUBLIC"===Fe.type?he[pe]:null},removeApp:function We(Fe){delete ge[Fe]},useAsService:function ke(Fe,U){return"serverAuth"===U?null:U},modularAPIs:R}};function Ke(Fe){if(!(0,u.r3)(ge,Fe=Fe||R._DEFAULT_ENTRY_NAME))throw oe.create("no-app",{appName:Fe});return ge[Fe]}return he.default=he,Object.defineProperty(he,"apps",{get:function me(){return Object.keys(ge).map(Fe=>ge[Fe])}}),Ke.App=Ze,he}(ie);return Ze.INTERNAL=Object.assign(Object.assign({},Ze.INTERNAL),{createFirebaseNamespace:ue,extendNamespace:function ge(he){(0,u.ZB)(Ze,he)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Ze}(),H=new se.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ze=self.firebase.SDK_VERSION;Ze&&Ze.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ye=B;!function Te(Ze){(0,R.registerVersion)("@firebase/app-compat","0.1.38",Ze)}()},9681:(Je,Ee,k)=>{k.r(Ee),k.d(Ee,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>ji,_DEFAULT_ENTRY_NAME:()=>St,_addComponent:()=>Lt,_addOrOverwriteComponent:()=>Bt,_apps:()=>zt,_clearComponents:()=>vi,_components:()=>nn,_getProvider:()=>Et,_registerComponent:()=>sr,_removeServiceInstance:()=>Zt,deleteApp:()=>Js,getApp:()=>gr,getApps:()=>Dr,initializeApp:()=>Ur,onLog:()=>$i,registerVersion:()=>er,setLogLevel:()=>Nn});var u=k(5861),J=k(4859),R=k(1877),se=k(2090),ie=k(8766);class le{constructor(we){this.container=we}getPlatformInfoString(){return this.container.getProviders().map(Ge=>{if(function oe(ze){return"VERSION"===ze.getComponent()?.type}(Ge)){const ht=Ge.getImmediate();return`${ht.library}/${ht.version}`}return null}).filter(Ge=>Ge).join(" ")}}const ce="@firebase/app",B=new R.Yd("@firebase/app"),St="[DEFAULT]",Be={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},zt=new Map,nn=new Map;function Lt(ze,we){try{ze.container.addComponent(we)}catch(Ge){B.debug(`Component ${we.name} failed to register with FirebaseApp ${ze.name}`,Ge)}}function Bt(ze,we){ze.container.addOrOverwriteComponent(we)}function sr(ze){const we=ze.name;if(nn.has(we))return B.debug(`There were multiple attempts to register component ${we}.`),!1;nn.set(we,ze);for(const Ge of zt.values())Lt(Ge,ze);return!0}function Et(ze,we){const Ge=ze.container.getProvider("heartbeat").getImmediate({optional:!0});return Ge&&Ge.triggerHeartbeat(),ze.container.getProvider(we)}function Zt(ze,we,Ge=St){Et(ze,we).clearInstance(Ge)}function vi(){nn.clear()}const or=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ar{constructor(we,Ge,ht){this._isDeleted=!1,this._options=Object.assign({},we),this._config=Object.assign({},Ge),this._name=Ge.name,this._automaticDataCollectionEnabled=Ge.automaticDataCollectionEnabled,this._container=ht,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this.checkDestroyed(),this._automaticDataCollectionEnabled=we}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(we){this._isDeleted=we}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}const ji="9.13.0";function Ur(ze,we={}){let Ge=ze;"object"!=typeof we&&(we={name:we});const ht=Object.assign({name:St,automaticDataCollectionEnabled:!1},we),ct=ht.name;if("string"!=typeof ct||!ct)throw or.create("bad-app-name",{appName:String(ct)});if(Ge||(Ge=(0,se.aH)()),!Ge)throw or.create("no-options");const bt=zt.get(ct);if(bt){if((0,se.vZ)(Ge,bt.options)&&(0,se.vZ)(ht,bt.config))return bt;throw or.create("duplicate-app",{appName:ct})}const j=new J.H0(ct);for(const Z of nn.values())j.addComponent(Z);const V=new ar(Ge,ht,j);return zt.set(ct,V),V}function gr(ze=St){const we=zt.get(ze);if(!we&&ze===St)return Ur();if(!we)throw or.create("no-app",{appName:ze});return we}function Dr(){return Array.from(zt.values())}function Js(ze){return je.apply(this,arguments)}function je(){return(je=(0,u.Z)(function*(ze){const we=ze.name;zt.has(we)&&(zt.delete(we),yield Promise.all(ze.container.getProviders().map(Ge=>Ge.delete())),ze.isDeleted=!0)})).apply(this,arguments)}function er(ze,we,Ge){var ht;let ct=null!==(ht=Be[ze])&&void 0!==ht?ht:ze;Ge&&(ct+=`-${Ge}`);const bt=ct.match(/\s|\//),j=we.match(/\s|\//);if(bt||j){const V=[`Unable to register library "${ct}" with version "${we}":`];return bt&&V.push(`library name "${ct}" contains illegal characters (whitespace or "/")`),bt&&j&&V.push("and"),j&&V.push(`version name "${we}" contains illegal characters (whitespace or "/")`),void B.warn(V.join(" "))}sr(new J.wA(`${ct}-version`,()=>({library:ct,version:we}),"VERSION"))}function $i(ze,we){if(null!==ze&&"function"!=typeof ze)throw or.create("invalid-log-argument");(0,R.Am)(ze,we)}function Nn(ze){(0,R.Ub)(ze)}const _n="firebase-heartbeat-store";let Pn=null;function en(){return Pn||(Pn=(0,ie.X3)("firebase-heartbeat-database",1,{upgrade:(ze,we)=>{0===we&&ze.createObjectStore(_n)}}).catch(ze=>{throw or.create("idb-open",{originalErrorMessage:ze.message})})),Pn}function Qe(){return(Qe=(0,u.Z)(function*(ze){var we;try{return(yield en()).transaction(_n).objectStore(_n).get(bn(ze))}catch(Ge){if(Ge instanceof se.ZR)B.warn(Ge.message);else{const ht=or.create("idb-get",{originalErrorMessage:null===(we=Ge)||void 0===we?void 0:we.message});B.warn(ht.message)}}})).apply(this,arguments)}function $t(ze,we){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,u.Z)(function*(ze,we){var Ge;try{const ct=(yield en()).transaction(_n,"readwrite");return yield ct.objectStore(_n).put(we,bn(ze)),ct.done}catch(ht){if(ht instanceof se.ZR)B.warn(ht.message);else{const ct=or.create("idb-set",{originalErrorMessage:null===(Ge=ht)||void 0===Ge?void 0:Ge.message});B.warn(ct.message)}}})).apply(this,arguments)}function bn(ze){return`${ze.name}!${ze.options.appId}`}class Ci{constructor(we){this.container=we,this._heartbeatsCache=null;const Ge=this.container.getProvider("app").getImmediate();this._storage=new jt(Ge),this._heartbeatsCachePromise=this._storage.read().then(ht=>(this._heartbeatsCache=ht,ht))}triggerHeartbeat(){var we=this;return(0,u.Z)(function*(){const ht=we.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ct=Ht();if(null===we._heartbeatsCache&&(we._heartbeatsCache=yield we._heartbeatsCachePromise),we._heartbeatsCache.lastSentHeartbeatDate!==ct&&!we._heartbeatsCache.heartbeats.some(bt=>bt.date===ct))return we._heartbeatsCache.heartbeats.push({date:ct,agent:ht}),we._heartbeatsCache.heartbeats=we._heartbeatsCache.heartbeats.filter(bt=>{const j=new Date(bt.date).valueOf();return Date.now()-j<=2592e6}),we._storage.overwrite(we._heartbeatsCache)})()}getHeartbeatsHeader(){var we=this;return(0,u.Z)(function*(){if(null===we._heartbeatsCache&&(yield we._heartbeatsCachePromise),null===we._heartbeatsCache||0===we._heartbeatsCache.heartbeats.length)return"";const Ge=Ht(),{heartbeatsToSend:ht,unsentEntries:ct}=function Br(ze,we=1024){const Ge=[];let ht=ze.slice();for(const ct of ze){const bt=Ge.find(j=>j.agent===ct.agent);if(bt){if(bt.dates.push(ct.date),kn(Ge)>we){bt.dates.pop();break}}else if(Ge.push({agent:ct.agent,dates:[ct.date]}),kn(Ge)>we){Ge.pop();break}ht=ht.slice(1)}return{heartbeatsToSend:Ge,unsentEntries:ht}}(we._heartbeatsCache.heartbeats),bt=(0,se.L)(JSON.stringify({version:2,heartbeats:ht}));return we._heartbeatsCache.lastSentHeartbeatDate=Ge,ct.length>0?(we._heartbeatsCache.heartbeats=ct,yield we._storage.overwrite(we._heartbeatsCache)):(we._heartbeatsCache.heartbeats=[],we._storage.overwrite(we._heartbeatsCache)),bt})()}}function Ht(){return(new Date).toISOString().substring(0,10)}class jt{constructor(we){this.app=we,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var we=this;return(0,u.Z)(function*(){return(yield we._canUseIndexedDBPromise)&&(yield function ot(ze){return Qe.apply(this,arguments)}(we.app))||{heartbeats:[]}})()}overwrite(we){var Ge=this;return(0,u.Z)(function*(){var ht;if(yield Ge._canUseIndexedDBPromise){const bt=yield Ge.read();return $t(Ge.app,{lastSentHeartbeatDate:null!==(ht=we.lastSentHeartbeatDate)&&void 0!==ht?ht:bt.lastSentHeartbeatDate,heartbeats:we.heartbeats})}})()}add(we){var Ge=this;return(0,u.Z)(function*(){var ht;if(yield Ge._canUseIndexedDBPromise){const bt=yield Ge.read();return $t(Ge.app,{lastSentHeartbeatDate:null!==(ht=we.lastSentHeartbeatDate)&&void 0!==ht?ht:bt.lastSentHeartbeatDate,heartbeats:[...bt.heartbeats,...we.heartbeats]})}})()}}function kn(ze){return(0,se.L)(JSON.stringify({version:2,heartbeats:ze})).length}!function lr(ze){sr(new J.wA("platform-logger",we=>new le(we),"PRIVATE")),sr(new J.wA("heartbeat",we=>new Ci(we),"PRIVATE")),er(ce,"0.8.3",ze),er(ce,"0.8.3","esm2017"),er("fire-js","")}("")},4859:(Je,Ee,k)=>{k.d(Ee,{H0:()=>ce,wA:()=>R,zt:()=>ie});var u=k(5861),J=k(2090);class R{constructor(B,H,q){this.name=B,this.instanceFactory=H,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const se="[DEFAULT]";class ie{constructor(B,H){this.name=B,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const H=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(H)){const q=new J.BH;if(this.instancesDeferred.set(H,q),this.isInitialized(H)||this.shouldAutoInitialize())try{const xe=this.getOrInitializeService({instanceIdentifier:H});xe&&q.resolve(xe)}catch{}}return this.instancesDeferred.get(H).promise}getImmediate(B){var H;const q=this.normalizeInstanceIdentifier(B?.identifier),xe=null!==(H=B?.optional)&&void 0!==H&&H;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if(xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(Te){if(xe)return null;throw Te}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function oe(ue){return"EAGER"===ue.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[H,q]of this.instancesDeferred.entries()){const xe=this.normalizeInstanceIdentifier(H);try{const Te=this.getOrInitializeService({instanceIdentifier:xe});q.resolve(Te)}catch{}}}}clearInstance(B=se){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,u.Z)(function*(){const H=Array.from(B.instances.values());yield Promise.all([...H.filter(q=>"INTERNAL"in q).map(q=>q.INTERNAL.delete()),...H.filter(q=>"_delete"in q).map(q=>q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=se){return this.instances.has(B)}getOptions(B=se){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:H={}}=B,q=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(q))throw Error(`${this.name}(${q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const xe=this.getOrInitializeService({instanceIdentifier:q,options:H});for(const[Te,ye]of this.instancesDeferred.entries())q===this.normalizeInstanceIdentifier(Te)&&ye.resolve(xe);return xe}onInit(B,H){var q;const xe=this.normalizeInstanceIdentifier(H),Te=null!==(q=this.onInitCallbacks.get(xe))&&void 0!==q?q:new Set;Te.add(B),this.onInitCallbacks.set(xe,Te);const ye=this.instances.get(xe);return ye&&B(ye,xe),()=>{Te.delete(B)}}invokeOnInitCallbacks(B,H){const q=this.onInitCallbacks.get(H);if(q)for(const xe of q)try{xe(B,H)}catch{}}getOrInitializeService({instanceIdentifier:B,options:H={}}){let q=this.instances.get(B);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:(ue=B,ue===se?void 0:ue),options:H}),this.instances.set(B,q),this.instancesOptions.set(B,H),this.invokeOnInitCallbacks(q,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,q)}catch{}var ue;return q||null}normalizeInstanceIdentifier(B=se){return this.component?this.component.multipleInstances?B:se:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const H=this.getProvider(B.name);if(H.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);H.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const H=new ie(B,this);return this.providers.set(B,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(Je,Ee,k)=>{k.d(Ee,{Am:()=>ue,Ub:()=>ce,Yd:()=>oe,in:()=>J});const u=[];var J=(()=>{return(B=J||(J={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",J;var B})();const R={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},se=J.INFO,ie={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},le=(B,H,...q)=>{if(H<B.logLevel)return;const xe=(new Date).toISOString(),Te=ie[H];if(!Te)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Te](`[${xe}]  ${B.name}:`,...q)};class oe{constructor(H){this.name=H,this._logLevel=se,this._logHandler=le,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in J))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?R[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...H),this._logHandler(this,J.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...H),this._logHandler(this,J.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,J.INFO,...H),this._logHandler(this,J.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,J.WARN,...H),this._logHandler(this,J.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...H),this._logHandler(this,J.ERROR,...H)}}function ce(B){u.forEach(H=>{H.setLogLevel(B)})}function ue(B,H){for(const q of u){let xe=null;H&&H.level&&(xe=R[H.level]),q.userLogHandler=null===B?null:(Te,ye,...Ze)=>{const ge=Ze.map(he=>{if(null==he)return null;if("string"==typeof he)return he;if("number"==typeof he||"boolean"==typeof he)return he.toString();if(he instanceof Error)return he.message;try{return JSON.stringify(he)}catch{return null}}).filter(he=>he).join(" ");ye>=(xe??Te.logLevel)&&B({level:J[ye].toLowerCase(),message:ge,args:Ze,type:Te.name})}}}},8766:(Je,Ee,k)=>{k.d(Ee,{Lj:()=>Ie,X3:()=>Ke});var u=k(5861);let R,se;const oe=new WeakMap,ce=new WeakMap,ue=new WeakMap,B=new WeakMap,H=new WeakMap;let Te={get(U,pe,z){if(U instanceof IDBTransaction){if("done"===pe)return ce.get(U);if("objectStoreNames"===pe)return U.objectStoreNames||ue.get(U);if("store"===pe)return z.objectStoreNames[1]?void 0:z.objectStore(z.objectStoreNames[0])}return he(U[pe])},set:(U,pe,z)=>(U[pe]=z,!0),has:(U,pe)=>U instanceof IDBTransaction&&("done"===pe||"store"===pe)||pe in U};function ge(U){return"function"==typeof U?function Ze(U){return U!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function le(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(U)?function(...pe){return U.apply(We(this),pe),he(oe.get(this))}:function(...pe){return he(U.apply(We(this),pe))}:function(pe,...z){const Q=U.call(We(this),pe,...z);return ue.set(Q,pe.sort?pe.sort():[pe]),he(Q)}}(U):(U instanceof IDBTransaction&&function xe(U){if(ce.has(U))return;const pe=new Promise((z,Q)=>{const re=()=>{U.removeEventListener("complete",ne),U.removeEventListener("error",Oe),U.removeEventListener("abort",Oe)},ne=()=>{z(),re()},Oe=()=>{Q(U.error||new DOMException("AbortError","AbortError")),re()};U.addEventListener("complete",ne),U.addEventListener("error",Oe),U.addEventListener("abort",Oe)});ce.set(U,pe)}(U),((U,pe)=>pe.some(z=>U instanceof z))(U,function ie(){return R||(R=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(U,Te):U)}function he(U){if(U instanceof IDBRequest)return function q(U){const pe=new Promise((z,Q)=>{const re=()=>{U.removeEventListener("success",ne),U.removeEventListener("error",Oe)},ne=()=>{z(he(U.result)),re()},Oe=()=>{Q(U.error),re()};U.addEventListener("success",ne),U.addEventListener("error",Oe)});return pe.then(z=>{z instanceof IDBCursor&&oe.set(z,U)}).catch(()=>{}),H.set(pe,U),pe}(U);if(B.has(U))return B.get(U);const pe=ge(U);return pe!==U&&(B.set(U,pe),H.set(pe,U)),pe}const We=U=>H.get(U);function Ke(U,pe,{blocked:z,upgrade:Q,blocking:re,terminated:ne}={}){const Oe=indexedDB.open(U,pe),Pe=he(Oe);return Q&&Oe.addEventListener("upgradeneeded",et=>{Q(he(Oe.result),et.oldVersion,et.newVersion,he(Oe.transaction))}),z&&Oe.addEventListener("blocked",()=>z()),Pe.then(et=>{ne&&et.addEventListener("close",()=>ne()),re&&et.addEventListener("versionchange",()=>re())}).catch(()=>{}),Pe}function Ie(U,{blocked:pe}={}){const z=indexedDB.deleteDatabase(U);return pe&&z.addEventListener("blocked",()=>pe()),he(z).then(()=>{})}const me=["get","getKey","getAll","getAllKeys","count"],Ce=["put","add","delete","clear"],ke=new Map;function Fe(U,pe){if(!(U instanceof IDBDatabase)||pe in U||"string"!=typeof pe)return;if(ke.get(pe))return ke.get(pe);const z=pe.replace(/FromIndex$/,""),Q=pe!==z,re=Ce.includes(z);if(!(z in(Q?IDBIndex:IDBObjectStore).prototype)||!re&&!me.includes(z))return;const ne=function(){var Oe=(0,u.Z)(function*(Pe,...et){const Ut=this.transaction(Pe,re?"readwrite":"readonly");let St=Ut.store;return Q&&(St=St.index(et.shift())),(yield Promise.all([St[z](...et),re&&Ut.done]))[0]});return function(et){return Oe.apply(this,arguments)}}();return ke.set(pe,ne),ne}!function ye(U){Te=U(Te)}(U=>({...U,get:(pe,z,Q)=>Fe(pe,z)||U.get(pe,z,Q),has:(pe,z)=>!!Fe(pe,z)||U.has(pe,z)}))},5861:(Je,Ee,k)=>{function u(R,se,ie,le,oe,ce,ue){try{var B=R[ce](ue),H=B.value}catch(q){return void ie(q)}B.done?se(H):Promise.resolve(H).then(le,oe)}function J(R){return function(){var se=this,ie=arguments;return new Promise(function(le,oe){var ce=R.apply(se,ie);function ue(H){u(ce,le,oe,ue,B,"next",H)}function B(H){u(ce,le,oe,ue,B,"throw",H)}ue(void 0)})}}k.d(Ee,{Z:()=>J})}},Je=>{Je(Je.s=7081)}]);